const __vite__fileDeps=["./Dashbord-sFHY2dTM.js","./Loader-BUXOLHKX.js","./Loader-B-LCYOyv.css","./Form-ExWjSL5Y.js","./ThemeProvider-BovkV_tw.js","./index-tz1zYP65.js","./ElementChildren-DV238mrs.js","./Col-BflThe67.js","./DashbordData-n50t2wKP.js","./createSvgIcon-BXb30exD.js","./createSvgIcon-CvFBLNCx.js","./emotion-react.browser.esm-CGVHAuF1.js","./hoist-non-react-statics.cjs-B8tJyPPZ.js","./emotion-is-prop-valid.esm-BquxX9m-.js","./ownerWindow-B35kT-qP.js","./useId-BCOK0MJf.js","./useIsFocusVisible-CYy9vjXn.js","./useControlled-CSwFU9cf.js","./Close-Dzfaz63K.js","./common.constants-BAKO8LyS.js","./Button-CasUi-tz.js","./ButtonBase-Dp3TaUiU.js","./assertThisInitialized-B9jnkVVz.js","./TransitionGroupContext-QmIPOmoK.js","./Modal-Cgbm8Po3.js","./isHostComponent-D6l1mxjA.js","./Transition-yovTjeQN.js","./Portal-BnZs0see.js","./Box-Jn0s_-VR.js","./CreatePaymentMethods-KwAmOS9L.js","./react-select.esm-DWB7Uees.js","./defineProperty-DJACW-dl.js","./typeof-QjJsDpFa.js","./Container-D9at3elR.js","./Row-q1SNRrbp.js","./Modal-CsKgPfCY.js","./listen-DOhMskc_.js","./useWindow-BRfE8g8U.js","./useEventCallback-BAoW58St.js","./useMergedRefs-CC2NoeT3.js","./useWillUnmount-B2faAFH4.js","./TransitionWrapper-hzIxZzZF.js","./useMounted-_Ax2eNue.js","./usePrevious-DSHR52O9.js","./DataKey-COGXBUcQ.js","./ImperativeTransition-r3w4KPGy.js","./useIsomorphicEffect-Dy1EPX0O.js","./NoopTransition-DCT8I71y.js","./removeClass-loOrDRrx.js","./hasClass-D5ZjVvBY.js","./Fade-C3nPY4By.js","./CloseButton-BaMgJgcS.js","./divWithClassName-BYsY4_Vt.js","./Button-BsmK-xwD.js","./Button-wtvkehlk.js","./UpdatePaymentMethods-6Pb_f1Iw.js","./FileManagerDashboard-D9hblwKa.js","./PageHeader-6CScOhCz.js","./ProgressBar-C1a-Tmcj.js","./FileManagerData-C5Rp4o6J.js","./11-CdwUcMCg.js","./AddPoints-DlhusqvR.js","./Users-CTkgu7ck.js","./moment-CAEcp8GN.js","./ModalComponent-Can9sfzz.js","./ModalComponentPopup-D_u4dGYC.js","./Apple-DHOZrOuh.js","./Android-xQs9HrEm.js","./NoRecordWithAddBtn-DmeiGlWH.js","./FileSaver.min-x92xCJF9.js","./Tooltip-DYflzQT5.js","./createPopper-iTKh2FQm.js","./Pagination-DBwceeB_.js","./Inbox-BBRLqzNP.js","./Dropdown-Ch9aBKyy.js","./SSRProvider-B1aayNdq.js","./NavContext-iw-sc-NQ.js","./mergeOptionsWithPopperConfig-B7-DhFAF.js","./hook-BunR6YGu.js","./Anchor-BcSSV2GN.js","./NavbarContext-BEl9KYy_.js","./jodit-react-DkS4Tuh2.js","./Chat-BxBNFg53.js","./avatar1-CEnBhQCZ.js","./avatar2--WcZpazd.js","./avatar3-D8r90XGE.js","./avatar7-D7_qMKWx.js","./Calendar-DzPh9Bqb.js","./user-BMU0A5Kq.js","./avatar4-RedQCuya.js","./avatar5-BqZhWWkl.js","./AppData-Dz4Ljvsk.js","./avatar1-baepwfRn.js","./avatar2-DKXcuR9s.js","./avatar4-4B5Szdd0.js","./avatar5-ImCyZrAR.js","./Contact-BbvezgsY.js","./Taskbar-_vk_52ZQ.js","./Documents-BnxWpd6P.js","./FileDocumentCard-DMHcGBRZ.js","./Media-Cp_pQa3g.js","./Images-D-sjhqa_.js","./NewPost-BkzEmmTT.js","./BlogDetails-BXR3lBSv.js","./BlogData-CtKhMSZI.js","./BlogReplyCard-DltG6S0A.js","./BlogList-CWGmj48a.js","./Typography-JWxRSf6m.js","./Tabs-DNouq_3T.js","./Button-BMg0r5fv.js","./BootstrapUI-MGNF7dMI.js","./Alert-BNunMx_-.js","./Accordion-Bh_-LEHb.js","./Card-BycBaKNv.js","./CardHeaderContext-B_y6kemd.js","./useTimeout-DJTRi4Dn.js","./Image-CpAZB3sv.js","./Icons-BkCBV-JF.js","./Notifications-BH8T2_Oe.js","./Colors-C2s_bRAc.js","./ListGroup-rNGbtpqk.js","./MediaObject-YWEjJvy8.js","./Modals-zuq0HMbh.js","./ProgressBar-C-Xm0unj.js","./Data-BJGZO9Li.js","./FollowersCard-Dio0FVun.js","./space-ship-ry01zHey.js","./Weather-DSGMv-Bv.js","./Blog-ReGbY3GL.js","./ECommers-CcfG21n0.js","./BlankPage-KJVeV3RT.js","./ProfileV1-DyQ7RFBn.js","./Tabs-CzjSRZ0v.js","./Nav-sK5urYj2.js","./ProfileV2-BzcuGOFq.js","./Charts-x_0T5UJj.js","./ImageGallery-2EyPioB6.js","./ImageGallery-CBoRaf2Y.css","./TimeLine-B-nu7I6S.js","./Pricing-qIC_BORh.js","./Pages-DrD4Fyje.js","./Invoices-CTpT1_dR.js","./InvoicesV2-dhBrOlwK.js","./SearchResults-Do2g5fLc.js","./HelperClass-1Mbhxf-G.js","./TeamsBoard-D-lTd198.js","./ProjectsList-CNYPwE69.js","./Testimonials-xzNoz-vj.js","./Faqs-CVKhaTC8.js","./FormValidation-DlHQcIb2.js","./BasicElements-DF2pR_0M.js","./TableNormal-CrRvXXei.js","./Echart-Cr2RQrIB.js","./GoogleMaps-B4JwemKw.js","./GoogleMaps-HupOsEJb.css","./Chat-DHA-llsR.js","./websocket-BCwtcDbZ.js","./entry-CIwNgoQK.js","./Conference-DKKWavxJ.js","./Conference-6_x7GxAv.css","./FlightEnquiry-DCQSn7rs.js","./Promocode-CxW_dHLt.js","./ExchangeRate-BCaSZv9o.js","./NoRecord-YEWFTOK2.js","./IndividualUser-B4vcNlCT.js","./Info-D_VAwJ1h.js","./Verified-B1gjm-6r.js","./Chip-D__LQUMY.js","./UploadFiles-BzTfT1IO.js","./CurrencyExchange-xfR7NC9C.js","./List-DLO7RK4x.js","./dividerClasses-DcBwlD7o.js","./styled-BOA1IAlI.js","./Grid-id85xLWy.js","./FormControlLabel-ClmJ5AOu.js","./useFormControl-CzMDRFSC.js","./Typography-BcWyJy-x.js","./Checkbox-Duf4e5Hv.js","./Switch-DhwBSzVW.js","./ListItem-BYnaDN6e.js","./RemoveRedEye-CUxvqEwQ.js","./Lock-DzvnwpkA.js","./Menu-CCA4zl2y.js","./Table-AlyK2NrT.js","./IconButton-BzGgG0Jk.js","./Collapse-Bx7dZL13.js","./FormGroup-DdH-ssQh.js","./UploadFiles-BCDpbYpp.css","./ExpandMore-BtEnxkMq.js","./useSlot-BwsY1ywl.js","./format-BnLxBcRR.js","./ExchangeRateForm-CnijC9uB.js","./DeliveryMethod-Bz5Y-LZn.js","./DeliveryMethodCreate-HbGsE4x9.js","./ServiceCharge-wpzbopLq.js","./ServiceCharge-CckSMu8l.css","./CreateServiceCharge-CIMBm6tv.js","./IdIssuingAuthority-BAVGIjtb.js","./CreateIdIssuingAuthority-CFh4B6Y0.js","./PartnerBank-DNTPslId.js","./CreatePartnerBank-JcUbyidu.js","./PaymentMethods-BPAXuqK9.js","./PaymentMethods-Bif9VgY5.css","./CountrySettings-BpbFgSXF.js","./CountrySettings-DfY5X9Uj.css","./RiskManagement-IE7i5vp3.js","./CreateRiskManagement-D-wgJ2Sp.js","./Recievers-BALvRZHD.js","./NotificationTemplate-DiFRRtdI.js","./NotificationTemplateCreate-CbXbtqZU.js","./react-draft-wysiwyg-DGDLocOJ.js","./react-draft-wysiwyg-MA6gotrT.css","./NotificationTemplateCreate-C_Hx_s5J.css","./Compliance-DtIImHIh.js","./Compliance-DHlozQIa.css","./Rewards-Fe6zLDYv.js","./Rewards-DvOHDcFo.css","./Accounts-B0RicB9I.js","./Accounts-JL3sPcH7.css","./Agents-Btl_OUpK.js","./PayoutPartner-pET7qIDq.js","./PurposeOfTransfer-BNDeoELJ.js","./Relation-STveKPvK.js","./Occupation-BXY-fATw.js","./TypeOfID-C7R9klFB.js","./CreateTypeOfID-IkvJ5VhQ.js","./SendMoneyForms-ilZ8DBJ7.js","./UtilityServiceTransaction-Dwq8K2e9.js","./comingSoon-DaAQXnQE.js","./UtilityServiceTransaction-20s2KriJ.css","./ReportedFund-CTepNAZD.js","./ReportedFund-CbB5lqXR.css","./Complaints-szz8M4VX.js","./DeviceInfo-DWTPY62S.js","./DeviceInfo-Cc3oiq1o.css","./Reviews-BOqtQidj.js","./defaultAvatar-CJF19Wb_.js","./ApiLogs-WAg3fpJ2.js","./Refunds-CpBkUgeU.js","./CountrySettingList-CpaOyi0p.js","./DeliveryMethodList-ZO01nN5Y.js","./AddDeliveryType-DgY4Fd2J.js","./PaymentType-rlIUaO0G.js","./AddPaymenttype-CyIKfqyq.js","./SendMoneyFormsCreate-EtUh9XuA.js","./TransactionViewPage-D6oU6ZLJ.js","./TransactionViewPage-Dm1IGWog.css","./UserTransactionView-BL71VNN5.js","./TransactionInvoice-DonKU1Qr.js","./TransactionInvoice-DAqHXu-z.css","./AddAccounts-Rj8sQMkn.js","./ChatScreen-hrqafz7u.js","./ChatScreen-cjr1TKoh.css","./TableResponsive-B5ehPWNk.js","./KeyboardArrowDown-CtuuNrS3.js","./Divider-ii7tJr7J.js","./useMediaQuery-DWBAZRDH.js","./colorManipulator-qlAocAFq.js","./TableResponsive-Benys91_.css","./KycFormManagement-USpEP1Ja.js","./ContactUs-BuGbKbNb.js","./FAQContent-B3WT_NEs.js","./index-DJ4Vaf5X.js","./FAQContent-BqbVgkhh.css","./AddFAQContent-bOp2sCZz.js","./CMSManagement-BsBuQ6tL.js","./EditCMSPage-DpBntLUg.js","./AboutUSContent-CWp4VgA_.js","./EditAboutUSContentPage-D8-NfWVA.js","./OurAgents-DbpHBWyU.js","./AgentDetails-C5qRdcrj.js","./BlogsManagement-BxwteBZx.js","./EditBlogsManagement-DpNntlrz.js","./CareerManagement-BZiXrJQK.js","./ViewCareerManagement-CIwY489Y.js","./EditReviews-DKckga9K.js","./NewsPage-Bd7INwkJ.js","./AddCareerManagement-2bnoF286.js","./Notification-CooEX3PR.js","./Notification-BPly3N35.css","./Configuration-C6hZd58s.js","./AddUpdateConfig-v6tzb5fZ.js","./CancelTransactions-BJMGKTLw.js","./AppLayout-CN3KAFnJ.js","./Footer-BDcizlln.js","./ListGroup-SxDUzWIU.js","./index-D-xVCaEi.js","./Footer-BT2SzuY1.css","./Logo-LR-BlPl59y2.js","./CButton-lfoW378t.js","./Nabvar-BhaemgR0.css","./DashboardLayout-BkNn4uHB.js","./NewProfilePage-DCskZ3Tm.js","./Email-Dz6_QFAS.js","./object-Bayh73Pv.js","./TextField-B0_iTAre.js","./Smartphone-B6Nz4yaH.js","./NewSignUpPage-CroAaTjp.js","./VisibilityOff-DzAPYV_A.js","./Home-DABRnRDN.js","./Home-CYj3aW8T.css","./NewLoginPage-BOOyAzUc.js","./LoginAvatar-CZf0WU2p.js","./ForgotPassword-B23_8LyB.js","./ForgotPassword-Bd5Le7gl.css","./VerifyEmailPage-BBJeRap-.js","./Page403-BYi_G6JP.js","./logo-white-BnUb00ly.js","./Page500-B3zMMXCL.js","./Page503-B1o36C7x.js","./DynamicCMSPage-BtuI0Ab4.js","./Registration-CpebzzEg.js","./Lockscreen-Lge4YpBn.js","./AboutUsPage-DLm7OosP.js","./AboutUsPage-Do3IyiAF.css","./ContactUsPage-DJJdo0_c.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
function Sy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hm={},Ls=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof hm<"u"?hm:typeof self<"u"?self:{};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ty(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var ky={exports:{}},Au={},Ey={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),z_=Symbol.for("react.portal"),V_=Symbol.for("react.fragment"),G_=Symbol.for("react.strict_mode"),H_=Symbol.for("react.profiler"),W_=Symbol.for("react.provider"),q_=Symbol.for("react.context"),K_=Symbol.for("react.forward_ref"),Q_=Symbol.for("react.suspense"),Y_=Symbol.for("react.memo"),J_=Symbol.for("react.lazy"),fm=Symbol.iterator;function X_(e){return e===null||typeof e!="object"?null:(e=fm&&e[fm]||e["@@iterator"],typeof e=="function"?e:null)}var by={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_y=Object.assign,Py={};function Ms(e,t,r){this.props=e,this.context=t,this.refs=Py,this.updater=r||by}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wy(){}wy.prototype=Ms.prototype;function nf(e,t,r){this.props=e,this.context=t,this.refs=Py,this.updater=r||by}var sf=nf.prototype=new wy;sf.constructor=nf;_y(sf,Ms.prototype);sf.isPureReactComponent=!0;var pm=Array.isArray,Cy=Object.prototype.hasOwnProperty,of={current:null},Ry={key:!0,ref:!0,__self:!0,__source:!0};function Ay(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Cy.call(t,n)&&!Ry.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ca,type:e,key:s,ref:o,props:i,_owner:of.current}}function Z_(e,t){return{$$typeof:ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function af(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca}function eP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mm=/\/+/g;function bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?eP(""+e.key):t.toString(36)}function ol(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ca:case z_:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+bc(o,0):n,pm(i)?(r="",e!=null&&(r=e.replace(mm,"$&/")+"/"),ol(i,t,r,"",function(u){return u})):i!=null&&(af(i)&&(i=Z_(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mm,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",pm(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+bc(s,a);o+=ol(s,t,r,l,i)}else if(l=X_(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+bc(s,a++),o+=ol(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ma(e,t,r){if(e==null)return e;var n=[],i=0;return ol(e,n,"","",function(s){return t.call(r,s,i++)}),n}function tP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ft={current:null},al={transition:null},rP={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:al,ReactCurrentOwner:of};function Iy(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Ma,forEach:function(e,t,r){Ma(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ma(e,function(){t++}),t},toArray:function(e){return Ma(e,function(t){return t})||[]},only:function(e){if(!af(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Ms;we.Fragment=V_;we.Profiler=H_;we.PureComponent=nf;we.StrictMode=G_;we.Suspense=Q_;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;we.act=Iy;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_y({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=of.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Cy.call(t,l)&&!Ry.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ca,type:e.type,key:i,ref:s,props:n,_owner:o}};we.createContext=function(e){return e={$$typeof:q_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:W_,_context:e},e.Consumer=e};we.createElement=Ay;we.createFactory=function(e){var t=Ay.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:K_,render:e}};we.isValidElement=af;we.lazy=function(e){return{$$typeof:J_,_payload:{_status:-1,_result:e},_init:tP}};we.memo=function(e,t){return{$$typeof:Y_,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};we.unstable_act=Iy;we.useCallback=function(e,t){return Ft.current.useCallback(e,t)};we.useContext=function(e){return Ft.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ft.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ft.current.useEffect(e,t)};we.useId=function(){return Ft.current.useId()};we.useImperativeHandle=function(e,t,r){return Ft.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return Ft.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ft.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ft.current.useMemo(e,t)};we.useReducer=function(e,t,r){return Ft.current.useReducer(e,t,r)};we.useRef=function(e){return Ft.current.useRef(e)};we.useState=function(e){return Ft.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return Ft.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return Ft.current.useTransition()};we.version="18.3.1";Ey.exports=we;var $=Ey.exports;const I=rn($),Oo=Sy({__proto__:null,default:I},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=$,iP=Symbol.for("react.element"),sP=Symbol.for("react.fragment"),oP=Object.prototype.hasOwnProperty,aP=nP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lP={key:!0,ref:!0,__self:!0,__source:!0};function Oy(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)oP.call(t,n)&&!lP.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:iP,type:e,key:s,ref:o,props:i,_owner:aP.current}}Au.Fragment=sP;Au.jsx=Oy;Au.jsxs=Oy;ky.exports=Au;var R=ky.exports,yd={},Dy={exports:{}},cr={},xy={exports:{}},Ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(g,b){var P=g.length;g.push(b);e:for(;0<P;){var C=P-1>>>1,A=g[C];if(0<i(A,b))g[C]=b,g[P]=A,P=C;else break e}}function r(g){return g.length===0?null:g[0]}function n(g){if(g.length===0)return null;var b=g[0],P=g.pop();if(P!==b){g[0]=P;e:for(var C=0,A=g.length,D=A>>>1;C<D;){var N=2*(C+1)-1,G=g[N],x=N+1,H=g[x];if(0>i(G,P))x<A&&0>i(H,G)?(g[C]=H,g[x]=P,C=x):(g[C]=G,g[N]=P,C=N);else if(x<A&&0>i(H,P))g[C]=H,g[x]=P,C=x;else break e}}return b}function i(g,b){var P=g.sortIndex-b.sortIndex;return P!==0?P:g.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(g){for(var b=r(u);b!==null;){if(b.callback===null)n(u);else if(b.startTime<=g)n(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=r(u)}}function w(g){if(p=!1,S(g),!m)if(r(l)!==null)m=!0,W(F);else{var b=r(u);b!==null&&X(w,b.startTime-g)}}function F(g,b){m=!1,p&&(p=!1,T(z),z=-1),f=!0;var P=h;try{for(S(b),d=r(l);d!==null&&(!(d.expirationTime>b)||g&&!re());){var C=d.callback;if(typeof C=="function"){d.callback=null,h=d.priorityLevel;var A=C(d.expirationTime<=b);b=e.unstable_now(),typeof A=="function"?d.callback=A:d===r(l)&&n(l),S(b)}else n(l);d=r(l)}if(d!==null)var D=!0;else{var N=r(u);N!==null&&X(w,N.startTime-b),D=!1}return D}finally{d=null,h=P,f=!1}}var U=!1,L=null,z=-1,J=5,Q=-1;function re(){return!(e.unstable_now()-Q<J)}function de(){if(L!==null){var g=e.unstable_now();Q=g;var b=!0;try{b=L(!0,g)}finally{b?ce():(U=!1,L=null)}}else U=!1}var ce;if(typeof y=="function")ce=function(){y(de)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,j=te.port2;te.port1.onmessage=de,ce=function(){j.postMessage(null)}}else ce=function(){k(de,0)};function W(g){L=g,U||(U=!0,ce())}function X(g,b){z=k(function(){g(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(g){g.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,W(F))},e.unstable_forceFrameRate=function(g){0>g||125<g?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<g?Math.floor(1e3/g):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(g){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var P=h;h=b;try{return g()}finally{h=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(g,b){switch(g){case 1:case 2:case 3:case 4:case 5:break;default:g=3}var P=h;h=g;try{return b()}finally{h=P}},e.unstable_scheduleCallback=function(g,b,P){var C=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?C+P:C):P=C,g){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=P+A,g={id:c++,callback:b,priorityLevel:g,startTime:P,expirationTime:A,sortIndex:-1},P>C?(g.sortIndex=P,t(u,g),r(l)===null&&g===r(u)&&(p?(T(z),z=-1):p=!0,X(w,P-C))):(g.sortIndex=A,t(l,g),m||f||(m=!0,W(F))),g},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(g){var b=h;return function(){var P=h;h=b;try{return g.apply(this,arguments)}finally{h=P}}}})(Ly);xy.exports=Ly;var uP=xy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=$,ar=uP;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var My=new Set,Do={};function Li(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Do[e]=t,e=0;e<t.length;e++)My.add(t[e])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,dP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},vm={};function hP(e){return Sd.call(vm,e)?!0:Sd.call(gm,e)?!1:dP.test(e)?vm[e]=!0:(gm[e]=!0,!1)}function fP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pP(e,t,r,n){if(t===null||typeof t>"u"||fP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var lf=/[\-:]([a-z])/g;function uf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lf,uf);bt[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lf,uf);bt[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lf,uf);bt[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function cf(e,t,r,n){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pP(t,r,i,n)&&(r=null),n||i===null?hP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _n=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),Ki=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),df=Symbol.for("react.strict_mode"),Td=Symbol.for("react.profiler"),Ny=Symbol.for("react.provider"),$y=Symbol.for("react.context"),hf=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Ed=Symbol.for("react.suspense_list"),ff=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Fy=Symbol.for("react.offscreen"),ym=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=ym&&e[ym]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,_c;function fo(e){if(_c===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_c=t&&t[1]||""}return`
`+_c+e}var Pc=!1;function wc(e,t){if(!e||Pc)return"";Pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fo(e):""}function mP(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=wc(e.type,!1),e;case 11:return e=wc(e.type.render,!1),e;case 1:return e=wc(e.type,!0),e;default:return""}}function bd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qi:return"Fragment";case Ki:return"Portal";case Td:return"Profiler";case df:return"StrictMode";case kd:return"Suspense";case Ed:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $y:return(e.displayName||"Context")+".Consumer";case Ny:return(e._context.displayName||"Context")+".Provider";case hf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ff:return t=e.displayName||null,t!==null?t:bd(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return bd(e(t))}catch{}}return null}function gP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bd(t);case 8:return t===df?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vP(e){var t=jy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $a(e){e._valueTracker||(e._valueTracker=vP(e))}function Uy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _d(e,t){var r=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function By(e,t){t=t.checked,t!=null&&cf(e,"checked",t,!1)}function Pd(e,t){By(e,t);var r=Jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wd(e,t.type,r):t.hasOwnProperty("defaultValue")&&wd(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function wd(e,t,r){(t!=="number"||Ml(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var po=Array.isArray;function as(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Cd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function km(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(po(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jn(r)}}function zy(e,t){var r=Jn(t.value),n=Jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Em(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fa,Gy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var To={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yP=["Webkit","ms","Moz","O"];Object.keys(To).forEach(function(e){yP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),To[t]=To[e]})});function Hy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||To.hasOwnProperty(e)&&To[e]?(""+t).trim():t+"px"}function Wy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Hy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var SP=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ad(e,t){if(t){if(SP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Id(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Od=null;function pf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dd=null,ls=null,us=null;function bm(e){if(e=fa(e)){if(typeof Dd!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Lu(t),Dd(e.stateNode,e.type,t))}}function qy(e){ls?us?us.push(e):us=[e]:ls=e}function Ky(){if(ls){var e=ls,t=us;if(us=ls=null,bm(e),t)for(e=0;e<t.length;e++)bm(t[e])}}function Qy(e,t){return e(t)}function Yy(){}var Cc=!1;function Jy(e,t,r){if(Cc)return e(t,r);Cc=!0;try{return Qy(e,t,r)}finally{Cc=!1,(ls!==null||us!==null)&&(Yy(),Ky())}}function Lo(e,t){var r=e.stateNode;if(r===null)return null;var n=Lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var xd=!1;if(vn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){xd=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{xd=!1}function TP(e,t,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var ko=!1,Nl=null,$l=!1,Ld=null,kP={onError:function(e){ko=!0,Nl=e}};function EP(e,t,r,n,i,s,o,a,l){ko=!1,Nl=null,TP.apply(kP,arguments)}function bP(e,t,r,n,i,s,o,a,l){if(EP.apply(this,arguments),ko){if(ko){var u=Nl;ko=!1,Nl=null}else throw Error(ee(198));$l||($l=!0,Ld=u)}}function Mi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Xy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _m(e){if(Mi(e)!==e)throw Error(ee(188))}function _P(e){var t=e.alternate;if(!t){if(t=Mi(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _m(i),e;if(s===n)return _m(i),t;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function Zy(e){return e=_P(e),e!==null?e0(e):null}function e0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=e0(e);if(t!==null)return t;e=e.sibling}return null}var t0=ar.unstable_scheduleCallback,Pm=ar.unstable_cancelCallback,PP=ar.unstable_shouldYield,wP=ar.unstable_requestPaint,Ze=ar.unstable_now,CP=ar.unstable_getCurrentPriorityLevel,mf=ar.unstable_ImmediatePriority,r0=ar.unstable_UserBlockingPriority,Fl=ar.unstable_NormalPriority,RP=ar.unstable_LowPriority,n0=ar.unstable_IdlePriority,Iu=null,Jr=null;function AP(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Iu,e,void 0,(e.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:DP,IP=Math.log,OP=Math.LN2;function DP(e){return e>>>=0,e===0?32:31-(IP(e)/OP|0)|0}var ja=64,Ua=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=mo(a):(s&=o,s!==0&&(n=mo(s)))}else o=r&~i,o!==0?n=mo(o):s!==0&&(n=mo(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ur(t),i=1<<r,n|=e[r],t&=~i;return n}function xP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ur(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=xP(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function i0(){var e=ja;return ja<<=1,!(ja&4194240)&&(ja=64),e}function Rc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function da(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ur(t),e[t]=r}function MP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ur(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function gf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ur(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xe=0;function s0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var o0,vf,a0,l0,u0,Nd=!1,Ba=[],zn=null,Vn=null,Gn=null,Mo=new Map,No=new Map,Nn=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(t.pointerId)}}function Zs(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=fa(t),t!==null&&vf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $P(e,t,r,n,i){switch(t){case"focusin":return zn=Zs(zn,e,t,r,n,i),!0;case"dragenter":return Vn=Zs(Vn,e,t,r,n,i),!0;case"mouseover":return Gn=Zs(Gn,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Mo.set(s,Zs(Mo.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,No.set(s,Zs(No.get(s)||null,e,t,r,n,i)),!0}return!1}function c0(e){var t=yi(e.target);if(t!==null){var r=Mi(t);if(r!==null){if(t=r.tag,t===13){if(t=Xy(r),t!==null){e.blockedOn=t,u0(e.priority,function(){a0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Od=n,r.target.dispatchEvent(n),Od=null}else return t=fa(r),t!==null&&vf(t),e.blockedOn=r,!1;t.shift()}return!0}function Cm(e,t,r){ll(e)&&r.delete(t)}function FP(){Nd=!1,zn!==null&&ll(zn)&&(zn=null),Vn!==null&&ll(Vn)&&(Vn=null),Gn!==null&&ll(Gn)&&(Gn=null),Mo.forEach(Cm),No.forEach(Cm)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Nd||(Nd=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,FP)))}function $o(e){function t(i){return eo(i,e)}if(0<Ba.length){eo(Ba[0],e);for(var r=1;r<Ba.length;r++){var n=Ba[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zn!==null&&eo(zn,e),Vn!==null&&eo(Vn,e),Gn!==null&&eo(Gn,e),Mo.forEach(t),No.forEach(t),r=0;r<Nn.length;r++)n=Nn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nn.length&&(r=Nn[0],r.blockedOn===null);)c0(r),r.blockedOn===null&&Nn.shift()}var cs=_n.ReactCurrentBatchConfig,Ul=!0;function jP(e,t,r,n){var i=xe,s=cs.transition;cs.transition=null;try{xe=1,yf(e,t,r,n)}finally{xe=i,cs.transition=s}}function UP(e,t,r,n){var i=xe,s=cs.transition;cs.transition=null;try{xe=4,yf(e,t,r,n)}finally{xe=i,cs.transition=s}}function yf(e,t,r,n){if(Ul){var i=$d(e,t,r,n);if(i===null)Fc(e,t,n,Bl,r),wm(e,n);else if($P(i,e,t,r,n))n.stopPropagation();else if(wm(e,n),t&4&&-1<NP.indexOf(e)){for(;i!==null;){var s=fa(i);if(s!==null&&o0(s),s=$d(e,t,r,n),s===null&&Fc(e,t,n,Bl,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Fc(e,t,n,null,r)}}var Bl=null;function $d(e,t,r,n){if(Bl=null,e=pf(n),e=yi(e),e!==null)if(t=Mi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Xy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bl=e,null}function d0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CP()){case mf:return 1;case r0:return 4;case Fl:case RP:return 16;case n0:return 536870912;default:return 16}default:return 16}}var Fn=null,Sf=null,ul=null;function h0(){if(ul)return ul;var e,t=Sf,r=t.length,n,i="value"in Fn?Fn.value:Fn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return ul=i.slice(e,1<n?1-n:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function za(){return!0}function Rm(){return!1}function dr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?za:Rm,this.isPropagationStopped=Rm,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=za)},persist:function(){},isPersistent:za}),t}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tf=dr(Ns),ha=Ke({},Ns,{view:0,detail:0}),BP=dr(ha),Ac,Ic,to,Ou=Ke({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Ac=e.screenX-to.screenX,Ic=e.screenY-to.screenY):Ic=Ac=0,to=e),Ac)},movementY:function(e){return"movementY"in e?e.movementY:Ic}}),Am=dr(Ou),zP=Ke({},Ou,{dataTransfer:0}),VP=dr(zP),GP=Ke({},ha,{relatedTarget:0}),Oc=dr(GP),HP=Ke({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),WP=dr(HP),qP=Ke({},Ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KP=dr(qP),QP=Ke({},Ns,{data:0}),Im=dr(QP),YP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XP[e])?!!t[e]:!1}function kf(){return ZP}var ew=Ke({},ha,{key:function(e){if(e.key){var t=YP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?JP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tw=dr(ew),rw=Ke({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Om=dr(rw),nw=Ke({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),iw=dr(nw),sw=Ke({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),ow=dr(sw),aw=Ke({},Ou,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lw=dr(aw),uw=[9,13,27,32],Ef=vn&&"CompositionEvent"in window,Eo=null;vn&&"documentMode"in document&&(Eo=document.documentMode);var cw=vn&&"TextEvent"in window&&!Eo,f0=vn&&(!Ef||Eo&&8<Eo&&11>=Eo),Dm=" ",xm=!1;function p0(e,t){switch(e){case"keyup":return uw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yi=!1;function dw(e,t){switch(e){case"compositionend":return m0(t);case"keypress":return t.which!==32?null:(xm=!0,Dm);case"textInput":return e=t.data,e===Dm&&xm?null:e;default:return null}}function hw(e,t){if(Yi)return e==="compositionend"||!Ef&&p0(e,t)?(e=h0(),ul=Sf=Fn=null,Yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return f0&&t.locale!=="ko"?null:t.data;default:return null}}var fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fw[e.type]:t==="textarea"}function g0(e,t,r,n){qy(n),t=zl(t,"onChange"),0<t.length&&(r=new Tf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bo=null,Fo=null;function pw(e){C0(e,0)}function Du(e){var t=Zi(e);if(Uy(t))return e}function mw(e,t){if(e==="change")return t}var v0=!1;if(vn){var Dc;if(vn){var xc="oninput"in document;if(!xc){var Mm=document.createElement("div");Mm.setAttribute("oninput","return;"),xc=typeof Mm.oninput=="function"}Dc=xc}else Dc=!1;v0=Dc&&(!document.documentMode||9<document.documentMode)}function Nm(){bo&&(bo.detachEvent("onpropertychange",y0),Fo=bo=null)}function y0(e){if(e.propertyName==="value"&&Du(Fo)){var t=[];g0(t,Fo,e,pf(e)),Jy(pw,t)}}function gw(e,t,r){e==="focusin"?(Nm(),bo=t,Fo=r,bo.attachEvent("onpropertychange",y0)):e==="focusout"&&Nm()}function vw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Fo)}function yw(e,t){if(e==="click")return Du(t)}function Sw(e,t){if(e==="input"||e==="change")return Du(t)}function Tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:Tw;function jo(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Sd.call(t,i)||!Vr(e[i],t[i]))return!1}return!0}function $m(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fm(e,t){var r=$m(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$m(r)}}function S0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T0(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ml(e.document)}return t}function bf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kw(e){var t=T0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S0(r.ownerDocument.documentElement,r)){if(n!==null&&bf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Fm(r,s);var o=Fm(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ew=vn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Fd=null,_o=null,jd=!1;function jm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jd||Ji==null||Ji!==Ml(n)||(n=Ji,"selectionStart"in n&&bf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_o&&jo(_o,n)||(_o=n,n=zl(Fd,"onSelect"),0<n.length&&(t=new Tf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ji)))}function Va(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xi={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},Lc={},k0={};vn&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function xu(e){if(Lc[e])return Lc[e];if(!Xi[e])return e;var t=Xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in k0)return Lc[e]=t[r];return e}var E0=xu("animationend"),b0=xu("animationiteration"),_0=xu("animationstart"),P0=xu("transitionend"),w0=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ti(e,t){w0.set(e,t),Li(t,[e])}for(var Mc=0;Mc<Um.length;Mc++){var Nc=Um[Mc],bw=Nc.toLowerCase(),_w=Nc[0].toUpperCase()+Nc.slice(1);ti(bw,"on"+_w)}ti(E0,"onAnimationEnd");ti(b0,"onAnimationIteration");ti(_0,"onAnimationStart");ti("dblclick","onDoubleClick");ti("focusin","onFocus");ti("focusout","onBlur");ti(P0,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function Bm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bP(n,t,void 0,e),e.currentTarget=null}function C0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bm(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bm(i,a,u),s=l}}}if($l)throw e=Ld,$l=!1,Ld=null,e}function Fe(e,t){var r=t[Gd];r===void 0&&(r=t[Gd]=new Set);var n=e+"__bubble";r.has(n)||(R0(t,e,2,!1),r.add(n))}function $c(e,t,r){var n=0;t&&(n|=4),R0(r,e,n,t)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Uo(e){if(!e[Ga]){e[Ga]=!0,My.forEach(function(r){r!=="selectionchange"&&(Pw.has(r)||$c(r,!1,e),$c(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ga]||(t[Ga]=!0,$c("selectionchange",!1,t))}}function R0(e,t,r,n){switch(d0(t)){case 1:var i=jP;break;case 4:i=UP;break;default:i=yf}r=i.bind(null,t,r,e),i=void 0,!xd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Fc(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=yi(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}Jy(function(){var u=s,c=pf(r),d=[];e:{var h=w0.get(e);if(h!==void 0){var f=Tf,m=e;switch(e){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":f=tw;break;case"focusin":m="focus",f=Oc;break;case"focusout":m="blur",f=Oc;break;case"beforeblur":case"afterblur":f=Oc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=iw;break;case E0:case b0:case _0:f=WP;break;case P0:f=ow;break;case"scroll":f=BP;break;case"wheel":f=lw;break;case"copy":case"cut":case"paste":f=KP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Om}var p=(t&4)!==0,k=!p&&e==="scroll",T=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,S;y!==null;){S=y;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,T!==null&&(w=Lo(y,T),w!=null&&p.push(Bo(y,w,S)))),k)break;y=y.return}0<p.length&&(h=new f(h,m,null,r,c),d.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&r!==Od&&(m=r.relatedTarget||r.fromElement)&&(yi(m)||m[yn]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=u,m=m?yi(m):null,m!==null&&(k=Mi(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=Am,w="onMouseLeave",T="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=Om,w="onPointerLeave",T="onPointerEnter",y="pointer"),k=f==null?h:Zi(f),S=m==null?h:Zi(m),h=new p(w,y+"leave",f,r,c),h.target=k,h.relatedTarget=S,w=null,yi(c)===u&&(p=new p(T,y+"enter",m,r,c),p.target=S,p.relatedTarget=k,w=p),k=w,f&&m)t:{for(p=f,T=m,y=0,S=p;S;S=Bi(S))y++;for(S=0,w=T;w;w=Bi(w))S++;for(;0<y-S;)p=Bi(p),y--;for(;0<S-y;)T=Bi(T),S--;for(;y--;){if(p===T||T!==null&&p===T.alternate)break t;p=Bi(p),T=Bi(T)}p=null}else p=null;f!==null&&zm(d,h,f,p,!1),m!==null&&k!==null&&zm(d,k,m,p,!0)}}e:{if(h=u?Zi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var F=mw;else if(Lm(h))if(v0)F=Sw;else{F=vw;var U=gw}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=yw);if(F&&(F=F(e,u))){g0(d,F,r,c);break e}U&&U(e,h,u),e==="focusout"&&(U=h._wrapperState)&&U.controlled&&h.type==="number"&&wd(h,"number",h.value)}switch(U=u?Zi(u):window,e){case"focusin":(Lm(U)||U.contentEditable==="true")&&(Ji=U,Fd=u,_o=null);break;case"focusout":_o=Fd=Ji=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,jm(d,r,c);break;case"selectionchange":if(Ew)break;case"keydown":case"keyup":jm(d,r,c)}var L;if(Ef)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Yi?p0(e,r)&&(z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(f0&&r.locale!=="ko"&&(Yi||z!=="onCompositionStart"?z==="onCompositionEnd"&&Yi&&(L=h0()):(Fn=c,Sf="value"in Fn?Fn.value:Fn.textContent,Yi=!0)),U=zl(u,z),0<U.length&&(z=new Im(z,e,null,r,c),d.push({event:z,listeners:U}),L?z.data=L:(L=m0(r),L!==null&&(z.data=L)))),(L=cw?dw(e,r):hw(e,r))&&(u=zl(u,"onBeforeInput"),0<u.length&&(c=new Im("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=L))}C0(d,t)})}function Bo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Lo(e,r),s!=null&&n.unshift(Bo(e,s,i)),s=Lo(e,t),s!=null&&n.push(Bo(e,s,i))),e=e.return}return n}function Bi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zm(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Lo(r,s),l!=null&&o.unshift(Bo(r,l,a))):i||(l=Lo(r,s),l!=null&&o.push(Bo(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var ww=/\r\n?/g,Cw=/\u0000|\uFFFD/g;function Vm(e){return(typeof e=="string"?e:""+e).replace(ww,`
`).replace(Cw,"")}function Ha(e,t,r){if(t=Vm(t),Vm(e)!==t&&r)throw Error(ee(425))}function Vl(){}var Ud=null,Bd=null;function zd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,Rw=typeof clearTimeout=="function"?clearTimeout:void 0,Gm=typeof Promise=="function"?Promise:void 0,Aw=typeof queueMicrotask=="function"?queueMicrotask:typeof Gm<"u"?function(e){return Gm.resolve(null).then(e).catch(Iw)}:Vd;function Iw(e){setTimeout(function(){throw e})}function jc(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),$o(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$o(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var $s=Math.random().toString(36).slice(2),Qr="__reactFiber$"+$s,zo="__reactProps$"+$s,yn="__reactContainer$"+$s,Gd="__reactEvents$"+$s,Ow="__reactListeners$"+$s,Dw="__reactHandles$"+$s;function yi(e){var t=e[Qr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yn]||r[Qr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hm(e);e!==null;){if(r=e[Qr])return r;e=Hm(e)}return t}e=r,r=e.parentNode}return null}function fa(e){return e=e[Qr]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Lu(e){return e[zo]||null}var Hd=[],es=-1;function ri(e){return{current:e}}function Ue(e){0>es||(e.current=Hd[es],Hd[es]=null,es--)}function Ne(e,t){es++,Hd[es]=e.current,e.current=t}var Xn={},Ot=ri(Xn),Vt=ri(!1),Ci=Xn;function Es(e,t){var r=e.type.contextTypes;if(!r)return Xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(e){return e=e.childContextTypes,e!=null}function Gl(){Ue(Vt),Ue(Ot)}function Wm(e,t,r){if(Ot.current!==Xn)throw Error(ee(168));Ne(Ot,t),Ne(Vt,r)}function A0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ee(108,gP(e)||"Unknown",i));return Ke({},r,n)}function Hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Ci=Ot.current,Ne(Ot,e),Ne(Vt,Vt.current),!0}function qm(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=A0(e,t,Ci),n.__reactInternalMemoizedMergedChildContext=e,Ue(Vt),Ue(Ot),Ne(Ot,e)):Ue(Vt),Ne(Vt,r)}var dn=null,Mu=!1,Uc=!1;function I0(e){dn===null?dn=[e]:dn.push(e)}function xw(e){Mu=!0,I0(e)}function ni(){if(!Uc&&dn!==null){Uc=!0;var e=0,t=xe;try{var r=dn;for(xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dn=null,Mu=!1}catch(i){throw dn!==null&&(dn=dn.slice(e+1)),t0(mf,ni),i}finally{xe=t,Uc=!1}}return null}var ts=[],rs=0,Wl=null,ql=0,vr=[],yr=0,Ri=null,hn=1,fn="";function pi(e,t){ts[rs++]=ql,ts[rs++]=Wl,Wl=e,ql=t}function O0(e,t,r){vr[yr++]=hn,vr[yr++]=fn,vr[yr++]=Ri,Ri=e;var n=hn;e=fn;var i=32-Ur(n)-1;n&=~(1<<i),r+=1;var s=32-Ur(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hn=1<<32-Ur(t)+i|r<<i|n,fn=s+e}else hn=1<<s|r<<i|n,fn=e}function _f(e){e.return!==null&&(pi(e,1),O0(e,1,0))}function Pf(e){for(;e===Wl;)Wl=ts[--rs],ts[rs]=null,ql=ts[--rs],ts[rs]=null;for(;e===Ri;)Ri=vr[--yr],vr[yr]=null,fn=vr[--yr],vr[yr]=null,hn=vr[--yr],vr[yr]=null}var sr=null,nr=null,Ve=!1,Mr=null;function D0(e,t){var r=Tr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Km(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sr=e,nr=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sr=e,nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ri!==null?{id:hn,overflow:fn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Tr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sr=e,nr=null,!0):!1;default:return!1}}function Wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qd(e){if(Ve){var t=nr;if(t){var r=t;if(!Km(e,t)){if(Wd(e))throw Error(ee(418));t=Hn(r.nextSibling);var n=sr;t&&Km(e,t)?D0(n,r):(e.flags=e.flags&-4097|2,Ve=!1,sr=e)}}else{if(Wd(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ve=!1,sr=e}}}function Qm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function Wa(e){if(e!==sr)return!1;if(!Ve)return Qm(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zd(e.type,e.memoizedProps)),t&&(t=nr)){if(Wd(e))throw x0(),Error(ee(418));for(;t;)D0(e,t),t=Hn(t.nextSibling)}if(Qm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nr=Hn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nr=null}}else nr=sr?Hn(e.stateNode.nextSibling):null;return!0}function x0(){for(var e=nr;e;)e=Hn(e.nextSibling)}function bs(){nr=sr=null,Ve=!1}function wf(e){Mr===null?Mr=[e]:Mr.push(e)}var Lw=_n.ReactCurrentBatchConfig;function ro(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ym(e){var t=e._init;return t(e._payload)}function L0(e){function t(T,y){if(e){var S=T.deletions;S===null?(T.deletions=[y],T.flags|=16):S.push(y)}}function r(T,y){if(!e)return null;for(;y!==null;)t(T,y),y=y.sibling;return null}function n(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=Qn(T,y),T.index=0,T.sibling=null,T}function s(T,y,S){return T.index=S,e?(S=T.alternate,S!==null?(S=S.index,S<y?(T.flags|=2,y):S):(T.flags|=2,y)):(T.flags|=1048576,y)}function o(T){return e&&T.alternate===null&&(T.flags|=2),T}function a(T,y,S,w){return y===null||y.tag!==6?(y=qc(S,T.mode,w),y.return=T,y):(y=i(y,S),y.return=T,y)}function l(T,y,S,w){var F=S.type;return F===Qi?c(T,y,S.props.children,w,S.key):y!==null&&(y.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===xn&&Ym(F)===y.type)?(w=i(y,S.props),w.ref=ro(T,y,S),w.return=T,w):(w=vl(S.type,S.key,S.props,null,T.mode,w),w.ref=ro(T,y,S),w.return=T,w)}function u(T,y,S,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Kc(S,T.mode,w),y.return=T,y):(y=i(y,S.children||[]),y.return=T,y)}function c(T,y,S,w,F){return y===null||y.tag!==7?(y=bi(S,T.mode,w,F),y.return=T,y):(y=i(y,S),y.return=T,y)}function d(T,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qc(""+y,T.mode,S),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Na:return S=vl(y.type,y.key,y.props,null,T.mode,S),S.ref=ro(T,null,y),S.return=T,S;case Ki:return y=Kc(y,T.mode,S),y.return=T,y;case xn:var w=y._init;return d(T,w(y._payload),S)}if(po(y)||Js(y))return y=bi(y,T.mode,S,null),y.return=T,y;qa(T,y)}return null}function h(T,y,S,w){var F=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return F!==null?null:a(T,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Na:return S.key===F?l(T,y,S,w):null;case Ki:return S.key===F?u(T,y,S,w):null;case xn:return F=S._init,h(T,y,F(S._payload),w)}if(po(S)||Js(S))return F!==null?null:c(T,y,S,w,null);qa(T,S)}return null}function f(T,y,S,w,F){if(typeof w=="string"&&w!==""||typeof w=="number")return T=T.get(S)||null,a(y,T,""+w,F);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Na:return T=T.get(w.key===null?S:w.key)||null,l(y,T,w,F);case Ki:return T=T.get(w.key===null?S:w.key)||null,u(y,T,w,F);case xn:var U=w._init;return f(T,y,S,U(w._payload),F)}if(po(w)||Js(w))return T=T.get(S)||null,c(y,T,w,F,null);qa(y,w)}return null}function m(T,y,S,w){for(var F=null,U=null,L=y,z=y=0,J=null;L!==null&&z<S.length;z++){L.index>z?(J=L,L=null):J=L.sibling;var Q=h(T,L,S[z],w);if(Q===null){L===null&&(L=J);break}e&&L&&Q.alternate===null&&t(T,L),y=s(Q,y,z),U===null?F=Q:U.sibling=Q,U=Q,L=J}if(z===S.length)return r(T,L),Ve&&pi(T,z),F;if(L===null){for(;z<S.length;z++)L=d(T,S[z],w),L!==null&&(y=s(L,y,z),U===null?F=L:U.sibling=L,U=L);return Ve&&pi(T,z),F}for(L=n(T,L);z<S.length;z++)J=f(L,T,z,S[z],w),J!==null&&(e&&J.alternate!==null&&L.delete(J.key===null?z:J.key),y=s(J,y,z),U===null?F=J:U.sibling=J,U=J);return e&&L.forEach(function(re){return t(T,re)}),Ve&&pi(T,z),F}function p(T,y,S,w){var F=Js(S);if(typeof F!="function")throw Error(ee(150));if(S=F.call(S),S==null)throw Error(ee(151));for(var U=F=null,L=y,z=y=0,J=null,Q=S.next();L!==null&&!Q.done;z++,Q=S.next()){L.index>z?(J=L,L=null):J=L.sibling;var re=h(T,L,Q.value,w);if(re===null){L===null&&(L=J);break}e&&L&&re.alternate===null&&t(T,L),y=s(re,y,z),U===null?F=re:U.sibling=re,U=re,L=J}if(Q.done)return r(T,L),Ve&&pi(T,z),F;if(L===null){for(;!Q.done;z++,Q=S.next())Q=d(T,Q.value,w),Q!==null&&(y=s(Q,y,z),U===null?F=Q:U.sibling=Q,U=Q);return Ve&&pi(T,z),F}for(L=n(T,L);!Q.done;z++,Q=S.next())Q=f(L,T,z,Q.value,w),Q!==null&&(e&&Q.alternate!==null&&L.delete(Q.key===null?z:Q.key),y=s(Q,y,z),U===null?F=Q:U.sibling=Q,U=Q);return e&&L.forEach(function(de){return t(T,de)}),Ve&&pi(T,z),F}function k(T,y,S,w){if(typeof S=="object"&&S!==null&&S.type===Qi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Na:e:{for(var F=S.key,U=y;U!==null;){if(U.key===F){if(F=S.type,F===Qi){if(U.tag===7){r(T,U.sibling),y=i(U,S.props.children),y.return=T,T=y;break e}}else if(U.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===xn&&Ym(F)===U.type){r(T,U.sibling),y=i(U,S.props),y.ref=ro(T,U,S),y.return=T,T=y;break e}r(T,U);break}else t(T,U);U=U.sibling}S.type===Qi?(y=bi(S.props.children,T.mode,w,S.key),y.return=T,T=y):(w=vl(S.type,S.key,S.props,null,T.mode,w),w.ref=ro(T,y,S),w.return=T,T=w)}return o(T);case Ki:e:{for(U=S.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){r(T,y.sibling),y=i(y,S.children||[]),y.return=T,T=y;break e}else{r(T,y);break}else t(T,y);y=y.sibling}y=Kc(S,T.mode,w),y.return=T,T=y}return o(T);case xn:return U=S._init,k(T,y,U(S._payload),w)}if(po(S))return m(T,y,S,w);if(Js(S))return p(T,y,S,w);qa(T,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(r(T,y.sibling),y=i(y,S),y.return=T,T=y):(r(T,y),y=qc(S,T.mode,w),y.return=T,T=y),o(T)):r(T,y)}return k}var _s=L0(!0),M0=L0(!1),Kl=ri(null),Ql=null,ns=null,Cf=null;function Rf(){Cf=ns=Ql=null}function Af(e){var t=Kl.current;Ue(Kl),e._currentValue=t}function Kd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ds(e,t){Ql=e,Cf=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(Cf!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(Ql===null)throw Error(ee(308));ns=e,Ql.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var Si=null;function If(e){Si===null?Si=[e]:Si.push(e)}function N0(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,If(t)):(r.next=i.next,i.next=r),t.interleaved=r,Sn(e,n)}function Sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ln=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Sn(e,r)}return i=n.interleaved,i===null?(t.next=t,If(n)):(t.next=i.next,i.next=t),n.interleaved=t,Sn(e,r)}function dl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gf(e,r)}}function Jm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yl(e,t,r,n){var i=e.updateQueue;Ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,p=a;switch(h=t,f=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=Ke({},d,h);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ii|=o,e.lanes=o,e.memoizedState=d}}function Xm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var pa={},Xr=ri(pa),Vo=ri(pa),Go=ri(pa);function Ti(e){if(e===pa)throw Error(ee(174));return e}function Df(e,t){switch(Ne(Go,t),Ne(Vo,e),Ne(Xr,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rd(t,e)}Ue(Xr),Ne(Xr,t)}function Ps(){Ue(Xr),Ue(Vo),Ue(Go)}function F0(e){Ti(Go.current);var t=Ti(Xr.current),r=Rd(t,e.type);t!==r&&(Ne(Vo,e),Ne(Xr,r))}function xf(e){Vo.current===e&&(Ue(Xr),Ue(Vo))}var We=ri(0);function Jl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bc=[];function Lf(){for(var e=0;e<Bc.length;e++)Bc[e]._workInProgressVersionPrimary=null;Bc.length=0}var hl=_n.ReactCurrentDispatcher,zc=_n.ReactCurrentBatchConfig,Ai=0,qe=null,at=null,dt=null,Xl=!1,Po=!1,Ho=0,Mw=0;function wt(){throw Error(ee(321))}function Mf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vr(e[r],t[r]))return!1;return!0}function Nf(e,t,r,n,i,s){if(Ai=s,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hl.current=e===null||e.memoizedState===null?jw:Uw,e=r(n,i),Po){s=0;do{if(Po=!1,Ho=0,25<=s)throw Error(ee(301));s+=1,dt=at=null,t.updateQueue=null,hl.current=Bw,e=r(n,i)}while(Po)}if(hl.current=Zl,t=at!==null&&at.next!==null,Ai=0,dt=at=qe=null,Xl=!1,t)throw Error(ee(300));return e}function $f(){var e=Ho!==0;return Ho=0,e}function Wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=e:dt=dt.next=e,dt}function Pr(){if(at===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=dt===null?qe.memoizedState:dt.next;if(t!==null)dt=t,at=e;else{if(e===null)throw Error(ee(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?qe.memoizedState=dt=e:dt=dt.next=e}return dt}function Wo(e,t){return typeof t=="function"?t(e):t}function Vc(e){var t=Pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=at,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Ai&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,qe.lanes|=c,Ii|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Vr(n,t.memoizedState)||(zt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,qe.lanes|=s,Ii|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gc(e){var t=Pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Vr(s,t.memoizedState)||(zt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function j0(){}function U0(e,t){var r=qe,n=Pr(),i=t(),s=!Vr(n.memoizedState,i);if(s&&(n.memoizedState=i,zt=!0),n=n.queue,Ff(V0.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,qo(9,z0.bind(null,r,n,i,t),void 0,null),ht===null)throw Error(ee(349));Ai&30||B0(r,t,i)}return i}function B0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function z0(e,t,r,n){t.value=r,t.getSnapshot=n,G0(t)&&H0(e)}function V0(e,t,r){return r(function(){G0(t)&&H0(e)})}function G0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vr(e,r)}catch{return!0}}function H0(e){var t=Sn(e,1);t!==null&&Br(t,e,1,-1)}function Zm(e){var t=Wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Fw.bind(null,qe,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function W0(){return Pr().memoizedState}function fl(e,t,r,n){var i=Wr();qe.flags|=e,i.memoizedState=qo(1|t,r,void 0,n===void 0?null:n)}function Nu(e,t,r,n){var i=Pr();n=n===void 0?null:n;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,n!==null&&Mf(n,o.deps)){i.memoizedState=qo(t,r,s,n);return}}qe.flags|=e,i.memoizedState=qo(1|t,r,s,n)}function eg(e,t){return fl(8390656,8,e,t)}function Ff(e,t){return Nu(2048,8,e,t)}function q0(e,t){return Nu(4,2,e,t)}function K0(e,t){return Nu(4,4,e,t)}function Q0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Y0(e,t,r){return r=r!=null?r.concat([e]):null,Nu(4,4,Q0.bind(null,t,e),r)}function jf(){}function J0(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function X0(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Z0(e,t,r){return Ai&21?(Vr(r,t)||(r=i0(),qe.lanes|=r,Ii|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function Nw(e,t){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var n=zc.transition;zc.transition={};try{e(!1),t()}finally{xe=r,zc.transition=n}}function eS(){return Pr().memoizedState}function $w(e,t,r){var n=Kn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},tS(e))rS(t,r);else if(r=N0(e,t,r,n),r!==null){var i=$t();Br(r,e,n,i),nS(r,t,n)}}function Fw(e,t,r){var n=Kn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(tS(e))rS(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Vr(a,o)){var l=t.interleaved;l===null?(i.next=i,If(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=N0(e,t,i,n),r!==null&&(i=$t(),Br(r,e,n,i),nS(r,t,n))}}function tS(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function rS(e,t){Po=Xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gf(e,r)}}var Zl={readContext:_r,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},jw={readContext:_r,useCallback:function(e,t){return Wr().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:eg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fl(4194308,4,Q0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return fl(4,2,e,t)},useMemo:function(e,t){var r=Wr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=$w.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=Wr();return e={current:e},t.memoizedState=e},useState:Zm,useDebugValue:jf,useDeferredValue:function(e){return Wr().memoizedState=e},useTransition:function(){var e=Zm(!1),t=e[0];return e=Nw.bind(null,e[1]),Wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=Wr();if(Ve){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),ht===null)throw Error(ee(349));Ai&30||B0(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,eg(V0.bind(null,n,s,e),[e]),n.flags|=2048,qo(9,z0.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Wr(),t=ht.identifierPrefix;if(Ve){var r=fn,n=hn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ho++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Mw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uw={readContext:_r,useCallback:J0,useContext:_r,useEffect:Ff,useImperativeHandle:Y0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:Vc,useRef:W0,useState:function(){return Vc(Wo)},useDebugValue:jf,useDeferredValue:function(e){var t=Pr();return Z0(t,at.memoizedState,e)},useTransition:function(){var e=Vc(Wo)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:j0,useSyncExternalStore:U0,useId:eS,unstable_isNewReconciler:!1},Bw={readContext:_r,useCallback:J0,useContext:_r,useEffect:Ff,useImperativeHandle:Y0,useInsertionEffect:q0,useLayoutEffect:K0,useMemo:X0,useReducer:Gc,useRef:W0,useState:function(){return Gc(Wo)},useDebugValue:jf,useDeferredValue:function(e){var t=Pr();return at===null?t.memoizedState=e:Z0(t,at.memoizedState,e)},useTransition:function(){var e=Gc(Wo)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:j0,useSyncExternalStore:U0,useId:eS,unstable_isNewReconciler:!1};function xr(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $u={isMounted:function(e){return(e=e._reactInternals)?Mi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),i=Kn(e),s=mn(n,i);s.payload=t,r!=null&&(s.callback=r),t=Wn(e,s,i),t!==null&&(Br(t,e,i,n),dl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),i=Kn(e),s=mn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Wn(e,s,i),t!==null&&(Br(t,e,i,n),dl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=Kn(e),i=mn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Wn(e,i,n),t!==null&&(Br(t,e,n,r),dl(t,e,n))}};function tg(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!jo(r,n)||!jo(i,s):!0}function iS(e,t,r){var n=!1,i=Xn,s=t.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Gt(t)?Ci:Ot.current,n=t.contextTypes,s=(n=n!=null)?Es(e,i):Xn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$u,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function rg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function Yd(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Of(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Gt(t)?Ci:Ot.current,i.context=Es(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qd(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&$u.enqueueReplaceState(i,i.state,null),Yl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ws(e,t){try{var r="",n=t;do r+=mP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Hc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zw=typeof WeakMap=="function"?WeakMap:Map;function sS(e,t,r){r=mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tu||(tu=!0,ah=n),Jd(e,t)},r}function oS(e,t,r){r=mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Jd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Jd(e,t),typeof n!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ng(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zw;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=rC.bind(null,e,t,r),t.then(e,e))}function ig(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sg(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mn(-1,1),t.tag=2,Wn(r,t,1))),r.lanes|=1),e)}var Vw=_n.ReactCurrentOwner,zt=!1;function Mt(e,t,r,n){t.child=e===null?M0(t,null,r,n):_s(t,e.child,r,n)}function og(e,t,r,n,i){r=r.render;var s=t.ref;return ds(t,i),n=Nf(e,t,r,n,s,i),r=$f(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Ve&&r&&_f(t),t.flags|=1,Mt(e,t,n,i),t.child)}function ag(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!qf(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,aS(e,t,s,n,i)):(e=vl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:jo,r(o,n)&&e.ref===t.ref)return Tn(e,t,i)}return t.flags|=1,e=Qn(s,n),e.ref=t.ref,e.return=t,t.child=e}function aS(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(jo(s,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,Tn(e,t,i)}return Xd(e,t,r,n,i)}function lS(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(ss,tr),tr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(ss,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ne(ss,tr),tr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ne(ss,tr),tr|=n;return Mt(e,t,i,r),t.child}function uS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xd(e,t,r,n,i){var s=Gt(r)?Ci:Ot.current;return s=Es(t,s),ds(t,i),r=Nf(e,t,r,n,s,i),n=$f(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Ve&&n&&_f(t),t.flags|=1,Mt(e,t,r,i),t.child)}function lg(e,t,r,n,i){if(Gt(r)){var s=!0;Hl(t)}else s=!1;if(ds(t,i),t.stateNode===null)pl(e,t),iS(t,r,n),Yd(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Gt(r)?Ci:Ot.current,u=Es(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&rg(t,o,n,u),Ln=!1;var h=t.memoizedState;o.state=h,Yl(t,n,o,i),l=t.memoizedState,a!==n||h!==l||Vt.current||Ln?(typeof c=="function"&&(Qd(t,r,c,n),l=t.memoizedState),(a=Ln||tg(t,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,$0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:xr(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Gt(r)?Ci:Ot.current,l=Es(t,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&rg(t,o,n,l),Ln=!1,h=t.memoizedState,o.state=h,Yl(t,n,o,i);var m=t.memoizedState;a!==d||h!==m||Vt.current||Ln?(typeof f=="function"&&(Qd(t,r,f,n),m=t.memoizedState),(u=Ln||tg(t,r,u,n,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Zd(e,t,r,n,s,i)}function Zd(e,t,r,n,i,s){uS(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&qm(t,r,!1),Tn(e,t,s);n=t.stateNode,Vw.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=_s(t,e.child,null,s),t.child=_s(t,null,a,s)):Mt(e,t,a,s),t.memoizedState=n.state,i&&qm(t,r,!0),t.child}function cS(e){var t=e.stateNode;t.pendingContext?Wm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wm(e,t.context,!1),Df(e,t.containerInfo)}function ug(e,t,r,n,i){return bs(),wf(i),t.flags|=256,Mt(e,t,r,n),t.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(e){return{baseLanes:e,cachePool:null,transitions:null}}function dS(e,t,r){var n=t.pendingProps,i=We.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(We,i&1),e===null)return qd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Uu(o,n,0,null),e=bi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=th(r),t.memoizedState=eh,e):Uf(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Gw(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Qn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qn(a,s):(s=bi(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?th(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=eh,n}return s=e.child,e=s.sibling,n=Qn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Uf(e,t){return t=Uu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ka(e,t,r,n){return n!==null&&wf(n),_s(t,e.child,null,r),e=Uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gw(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Hc(Error(ee(422))),Ka(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Uu({mode:"visible",children:n.children},i,0,null),s=bi(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&_s(t,e.child,null,o),t.child.memoizedState=th(o),t.memoizedState=eh,s);if(!(t.mode&1))return Ka(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(ee(419)),n=Hc(s,n,void 0),Ka(e,t,o,n)}if(a=(o&e.childLanes)!==0,zt||a){if(n=ht,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sn(e,i),Br(n,e,i,-1))}return Wf(),n=Hc(Error(ee(421))),Ka(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=nC.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,nr=Hn(i.nextSibling),sr=t,Ve=!0,Mr=null,e!==null&&(vr[yr++]=hn,vr[yr++]=fn,vr[yr++]=Ri,hn=e.id,fn=e.overflow,Ri=t),t=Uf(t,n.children),t.flags|=4096,t)}function cg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kd(e.return,t,r)}function Wc(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function hS(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Mt(e,t,n.children,r),n=We.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cg(e,r,t);else if(e.tag===19)cg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(We,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Jl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Wc(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Jl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Wc(t,!0,r,null,s);break;case"together":Wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ii|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=Qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hw(e,t,r){switch(t.tag){case 3:cS(t),bs();break;case 5:F0(t);break;case 1:Gt(t.type)&&Hl(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ne(Kl,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?dS(e,t,r):(Ne(We,We.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Ne(We,We.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hS(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(We,We.current),n)break;return null;case 22:case 23:return t.lanes=0,lS(e,t,r)}return Tn(e,t,r)}var fS,rh,pS,mS;fS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rh=function(){};pS=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ti(Xr.current);var s=null;switch(r){case"input":i=_d(e,i),n=_d(e,n),s=[];break;case"select":i=Ke({},i,{value:void 0}),n=Ke({},n,{value:void 0}),s=[];break;case"textarea":i=Cd(e,i),n=Cd(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vl)}Ad(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Do.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Do.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};mS=function(e,t,r,n){r!==n&&(t.flags|=4)};function no(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ww(e,t,r){var n=t.pendingProps;switch(Pf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Gt(t.type)&&Gl(),Ct(t),null;case 3:return n=t.stateNode,Ps(),Ue(Vt),Ue(Ot),Lf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(ch(Mr),Mr=null))),rh(e,t),Ct(t),null;case 5:xf(t);var i=Ti(Go.current);if(r=t.type,e!==null&&t.stateNode!=null)pS(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return Ct(t),null}if(e=Ti(Xr.current),Wa(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Qr]=t,n[zo]=s,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(i=0;i<go.length;i++)Fe(go[i],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Sm(n,s),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",n);break;case"textarea":km(n,s),Fe("invalid",n)}Ad(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ha(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ha(n.textContent,a,e),i=["children",""+a]):Do.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",n)}switch(r){case"input":$a(n),Tm(n,s,!0);break;case"textarea":$a(n),Em(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vl)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qr]=t,e[zo]=n,fS(e,t,!1,!1),t.stateNode=e;e:{switch(o=Id(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),i=n;break;case"iframe":case"object":case"embed":Fe("load",e),i=n;break;case"video":case"audio":for(i=0;i<go.length;i++)Fe(go[i],e);i=n;break;case"source":Fe("error",e),i=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=n;break;case"details":Fe("toggle",e),i=n;break;case"input":Sm(e,n),i=_d(e,n),Fe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ke({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":km(e,n),i=Cd(e,n),Fe("invalid",e);break;default:i=n}Ad(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Wy(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gy(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&xo(e,l):typeof l=="number"&&xo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Do.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Fe("scroll",e):l!=null&&cf(e,s,l,o))}switch(r){case"input":$a(e),Tm(e,n,!1);break;case"textarea":$a(e),Em(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jn(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?as(e,!!n.multiple,s,!1):n.defaultValue!=null&&as(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)mS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=Ti(Go.current),Ti(Xr.current),Wa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qr]=t,(s=n.nodeValue!==r)&&(e=sr,e!==null))switch(e.tag){case 3:Ha(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ha(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=t,t.stateNode=n}return Ct(t),null;case 13:if(Ue(We),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&nr!==null&&t.mode&1&&!(t.flags&128))x0(),bs(),t.flags|=98560,s=!1;else if(s=Wa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ee(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Qr]=t}else bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else Mr!==null&&(ch(Mr),Mr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?lt===0&&(lt=3):Wf())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ps(),rh(e,t),e===null&&Uo(t.stateNode.containerInfo),Ct(t),null;case 10:return Af(t.type._context),Ct(t),null;case 17:return Gt(t.type)&&Gl(),Ct(t),null;case 19:if(Ue(We),s=t.memoizedState,s===null)return Ct(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)no(s,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jl(e),o!==null){for(t.flags|=128,no(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(We,We.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ze()>Cs&&(t.flags|=128,n=!0,no(s,!1),t.lanes=4194304)}else{if(!n)if(e=Jl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),no(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return Ct(t),null}else 2*Ze()-s.renderingStartTime>Cs&&r!==1073741824&&(t.flags|=128,n=!0,no(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,r=We.current,Ne(We,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return Hf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function qw(e,t){switch(Pf(t),t.tag){case 1:return Gt(t.type)&&Gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ps(),Ue(Vt),Ue(Ot),Lf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xf(t),null;case 13:if(Ue(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(We),null;case 4:return Ps(),null;case 10:return Af(t.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var Qa=!1,It=!1,Kw=typeof WeakSet=="function"?WeakSet:Set,se=null;function is(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xe(e,t,n)}else r.current=null}function nh(e,t,r){try{r()}catch(n){Xe(e,t,n)}}var dg=!1;function Qw(e,t){if(Ud=Ul,e=T0(),bf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===r&&++u===i&&(a=o),h===s&&++c===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bd={focusedElem:e,selectionRange:r},Ul=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,k=m.memoizedState,T=t.stateNode,y=T.getSnapshotBeforeUpdate(t.elementType===t.type?p:xr(t.type,p),k);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(w){Xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return m=dg,dg=!1,m}function wo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&nh(t,r,s)}i=i.next}while(i!==n)}}function Fu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ih(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gS(e){var t=e.alternate;t!==null&&(e.alternate=null,gS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qr],delete t[zo],delete t[Gd],delete t[Ow],delete t[Dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vS(e){return e.tag===5||e.tag===3||e.tag===4}function hg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vl));else if(n!==4&&(e=e.child,e!==null))for(sh(e,t,r),e=e.sibling;e!==null;)sh(e,t,r),e=e.sibling}function oh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oh(e,t,r),e=e.sibling;e!==null;)oh(e,t,r),e=e.sibling}var St=null,Lr=!1;function In(e,t,r){for(r=r.child;r!==null;)yS(e,t,r),r=r.sibling}function yS(e,t,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Iu,r)}catch{}switch(r.tag){case 5:It||is(r,t);case 6:var n=St,i=Lr;St=null,In(e,t,r),St=n,Lr=i,St!==null&&(Lr?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(Lr?(e=St,r=r.stateNode,e.nodeType===8?jc(e.parentNode,r):e.nodeType===1&&jc(e,r),$o(e)):jc(St,r.stateNode));break;case 4:n=St,i=Lr,St=r.stateNode.containerInfo,Lr=!0,In(e,t,r),St=n,Lr=i;break;case 0:case 11:case 14:case 15:if(!It&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nh(r,t,o),i=i.next}while(i!==n)}In(e,t,r);break;case 1:if(!It&&(is(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Xe(r,t,a)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(It=(n=It)||r.memoizedState!==null,In(e,t,r),It=n):In(e,t,r);break;default:In(e,t,r)}}function fg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kw),t.forEach(function(n){var i=iC.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Dr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Lr=!1;break e;case 3:St=a.stateNode.containerInfo,Lr=!0;break e;case 4:St=a.stateNode.containerInfo,Lr=!0;break e}a=a.return}if(St===null)throw Error(ee(160));yS(s,o,i),St=null,Lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)SS(t,e),t=t.sibling}function SS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dr(t,e),Hr(e),n&4){try{wo(3,e,e.return),Fu(3,e)}catch(p){Xe(e,e.return,p)}try{wo(5,e,e.return)}catch(p){Xe(e,e.return,p)}}break;case 1:Dr(t,e),Hr(e),n&512&&r!==null&&is(r,r.return);break;case 5:if(Dr(t,e),Hr(e),n&512&&r!==null&&is(r,r.return),e.flags&32){var i=e.stateNode;try{xo(i,"")}catch(p){Xe(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&By(i,s),Id(a,o);var u=Id(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Wy(i,d):c==="dangerouslySetInnerHTML"?Gy(i,d):c==="children"?xo(i,d):cf(i,c,d,u)}switch(a){case"input":Pd(i,s);break;case"textarea":zy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?as(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?as(i,!!s.multiple,s.defaultValue,!0):as(i,!!s.multiple,s.multiple?[]:"",!1))}i[zo]=s}catch(p){Xe(e,e.return,p)}}break;case 6:if(Dr(t,e),Hr(e),n&4){if(e.stateNode===null)throw Error(ee(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(p){Xe(e,e.return,p)}}break;case 3:if(Dr(t,e),Hr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$o(t.containerInfo)}catch(p){Xe(e,e.return,p)}break;case 4:Dr(t,e),Hr(e);break;case 13:Dr(t,e),Hr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Vf=Ze())),n&4&&fg(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(It=(u=It)||c,Dr(t,e),It=u):Dr(t,e),Hr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(se=e,c=e.child;c!==null;){for(d=se=c;se!==null;){switch(h=se,f=h.child,h.tag){case 0:case 11:case 14:case 15:wo(4,h,h.return);break;case 1:is(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Xe(n,r,p)}}break;case 5:is(h,h.return);break;case 22:if(h.memoizedState!==null){mg(d);continue}}f!==null?(f.return=h,se=f):mg(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hy("display",o))}catch(p){Xe(e,e.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){Xe(e,e.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dr(t,e),Hr(e),n&4&&fg(e);break;case 21:break;default:Dr(t,e),Hr(e)}}function Hr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vS(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(xo(i,""),n.flags&=-33);var s=hg(e);oh(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=hg(e);sh(e,a,o);break;default:throw Error(ee(161))}}catch(l){Xe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yw(e,t,r){se=e,TS(e)}function TS(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Qa;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||It;a=Qa;var u=It;if(Qa=o,(It=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?gg(i):l!==null?(l.return=o,se=l):gg(i);for(;s!==null;)se=s,TS(s),s=s.sibling;se=i,Qa=a,It=u}pg(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):pg(e)}}function pg(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:It||Fu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!It)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:xr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xm(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xm(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$o(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}It||t.flags&512&&ih(t)}catch(h){Xe(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function mg(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function gg(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fu(4,t)}catch(l){Xe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Xe(t,i,l)}}var s=t.return;try{ih(t)}catch(l){Xe(t,s,l)}break;case 5:var o=t.return;try{ih(t)}catch(l){Xe(t,o,l)}}}catch(l){Xe(t,t.return,l)}if(t===e){se=null;break}var a=t.sibling;if(a!==null){a.return=t.return,se=a;break}se=t.return}}var Jw=Math.ceil,eu=_n.ReactCurrentDispatcher,Bf=_n.ReactCurrentOwner,kr=_n.ReactCurrentBatchConfig,Re=0,ht=null,ot=null,Et=0,tr=0,ss=ri(0),lt=0,Ko=null,Ii=0,ju=0,zf=0,Co=null,Bt=null,Vf=0,Cs=1/0,cn=null,tu=!1,ah=null,qn=null,Ya=!1,jn=null,ru=0,Ro=0,lh=null,ml=-1,gl=0;function $t(){return Re&6?Ze():ml!==-1?ml:ml=Ze()}function Kn(e){return e.mode&1?Re&2&&Et!==0?Et&-Et:Lw.transition!==null?(gl===0&&(gl=i0()),gl):(e=xe,e!==0||(e=window.event,e=e===void 0?16:d0(e.type)),e):1}function Br(e,t,r,n){if(50<Ro)throw Ro=0,lh=null,Error(ee(185));da(e,r,n),(!(Re&2)||e!==ht)&&(e===ht&&(!(Re&2)&&(ju|=r),lt===4&&$n(e,Et)),Ht(e,n),r===1&&Re===0&&!(t.mode&1)&&(Cs=Ze()+500,Mu&&ni()))}function Ht(e,t){var r=e.callbackNode;LP(e,t);var n=jl(e,e===ht?Et:0);if(n===0)r!==null&&Pm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pm(r),t===1)e.tag===0?xw(vg.bind(null,e)):I0(vg.bind(null,e)),Aw(function(){!(Re&6)&&ni()}),r=null;else{switch(s0(n)){case 1:r=mf;break;case 4:r=r0;break;case 16:r=Fl;break;case 536870912:r=n0;break;default:r=Fl}r=RS(r,kS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kS(e,t){if(ml=-1,gl=0,Re&6)throw Error(ee(327));var r=e.callbackNode;if(hs()&&e.callbackNode!==r)return null;var n=jl(e,e===ht?Et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=nu(e,n);else{t=n;var i=Re;Re|=2;var s=bS();(ht!==e||Et!==t)&&(cn=null,Cs=Ze()+500,Ei(e,t));do try{eC();break}catch(a){ES(e,a)}while(!0);Rf(),eu.current=s,Re=i,ot!==null?t=0:(ht=null,Et=0,t=lt)}if(t!==0){if(t===2&&(i=Md(e),i!==0&&(n=i,t=uh(e,i))),t===1)throw r=Ko,Ei(e,0),$n(e,n),Ht(e,Ze()),r;if(t===6)$n(e,n);else{if(i=e.current.alternate,!(n&30)&&!Xw(i)&&(t=nu(e,n),t===2&&(s=Md(e),s!==0&&(n=s,t=uh(e,s))),t===1))throw r=Ko,Ei(e,0),$n(e,n),Ht(e,Ze()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:mi(e,Bt,cn);break;case 3:if($n(e,n),(n&130023424)===n&&(t=Vf+500-Ze(),10<t)){if(jl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vd(mi.bind(null,e,Bt,cn),t);break}mi(e,Bt,cn);break;case 4:if($n(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Ur(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Ze()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jw(n/1960))-n,10<n){e.timeoutHandle=Vd(mi.bind(null,e,Bt,cn),n);break}mi(e,Bt,cn);break;case 5:mi(e,Bt,cn);break;default:throw Error(ee(329))}}}return Ht(e,Ze()),e.callbackNode===r?kS.bind(null,e):null}function uh(e,t){var r=Co;return e.current.memoizedState.isDehydrated&&(Ei(e,t).flags|=256),e=nu(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&ch(t)),e}function ch(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Xw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Vr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $n(e,t){for(t&=~zf,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ur(t),n=1<<r;e[r]=-1,t&=~n}}function vg(e){if(Re&6)throw Error(ee(327));hs();var t=jl(e,0);if(!(t&1))return Ht(e,Ze()),null;var r=nu(e,t);if(e.tag!==0&&r===2){var n=Md(e);n!==0&&(t=n,r=uh(e,n))}if(r===1)throw r=Ko,Ei(e,0),$n(e,t),Ht(e,Ze()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mi(e,Bt,cn),Ht(e,Ze()),null}function Gf(e,t){var r=Re;Re|=1;try{return e(t)}finally{Re=r,Re===0&&(Cs=Ze()+500,Mu&&ni())}}function Oi(e){jn!==null&&jn.tag===0&&!(Re&6)&&hs();var t=Re;Re|=1;var r=kr.transition,n=xe;try{if(kr.transition=null,xe=1,e)return e()}finally{xe=n,kr.transition=r,Re=t,!(Re&6)&&ni()}}function Hf(){tr=ss.current,Ue(ss)}function Ei(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Rw(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(Pf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gl();break;case 3:Ps(),Ue(Vt),Ue(Ot),Lf();break;case 5:xf(n);break;case 4:Ps();break;case 13:Ue(We);break;case 19:Ue(We);break;case 10:Af(n.type._context);break;case 22:case 23:Hf()}r=r.return}if(ht=e,ot=e=Qn(e.current,null),Et=tr=t,lt=0,Ko=null,zf=ju=Ii=0,Bt=Co=null,Si!==null){for(t=0;t<Si.length;t++)if(r=Si[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Si=null}return e}function ES(e,t){do{var r=ot;try{if(Rf(),hl.current=Zl,Xl){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xl=!1}if(Ai=0,dt=at=qe=null,Po=!1,Ho=0,Bf.current=null,r===null||r.return===null){lt=1,Ko=t,ot=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=ig(o);if(f!==null){f.flags&=-257,sg(f,o,a,s,t),f.mode&1&&ng(s,u,t),t=f,l=u;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){ng(s,u,t),Wf();break e}l=Error(ee(426))}}else if(Ve&&a.mode&1){var k=ig(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),sg(k,o,a,s,t),wf(ws(l,a));break e}}s=l=ws(l,a),lt!==4&&(lt=2),Co===null?Co=[s]:Co.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var T=sS(s,l,t);Jm(s,T);break e;case 1:a=l;var y=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qn===null||!qn.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=oS(s,a,t);Jm(s,w);break e}}s=s.return}while(s!==null)}PS(r)}catch(F){t=F,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function bS(){var e=eu.current;return eu.current=Zl,e===null?Zl:e}function Wf(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(Ii&268435455)&&!(ju&268435455)||$n(ht,Et)}function nu(e,t){var r=Re;Re|=2;var n=bS();(ht!==e||Et!==t)&&(cn=null,Ei(e,t));do try{Zw();break}catch(i){ES(e,i)}while(!0);if(Rf(),Re=r,eu.current=n,ot!==null)throw Error(ee(261));return ht=null,Et=0,lt}function Zw(){for(;ot!==null;)_S(ot)}function eC(){for(;ot!==null&&!PP();)_S(ot)}function _S(e){var t=CS(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?PS(e):ot=t,Bf.current=null}function PS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qw(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,ot=null;return}}else if(r=Ww(r,t,tr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);lt===0&&(lt=5)}function mi(e,t,r){var n=xe,i=kr.transition;try{kr.transition=null,xe=1,tC(e,t,r,n)}finally{kr.transition=i,xe=n}return null}function tC(e,t,r,n){do hs();while(jn!==null);if(Re&6)throw Error(ee(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(MP(e,s),e===ht&&(ot=ht=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ya||(Ya=!0,RS(Fl,function(){return hs(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var o=xe;xe=1;var a=Re;Re|=4,Bf.current=null,Qw(e,r),SS(r,e),kw(Bd),Ul=!!Ud,Bd=Ud=null,e.current=r,Yw(r),wP(),Re=a,xe=o,kr.transition=s}else e.current=r;if(Ya&&(Ya=!1,jn=e,ru=i),s=e.pendingLanes,s===0&&(qn=null),AP(r.stateNode),Ht(e,Ze()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(tu)throw tu=!1,e=ah,ah=null,e;return ru&1&&e.tag!==0&&hs(),s=e.pendingLanes,s&1?e===lh?Ro++:(Ro=0,lh=e):Ro=0,ni(),null}function hs(){if(jn!==null){var e=s0(ru),t=kr.transition,r=xe;try{if(kr.transition=null,xe=16>e?16:e,jn===null)var n=!1;else{if(e=jn,jn=null,ru=0,Re&6)throw Error(ee(331));var i=Re;for(Re|=4,se=e.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:wo(8,c,s)}var d=c.child;if(d!==null)d.return=c,se=d;else for(;se!==null;){c=se;var h=c.sibling,f=c.return;if(gS(c),c===u){se=null;break}if(h!==null){h.return=f,se=h;break}se=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var k=p.sibling;p.sibling=null,p=k}while(p!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wo(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,se=T;break e}se=s.return}}var y=e.current;for(se=y;se!==null;){o=se;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,se=S;else e:for(o=y;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fu(9,a)}}catch(F){Xe(a,a.return,F)}if(a===o){se=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,se=w;break e}se=a.return}}if(Re=i,ni(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Iu,e)}catch{}n=!0}return n}finally{xe=r,kr.transition=t}}return!1}function yg(e,t,r){t=ws(r,t),t=sS(e,t,1),e=Wn(e,t,1),t=$t(),e!==null&&(da(e,1,t),Ht(e,t))}function Xe(e,t,r){if(e.tag===3)yg(e,e,r);else for(;t!==null;){if(t.tag===3){yg(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qn===null||!qn.has(n))){e=ws(r,e),e=oS(t,e,1),t=Wn(t,e,1),e=$t(),t!==null&&(da(t,1,e),Ht(t,e));break}}t=t.return}}function rC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(Et&r)===r&&(lt===4||lt===3&&(Et&130023424)===Et&&500>Ze()-Vf?Ei(e,0):zf|=r),Ht(e,t)}function wS(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var r=$t();e=Sn(e,t),e!==null&&(da(e,t,r),Ht(e,r))}function nC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wS(e,r)}function iC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),wS(e,r)}var CS;CS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,Hw(e,t,r);zt=!!(e.flags&131072)}else zt=!1,Ve&&t.flags&1048576&&O0(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pl(e,t),e=t.pendingProps;var i=Es(t,Ot.current);ds(t,r),i=Nf(null,t,n,e,i,r);var s=$f();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(s=!0,Hl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Of(t),i.updater=$u,t.stateNode=i,i._reactInternals=t,Yd(t,n,e,r),t=Zd(null,t,n,!0,s,r)):(t.tag=0,Ve&&s&&_f(t),Mt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=oC(n),e=xr(n,e),i){case 0:t=Xd(null,t,n,e,r);break e;case 1:t=lg(null,t,n,e,r);break e;case 11:t=og(null,t,n,e,r);break e;case 14:t=ag(null,t,n,xr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xr(n,i),Xd(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xr(n,i),lg(e,t,n,i,r);case 3:e:{if(cS(t),e===null)throw Error(ee(387));n=t.pendingProps,s=t.memoizedState,i=s.element,$0(e,t),Yl(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ws(Error(ee(423)),t),t=ug(e,t,n,r,i);break e}else if(n!==i){i=ws(Error(ee(424)),t),t=ug(e,t,n,r,i);break e}else for(nr=Hn(t.stateNode.containerInfo.firstChild),sr=t,Ve=!0,Mr=null,r=M0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bs(),n===i){t=Tn(e,t,r);break e}Mt(e,t,n,r)}t=t.child}return t;case 5:return F0(t),e===null&&qd(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,zd(n,i)?o=null:s!==null&&zd(n,s)&&(t.flags|=32),uS(e,t),Mt(e,t,o,r),t.child;case 6:return e===null&&qd(t),null;case 13:return dS(e,t,r);case 4:return Df(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_s(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xr(n,i),og(e,t,n,i,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ne(Kl,n._currentValue),n._currentValue=o,s!==null)if(Vr(s.value,o)){if(s.children===i.children&&!Vt.current){t=Tn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=mn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Kd(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Kd(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ds(t,r),i=_r(i),n=n(i),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return n=t.type,i=xr(n,t.pendingProps),i=xr(n.type,i),ag(e,t,n,i,r);case 15:return aS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:xr(n,i),pl(e,t),t.tag=1,Gt(n)?(e=!0,Hl(t)):e=!1,ds(t,r),iS(t,n,i),Yd(t,n,i,r),Zd(null,t,n,!0,e,r);case 19:return hS(e,t,r);case 22:return lS(e,t,r)}throw Error(ee(156,t.tag))};function RS(e,t){return t0(e,t)}function sC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tr(e,t,r,n){return new sC(e,t,r,n)}function qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oC(e){if(typeof e=="function")return qf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hf)return 11;if(e===ff)return 14}return 2}function Qn(e,t){var r=e.alternate;return r===null?(r=Tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vl(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")qf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Qi:return bi(r.children,i,s,t);case df:o=8,i|=8;break;case Td:return e=Tr(12,r,t,i|2),e.elementType=Td,e.lanes=s,e;case kd:return e=Tr(13,r,t,i),e.elementType=kd,e.lanes=s,e;case Ed:return e=Tr(19,r,t,i),e.elementType=Ed,e.lanes=s,e;case Fy:return Uu(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ny:o=10;break e;case $y:o=9;break e;case hf:o=11;break e;case ff:o=14;break e;case xn:o=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Tr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function bi(e,t,r,n){return e=Tr(7,e,n,t),e.lanes=r,e}function Uu(e,t,r,n){return e=Tr(22,e,n,t),e.elementType=Fy,e.lanes=r,e.stateNode={isHidden:!1},e}function qc(e,t,r){return e=Tr(6,e,null,t),e.lanes=r,e}function Kc(e,t,r){return t=Tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aC(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kf(e,t,r,n,i,s,o,a,l){return e=new aC(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Tr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Of(s),e}function lC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ki,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function AS(e){if(!e)return Xn;e=e._reactInternals;e:{if(Mi(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(Gt(r))return A0(e,r,t)}return t}function IS(e,t,r,n,i,s,o,a,l){return e=Kf(r,n,!0,e,i,s,o,a,l),e.context=AS(null),r=e.current,n=$t(),i=Kn(r),s=mn(n,i),s.callback=t??null,Wn(r,s,i),e.current.lanes=i,da(e,i,n),Ht(e,n),e}function Bu(e,t,r,n){var i=t.current,s=$t(),o=Kn(i);return r=AS(r),t.context===null?t.context=r:t.pendingContext=r,t=mn(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wn(i,t,o),e!==null&&(Br(e,i,o,s),dl(e,i,o)),o}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Qf(e,t){Sg(e,t),(e=e.alternate)&&Sg(e,t)}function uC(){return null}var OS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yf(e){this._internalRoot=e}zu.prototype.render=Yf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Bu(e,t,null,null)};zu.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Oi(function(){Bu(null,e,null,null)}),t[yn]=null}};function zu(e){this._internalRoot=e}zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=l0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Nn.length&&t!==0&&t<Nn[r].priority;r++);Nn.splice(r,0,e),r===0&&c0(e)}};function Jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function cC(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=iu(o);s.call(u)}}var o=IS(t,n,e,0,null,!1,!1,"",Tg);return e._reactRootContainer=o,e[yn]=o.current,Uo(e.nodeType===8?e.parentNode:e),Oi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=iu(l);a.call(u)}}var l=Kf(e,0,!1,null,null,!1,!1,"",Tg);return e._reactRootContainer=l,e[yn]=l.current,Uo(e.nodeType===8?e.parentNode:e),Oi(function(){Bu(t,l,r,n)}),l}function Gu(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=iu(o);a.call(l)}}Bu(t,o,e,i)}else o=cC(r,t,e,i,n);return iu(o)}o0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mo(t.pendingLanes);r!==0&&(gf(t,r|1),Ht(t,Ze()),!(Re&6)&&(Cs=Ze()+500,ni()))}break;case 13:Oi(function(){var n=Sn(e,1);if(n!==null){var i=$t();Br(n,e,1,i)}}),Qf(e,1)}};vf=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var r=$t();Br(t,e,134217728,r)}Qf(e,134217728)}};a0=function(e){if(e.tag===13){var t=Kn(e),r=Sn(e,t);if(r!==null){var n=$t();Br(r,e,t,n)}Qf(e,t)}};l0=function(){return xe};u0=function(e,t){var r=xe;try{return xe=e,t()}finally{xe=r}};Dd=function(e,t,r){switch(t){case"input":if(Pd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Lu(n);if(!i)throw Error(ee(90));Uy(n),Pd(n,i)}}}break;case"textarea":zy(e,r);break;case"select":t=r.value,t!=null&&as(e,!!r.multiple,t,!1)}};Qy=Gf;Yy=Oi;var dC={usingClientEntryPoint:!1,Events:[fa,Zi,Lu,qy,Ky,Gf]},io={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hC={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zy(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||uC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ja=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ja.isDisabled&&Ja.supportsFiber)try{Iu=Ja.inject(hC),Jr=Ja}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dC;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(t))throw Error(ee(200));return lC(e,t,null,r)};cr.createRoot=function(e,t){if(!Jf(e))throw Error(ee(299));var r=!1,n="",i=OS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kf(e,1,!1,null,null,r,!1,n,i),e[yn]=t.current,Uo(e.nodeType===8?e.parentNode:e),new Yf(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Zy(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return Oi(e)};cr.hydrate=function(e,t,r){if(!Vu(t))throw Error(ee(200));return Gu(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!Jf(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=OS;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=IS(t,null,e,1,r??null,i,!1,s,o),e[yn]=t.current,Uo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new zu(t)};cr.render=function(e,t,r){if(!Vu(t))throw Error(ee(200));return Gu(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(ee(40));return e._reactRootContainer?(Oi(function(){Gu(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1};cr.unstable_batchedUpdates=Gf;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vu(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return Gu(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function DS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DS)}catch(e){console.error(e)}}DS(),Dy.exports=cr;var xS=Dy.exports;const fC=rn(xS);var kg=xS;yd.createRoot=kg.createRoot,yd.hydrateRoot=kg.hydrateRoot;const pC="modulepreload",mC=function(e,t){return new URL(e,t).href},Eg={},M=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(r.map(l=>{if(l=mC(l,n),l in Eg)return;Eg[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!n)for(let f=s.length-1;f>=0;f--){const m=s[f];if(m.href===l&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":pC,u||(h.as="script",h.crossOrigin=""),h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}var Un;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Un||(Un={}));const bg="popstate";function gC(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:a="",hash:l=""}=Ni(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),dh("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:su(s))}function n(i,s){Xf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return yC(t,r,n,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vC(){return Math.random().toString(36).substr(2,8)}function _g(e,t){return{usr:e.state,key:e.key,idx:t}}function dh(e,t,r,n){return r===void 0&&(r=null),Qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ni(t):t,{state:r,key:t&&t.key||n||vC()})}function su(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ni(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function yC(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Un.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Qo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Un.Pop;let k=c(),T=k==null?null:k-u;u=k,l&&l({action:a,location:p.location,delta:T})}function h(k,T){a=Un.Push;let y=dh(p.location,k,T);r&&r(y,k),u=c()+1;let S=_g(y,u),w=p.createHref(y);try{o.pushState(S,"",w)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(w)}s&&l&&l({action:a,location:p.location,delta:1})}function f(k,T){a=Un.Replace;let y=dh(p.location,k,T);r&&r(y,k),u=c();let S=_g(y,u),w=p.createHref(y);o.replaceState(S,"",w),s&&l&&l({action:a,location:p.location,delta:0})}function m(k){let T=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof k=="string"?k:su(k);return y=y.replace(/ $/,"%20"),et(T,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,T)}let p={get action(){return a},get location(){return e(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bg,d),l=k,()=>{i.removeEventListener(bg,d),l=null}},createHref(k){return t(i,k)},createURL:m,encodeLocation(k){let T=m(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:h,replace:f,go(k){return o.go(k)}};return p}var Pg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pg||(Pg={}));function SC(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?Ni(t):t,i=Zf(n.pathname||"/",r);if(i==null)return null;let s=LS(e);TC(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=DC(i);o=AC(s[a],l)}return o}function LS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Yn([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LS(s.children,t,c,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:CC(u,s.index),routesMeta:c})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of MS(s.path))i(s,o,l)}),t}function MS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=MS(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function TC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:RC(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const kC=/^:[\w-]+$/,EC=3,bC=2,_C=1,PC=10,wC=-2,wg=e=>e==="*";function CC(e,t){let r=e.split("/"),n=r.length;return r.some(wg)&&(n+=wC),t&&(n+=bC),r.filter(i=>!wg(i)).reduce((i,s)=>i+(kC.test(s)?EC:s===""?_C:PC),n)}function RC(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function AC(e,t){let{routesMeta:r}=e,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],l=o===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=IC({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);let d=a.route;s.push({params:n,pathname:Yn([i,c.pathname]),pathnameBase:NC(Yn([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Yn([i,c.pathnameBase]))}return s}function IC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=OC(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function OC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Xf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function DC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function xC(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ni(e):e;return{pathname:r?r.startsWith("/")?r:LC(r,t):t,search:$C(n),hash:FC(i)}}function LC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Qc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ep(e,t){let r=MC(e);return t?r.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tp(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ni(e):(i=Qo({},e),et(!i.pathname||!i.pathname.includes("?"),Qc("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),Qc("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),Qc("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?t[d]:"/"}let l=xC(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Yn=e=>e.join("/").replace(/\/\/+/g,"/"),NC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$C=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const NS=["post","put","patch","delete"];new Set(NS);const UC=["get",...NS];new Set(UC);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yo(){return Yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yo.apply(this,arguments)}const rp=$.createContext(null),BC=$.createContext(null),ii=$.createContext(null),Hu=$.createContext(null),nn=$.createContext({outlet:null,matches:[],isDataRoute:!1}),$S=$.createContext(null);function zC(e,t){let{relative:r}=t===void 0?{}:t;Fs()||et(!1);let{basename:n,navigator:i}=$.useContext(ii),{hash:s,pathname:o,search:a}=US(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Yn([n,o])),i.createHref({pathname:l,search:a,hash:s})}function Fs(){return $.useContext(Hu)!=null}function js(){return Fs()||et(!1),$.useContext(Hu).location}function FS(e){$.useContext(ii).static||$.useLayoutEffect(e)}function jS(){let{isDataRoute:e}=$.useContext(nn);return e?n1():VC()}function VC(){Fs()||et(!1);let e=$.useContext(rp),{basename:t,future:r,navigator:n}=$.useContext(ii),{matches:i}=$.useContext(nn),{pathname:s}=js(),o=JSON.stringify(ep(i,r.v7_relativeSplatPath)),a=$.useRef(!1);return FS(()=>{a.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=tp(u,JSON.parse(o),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Yn([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,s,e])}const GC=$.createContext(null);function HC(e){let t=$.useContext(nn).outlet;return t&&$.createElement(GC.Provider,{value:e},t)}function qU(){let{matches:e}=$.useContext(nn),t=e[e.length-1];return t?t.params:{}}function US(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=$.useContext(ii),{matches:i}=$.useContext(nn),{pathname:s}=js(),o=JSON.stringify(ep(i,n.v7_relativeSplatPath));return $.useMemo(()=>tp(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function WC(e,t){return qC(e,t)}function qC(e,t,r,n){Fs()||et(!1);let{navigator:i}=$.useContext(ii),{matches:s}=$.useContext(nn),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=js(),c;if(t){var d;let k=typeof t=="string"?Ni(t):t;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||et(!1),c=k}else c=u;let h=c.pathname||"/",f=h;if(l!=="/"){let k=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let m=SC(e,{pathname:f}),p=XC(m&&m.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Yn([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Yn([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,r,n);return t&&p?$.createElement(Hu.Provider,{value:{location:Yo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Un.Pop}},p):p}function KC(){let e=r1(),t=jC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),r?$.createElement("pre",{style:i},r):null,null)}const QC=$.createElement(KC,null);class YC extends $.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?$.createElement(nn.Provider,{value:this.props.routeContext},$.createElement($S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JC(e){let{routeContext:t,match:r,children:n}=e,i=$.useContext(rp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(nn.Provider,{value:t},n)}function XC(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if((s=r)!=null&&s.errors)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||et(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,m=!1,p=null,k=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||QC,l&&(u<0&&h===0?(m=!0,k=null):u===h&&(m=!0,k=d.route.hydrateFallbackElement||null)));let T=t.concat(o.slice(0,h+1)),y=()=>{let S;return f?S=p:m?S=k:d.route.Component?S=$.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=c,$.createElement(JC,{match:d,routeContext:{outlet:c,matches:T,isDataRoute:r!=null},children:S})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?$.createElement(YC,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):y()},null)}var BS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(BS||{}),ou=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ou||{});function ZC(e){let t=$.useContext(rp);return t||et(!1),t}function e1(e){let t=$.useContext(BC);return t||et(!1),t}function t1(e){let t=$.useContext(nn);return t||et(!1),t}function zS(e){let t=t1(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function r1(){var e;let t=$.useContext($S),r=e1(ou.UseRouteError),n=zS(ou.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function n1(){let{router:e}=ZC(BS.UseNavigateStable),t=zS(ou.UseNavigateStable),r=$.useRef(!1);return FS(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Yo({fromRouteId:t},s)))},[e,t])}function Xa(e){let{to:t,replace:r,state:n,relative:i}=e;Fs()||et(!1);let{future:s,static:o}=$.useContext(ii),{matches:a}=$.useContext(nn),{pathname:l}=js(),u=jS(),c=tp(t,ep(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function KU(e){return HC(e.context)}function ze(e){et(!1)}function i1(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Un.Pop,navigator:s,static:o=!1,future:a}=e;Fs()&&et(!1);let l=t.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:o,future:Yo({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Ni(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,p=$.useMemo(()=>{let k=Zf(c,l);return k==null?null:{location:{pathname:k,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return p==null?null:$.createElement(ii.Provider,{value:u},$.createElement(Hu.Provider,{children:r,value:p}))}function s1(e){let{children:t,location:r}=e;return WC(hh(t),r)}new Promise(()=>{});function hh(e,t){t===void 0&&(t=[]);let r=[];return $.Children.forEach(e,(n,i)=>{if(!$.isValidElement(n))return;let s=[...t,i];if(n.type===$.Fragment){r.push.apply(r,hh(n.props.children,s));return}n.type!==ze&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hh(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fh.apply(this,arguments)}function o1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function a1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l1(e,t){return e.button===0&&(!t||t==="_self")&&!a1(e)}const u1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],c1="6";try{window.__reactRouterVersion=c1}catch{}const d1="startTransition",Cg=Oo[d1];function h1(e){let{basename:t,children:r,future:n,window:i}=e,s=$.useRef();s.current==null&&(s.current=gC({window:i,v5Compat:!0}));let o=s.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=$.useCallback(d=>{u&&Cg?Cg(()=>l(d)):l(d)},[l,u]);return $.useLayoutEffect(()=>o.listen(c),[o,c]),$.createElement(i1,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const f1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QU=$.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=t,h=o1(t,u1),{basename:f}=$.useContext(ii),m,p=!1;if(typeof u=="string"&&p1.test(u)&&(m=u,f1))try{let S=new URL(window.location.href),w=u.startsWith("//")?new URL(S.protocol+u):new URL(u),F=Zf(w.pathname,f);w.origin===S.origin&&F!=null?u=F+w.search+w.hash:p=!0}catch{}let k=zC(u,{relative:i}),T=m1(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(S){n&&n(S),S.defaultPrevented||T(S)}return $.createElement("a",fh({},h,{href:m||k,onClick:p||s?n:y,ref:r,target:l}))});var Rg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rg||(Rg={}));var Ag;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ag||(Ag={}));function m1(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=t===void 0?{}:t,l=jS(),u=js(),c=US(e,{relative:o});return $.useCallback(d=>{if(l1(d,r)){d.preventDefault();let h=n!==void 0?n:su(u)===su(c);l(e,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,n,i,r,e,s,o,a])}const g1=({children:e})=>{const{pathname:t}=js();return $.useEffect(()=>{window.scrollTo(0,0)},[t]),e||null},Jo={black:"#000",white:"#fff"},zi={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Vi={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hi={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Wi={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},so={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v1={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rs(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const y1=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"})),au="$$material";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(null,arguments)}function Pn(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S1(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}function T1(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function k1(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var E1=function(){function e(r){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(k1(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=T1(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Rt="-ms-",lu="-moz-",Oe="-webkit-",VS="comm",np="rule",ip="decl",b1="@import",GS="@keyframes",_1="@layer",P1=Math.abs,Wu=String.fromCharCode,w1=Object.assign;function C1(e,t){return Tt(e,0)^45?(((t<<2^Tt(e,0))<<2^Tt(e,1))<<2^Tt(e,2))<<2^Tt(e,3):0}function HS(e){return e.trim()}function R1(e,t){return(e=t.exec(e))?e[0]:e}function De(e,t,r){return e.replace(t,r)}function ph(e,t){return e.indexOf(t)}function Tt(e,t){return e.charCodeAt(t)|0}function Xo(e,t,r){return e.slice(t,r)}function qr(e){return e.length}function sp(e){return e.length}function Za(e,t){return t.push(e),e}function A1(e,t){return e.map(t).join("")}var qu=1,As=1,WS=0,qt=0,st=0,Us="";function Ku(e,t,r,n,i,s,o){return{value:e,root:t,parent:r,type:n,props:i,children:s,line:qu,column:As,length:o,return:""}}function oo(e,t){return w1(Ku("",null,null,"",null,null,0),e,{length:-e.length},t)}function I1(){return st}function O1(){return st=qt>0?Tt(Us,--qt):0,As--,st===10&&(As=1,qu--),st}function or(){return st=qt<WS?Tt(Us,qt++):0,As++,st===10&&(As=1,qu++),st}function Zr(){return Tt(Us,qt)}function yl(){return qt}function ma(e,t){return Xo(Us,e,t)}function Zo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qS(e){return qu=As=1,WS=qr(Us=e),qt=0,[]}function KS(e){return Us="",e}function Sl(e){return HS(ma(qt-1,mh(e===91?e+2:e===40?e+1:e)))}function D1(e){for(;(st=Zr())&&st<33;)or();return Zo(e)>2||Zo(st)>3?"":" "}function x1(e,t){for(;--t&&or()&&!(st<48||st>102||st>57&&st<65||st>70&&st<97););return ma(e,yl()+(t<6&&Zr()==32&&or()==32))}function mh(e){for(;or();)switch(st){case e:return qt;case 34:case 39:e!==34&&e!==39&&mh(st);break;case 40:e===41&&mh(e);break;case 92:or();break}return qt}function L1(e,t){for(;or()&&e+st!==57;)if(e+st===84&&Zr()===47)break;return"/*"+ma(t,qt-1)+"*"+Wu(e===47?e:or())}function M1(e){for(;!Zo(Zr());)or();return ma(e,qt)}function N1(e){return KS(Tl("",null,null,null,[""],e=qS(e),0,[0],e))}function Tl(e,t,r,n,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,m=0,p=1,k=1,T=1,y=0,S="",w=i,F=s,U=n,L=S;k;)switch(m=y,y=or()){case 40:if(m!=108&&Tt(L,d-1)==58){ph(L+=De(Sl(y),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:L+=Sl(y);break;case 9:case 10:case 13:case 32:L+=D1(m);break;case 92:L+=x1(yl()-1,7);continue;case 47:switch(Zr()){case 42:case 47:Za($1(L1(or(),yl()),t,r),l);break;default:L+="/"}break;case 123*p:a[u++]=qr(L)*T;case 125*p:case 59:case 0:switch(y){case 0:case 125:k=0;case 59+c:T==-1&&(L=De(L,/\f/g,"")),f>0&&qr(L)-d&&Za(f>32?Og(L+";",n,r,d-1):Og(De(L," ","")+";",n,r,d-2),l);break;case 59:L+=";";default:if(Za(U=Ig(L,t,r,u,c,i,a,S,w=[],F=[],d),s),y===123)if(c===0)Tl(L,t,U,U,w,s,d,a,F);else switch(h===99&&Tt(L,3)===110?100:h){case 100:case 108:case 109:case 115:Tl(e,U,U,n&&Za(Ig(e,U,U,0,0,i,a,S,i,w=[],d),F),i,F,d,a,n?w:F);break;default:Tl(L,U,U,U,[""],F,0,a,F)}}u=c=f=0,p=T=1,S=L="",d=o;break;case 58:d=1+qr(L),f=m;default:if(p<1){if(y==123)--p;else if(y==125&&p++==0&&O1()==125)continue}switch(L+=Wu(y),y*p){case 38:T=c>0?1:(L+="\f",-1);break;case 44:a[u++]=(qr(L)-1)*T,T=1;break;case 64:Zr()===45&&(L+=Sl(or())),h=Zr(),c=d=qr(S=L+=M1(yl())),y++;break;case 45:m===45&&qr(L)==2&&(p=0)}}return s}function Ig(e,t,r,n,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=sp(h),m=0,p=0,k=0;m<n;++m)for(var T=0,y=Xo(e,d+1,d=P1(p=o[m])),S=e;T<f;++T)(S=HS(p>0?h[T]+" "+y:De(y,/&\f/g,h[T])))&&(l[k++]=S);return Ku(e,t,r,i===0?np:a,l,u,c)}function $1(e,t,r){return Ku(e,t,r,VS,Wu(I1()),Xo(e,2,-2),0)}function Og(e,t,r,n){return Ku(e,t,r,ip,Xo(e,0,n),Xo(e,n+1,-1),n)}function fs(e,t){for(var r="",n=sp(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function F1(e,t,r,n){switch(e.type){case _1:if(e.children.length)break;case b1:case ip:return e.return=e.return||e.value;case VS:return"";case GS:return e.return=e.value+"{"+fs(e.children,n)+"}";case np:e.value=e.props.join(",")}return qr(r=fs(e.children,n))?e.return=e.value+"{"+r+"}":""}function j1(e){var t=sp(e);return function(r,n,i,s){for(var o="",a=0;a<t;a++)o+=e[a](r,n,i,s)||"";return o}}function U1(e){return function(t){t.root||(t=t.return)&&e(t)}}var B1=function(t,r,n){for(var i=0,s=0;i=s,s=Zr(),i===38&&s===12&&(r[n]=1),!Zo(s);)or();return ma(t,qt)},z1=function(t,r){var n=-1,i=44;do switch(Zo(i)){case 0:i===38&&Zr()===12&&(r[n]=1),t[n]+=B1(qt-1,r,n);break;case 2:t[n]+=Sl(i);break;case 4:if(i===44){t[++n]=Zr()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Wu(i)}while(i=or());return t},V1=function(t,r){return KS(z1(qS(t),r))},Dg=new WeakMap,G1=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Dg.get(n))&&!i){Dg.set(t,!0);for(var s=[],o=V1(r,s),a=n.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},H1=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function QS(e,t){switch(C1(e,t)){case 5103:return Oe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+e+lu+e+Rt+e+e;case 6828:case 4268:return Oe+e+Rt+e+e;case 6165:return Oe+e+Rt+"flex-"+e+e;case 5187:return Oe+e+De(e,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+Rt+"flex-$1$2")+e;case 5443:return Oe+e+Rt+"flex-item-"+De(e,/flex-|-self/,"")+e;case 4675:return Oe+e+Rt+"flex-line-pack"+De(e,/align-content|flex-|-self/,"")+e;case 5548:return Oe+e+Rt+De(e,"shrink","negative")+e;case 5292:return Oe+e+Rt+De(e,"basis","preferred-size")+e;case 6060:return Oe+"box-"+De(e,"-grow","")+Oe+e+Rt+De(e,"grow","positive")+e;case 4554:return Oe+De(e,/([^-])(transform)/g,"$1"+Oe+"$2")+e;case 6187:return De(De(De(e,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),e,"")+e;case 5495:case 3959:return De(e,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return De(De(e,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+Rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+e+e;case 4095:case 3583:case 4068:case 2532:return De(e,/(.+)-inline(.+)/,Oe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qr(e)-1-t>6)switch(Tt(e,t+1)){case 109:if(Tt(e,t+4)!==45)break;case 102:return De(e,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+lu+(Tt(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ph(e,"stretch")?QS(De(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Tt(e,t+1)!==115)break;case 6444:switch(Tt(e,qr(e)-3-(~ph(e,"!important")&&10))){case 107:return De(e,":",":"+Oe)+e;case 101:return De(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+(Tt(e,14)===45?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+Rt+"$2box$3")+e}break;case 5936:switch(Tt(e,t+11)){case 114:return Oe+e+Rt+De(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Oe+e+Rt+De(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Oe+e+Rt+De(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Oe+e+Rt+e+e}return e}var W1=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case ip:t.return=QS(t.value,t.length);break;case GS:return fs([oo(t,{value:De(t.value,"@","@"+Oe)})],i);case np:if(t.length)return A1(t.props,function(s){switch(R1(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return fs([oo(t,{props:[De(s,/:(read-\w+)/,":"+lu+"$1")]})],i);case"::placeholder":return fs([oo(t,{props:[De(s,/:(plac\w+)/,":"+Oe+"input-$1")]}),oo(t,{props:[De(s,/:(plac\w+)/,":"+lu+"$1")]}),oo(t,{props:[De(s,/:(plac\w+)/,Rt+"input-$1")]})],i)}return""})}},q1=[W1],K1=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(p){var k=p.getAttribute("data-emotion");k.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var i=t.stylisPlugins||q1,s={},o,a=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(p){for(var k=p.getAttribute("data-emotion").split(" "),T=1;T<k.length;T++)s[k[T]]=!0;a.push(p)});var l,u=[G1,H1];{var c,d=[F1,U1(function(p){c.insert(p)})],h=j1(u.concat(i,d)),f=function(k){return fs(N1(k),h)};l=function(k,T,y,S){c=y,f(k?k+"{"+T.styles+"}":T.styles),S&&(m.inserted[T.name]=!0)}}var m={key:r,sheet:new E1({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},Q1=!0;function Y1(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var YS=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Q1===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},J1=function(t,r,n){YS(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function X1(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Z1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},eR=/[A-Z]|^ms/g,tR=/_EMO_([^_]+?)_([^]*?)_EMO_/g,JS=function(t){return t.charCodeAt(1)===45},xg=function(t){return t!=null&&typeof t!="boolean"},Yc=S1(function(e){return JS(e)?e:e.replace(eR,"-$&").toLowerCase()}),Lg=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(tR,function(n,i,s){return Kr={name:i,styles:s,next:Kr},i})}return Z1[t]!==1&&!JS(t)&&typeof r=="number"&&r!==0?r+"px":r};function ea(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Kr={name:r.name,styles:r.styles,next:Kr},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Kr={name:n.name,styles:n.styles,next:Kr},n=n.next;var i=r.styles+";";return i}return rR(e,t,r)}case"function":{if(e!==void 0){var s=Kr,o=r(e);return Kr=s,ea(e,t,o)}break}}if(t==null)return r;var a=t[r];return a!==void 0?a:r}function rR(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ea(e,t,r[i])+";";else for(var s in r){var o=r[s];if(typeof o!="object")t!=null&&t[o]!==void 0?n+=s+"{"+t[o]+"}":xg(o)&&(n+=Yc(s)+":"+Lg(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(t==null||t[o[0]]===void 0))for(var a=0;a<o.length;a++)xg(o[a])&&(n+=Yc(s)+":"+Lg(s,o[a])+";");else{var l=ea(e,t,o);switch(s){case"animation":case"animationName":{n+=Yc(s)+":"+l+";";break}default:n+=s+"{"+l+"}"}}}return n}var Mg=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Kr,nR=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,s="";Kr=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,s+=ea(n,r,o)):s+=o[0];for(var a=1;a<t.length;a++)s+=ea(n,r,t[a]),i&&(s+=o[a]);Mg.lastIndex=0;for(var l="",u;(u=Mg.exec(s))!==null;)l+="-"+u[1];var c=X1(s)+l;return{name:c,styles:s,next:Kr}},iR=function(t){return t()},XS=Oo.useInsertionEffect?Oo.useInsertionEffect:!1,sR=XS||iR,YU=XS||$.useLayoutEffect,ZS={}.hasOwnProperty,eT=$.createContext(typeof HTMLElement<"u"?K1({key:"css"}):null),JU=eT.Provider,oR=function(t){return $.forwardRef(function(r,n){var i=$.useContext(eT);return t(r,i,n)})},op=$.createContext({}),gh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",XU=function(t,r){var n={};for(var i in r)ZS.call(r,i)&&(n[i]=r[i]);return n[gh]=t,n},aR=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return YS(r,n,i),sR(function(){return J1(r,n,i)}),null},lR=oR(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var i=e[gh],s=[n],o="";typeof e.className=="string"?o=Y1(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var a=nR(s,void 0,$.useContext(op));o+=t.key+"-"+a.name;var l={};for(var u in e)ZS.call(e,u)&&u!=="css"&&u!==gh&&(l[u]=e[u]);return l.ref=r,l.className=o,$.createElement($.Fragment,null,$.createElement(aR,{cache:t,serialized:a,isStringTag:typeof i=="string"}),$.createElement(i,l))}),ZU=lR;function qi(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function tT(e){if(!qi(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=tT(e[r])}),t}function en(e,t,r={clone:!0}){const n=r.clone?oe({},e):e;return qi(e)&&qi(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(qi(t[i])&&i in e&&qi(e[i])?n[i]=en(e[i],t[i],r):r.clone?n[i]=qi(t[i])?tT(t[i]):t[i]:n[i]=t[i])}),n}const uR=["values","unit","step"],cR=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>oe({},r,{[n.key]:n.val}),{})};function dR(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=Pn(e,uR),s=cR(t),o=Object.keys(s);function a(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-n/100}${r})`}function u(h,f){const m=o.indexOf(f);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r}) and (max-width:${(m!==-1&&typeof t[o[m]]=="number"?t[o[m]]:f)-n/100}${r})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return oe({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:r},i)}const hR={borderRadius:4};function Ao(e,t){return t?en(e,t,{clone:!1}):e}const ap={xs:0,sm:600,md:900,lg:1200,xl:1536},Ng={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${ap[e]}px)`};function kn(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const s=n.breakpoints||Ng;return t.reduce((o,a,l)=>(o[s.up(s.keys[l])]=r(t[l]),o),{})}if(typeof t=="object"){const s=n.breakpoints||Ng;return Object.keys(t).reduce((o,a)=>{if(Object.keys(s.values||ap).indexOf(a)!==-1){const l=s.up(a);o[l]=r(t[a],a)}else{const l=a;o[l]=t[l]}return o},{})}return r(t)}function rT(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const s=e.up(i);return n[s]={},n},{}))||{}}function nT(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function e3(e,...t){const r=rT(e),n=[r,...t].reduce((i,s)=>en(i,s),{});return nT(Object.keys(r),n)}function fR(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,s)=>{s<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function t3({values:e,breakpoints:t,base:r}){const n=r||fR(e,t),i=Object.keys(n);if(i.length===0)return e;let s;return i.reduce((o,a,l)=>(Array.isArray(e)?(o[a]=e[l]!=null?e[l]:e[s],s=l):typeof e=="object"?(o[a]=e[a]!=null?e[a]:e[s],s=a):o[a]=e,o),{})}function iT(e){if(typeof e!="string")throw new Error(Rs(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Qu(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function uu(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=Qu(e,r)||n,t&&(i=t(i,n,e)),i}function rt(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,s=o=>{if(o[t]==null)return null;const a=o[t],l=o.theme,u=Qu(l,n)||{};return kn(o,a,d=>{let h=uu(u,i,d);return d===h&&typeof d=="string"&&(h=uu(u,i,`${t}${d==="default"?"":iT(d)}`,d)),r===!1?h:{[r]:h}})};return s.propTypes={},s.filterProps=[t],s}function pR(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const mR={m:"margin",p:"padding"},gR={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},$g={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vR=pR(e=>{if(e.length>2)if($g[e])e=$g[e];else return[e];const[t,r]=e.split(""),n=mR[t],i=gR[r]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),lp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],up=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...lp,...up];function ga(e,t,r,n){var i;const s=(i=Qu(e,t,!1))!=null?i:r;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function sT(e){return ga(e,"spacing",8)}function va(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function yR(e,t){return r=>e.reduce((n,i)=>(n[i]=va(t,r),n),{})}function SR(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=vR(r),s=yR(i,n),o=e[r];return kn(e,o,s)}function oT(e,t){const r=sT(e.theme);return Object.keys(e).map(n=>SR(e,t,n,r)).reduce(Ao,{})}function Ye(e){return oT(e,lp)}Ye.propTypes={};Ye.filterProps=lp;function Je(e){return oT(e,up)}Je.propTypes={};Je.filterProps=up;function TR(e=8){if(e.mui)return e;const t=sT({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(s=>{const o=t(s);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function Yu(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),r=n=>Object.keys(n).reduce((i,s)=>t[s]?Ao(i,t[s](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Sr(e){return typeof e!="number"?e:`${e}px solid`}function Rr(e,t){return rt({prop:e,themeKey:"borders",transform:t})}const kR=Rr("border",Sr),ER=Rr("borderTop",Sr),bR=Rr("borderRight",Sr),_R=Rr("borderBottom",Sr),PR=Rr("borderLeft",Sr),wR=Rr("borderColor"),CR=Rr("borderTopColor"),RR=Rr("borderRightColor"),AR=Rr("borderBottomColor"),IR=Rr("borderLeftColor"),OR=Rr("outline",Sr),DR=Rr("outlineColor"),Ju=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ga(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:va(t,n)});return kn(e,e.borderRadius,r)}return null};Ju.propTypes={};Ju.filterProps=["borderRadius"];Yu(kR,ER,bR,_R,PR,wR,CR,RR,AR,IR,Ju,OR,DR);const Xu=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ga(e.theme,"spacing",8),r=n=>({gap:va(t,n)});return kn(e,e.gap,r)}return null};Xu.propTypes={};Xu.filterProps=["gap"];const Zu=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ga(e.theme,"spacing",8),r=n=>({columnGap:va(t,n)});return kn(e,e.columnGap,r)}return null};Zu.propTypes={};Zu.filterProps=["columnGap"];const ec=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ga(e.theme,"spacing",8),r=n=>({rowGap:va(t,n)});return kn(e,e.rowGap,r)}return null};ec.propTypes={};ec.filterProps=["rowGap"];const xR=rt({prop:"gridColumn"}),LR=rt({prop:"gridRow"}),MR=rt({prop:"gridAutoFlow"}),NR=rt({prop:"gridAutoColumns"}),$R=rt({prop:"gridAutoRows"}),FR=rt({prop:"gridTemplateColumns"}),jR=rt({prop:"gridTemplateRows"}),UR=rt({prop:"gridTemplateAreas"}),BR=rt({prop:"gridArea"});Yu(Xu,Zu,ec,xR,LR,MR,NR,$R,FR,jR,UR,BR);function ps(e,t){return t==="grey"?t:e}const zR=rt({prop:"color",themeKey:"palette",transform:ps}),VR=rt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ps}),GR=rt({prop:"backgroundColor",themeKey:"palette",transform:ps});Yu(zR,VR,GR);function rr(e){return e<=1&&e!==0?`${e*100}%`:e}const HR=rt({prop:"width",transform:rr}),cp=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const s=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||ap[r];return s?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${e.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:rr(r)}};return kn(e,e.maxWidth,t)}return null};cp.filterProps=["maxWidth"];const WR=rt({prop:"minWidth",transform:rr}),qR=rt({prop:"height",transform:rr}),KR=rt({prop:"maxHeight",transform:rr}),QR=rt({prop:"minHeight",transform:rr});rt({prop:"size",cssProperty:"width",transform:rr});rt({prop:"size",cssProperty:"height",transform:rr});const YR=rt({prop:"boxSizing"});Yu(HR,cp,WR,qR,KR,QR,YR);const dp={border:{themeKey:"borders",transform:Sr},borderTop:{themeKey:"borders",transform:Sr},borderRight:{themeKey:"borders",transform:Sr},borderBottom:{themeKey:"borders",transform:Sr},borderLeft:{themeKey:"borders",transform:Sr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ju},color:{themeKey:"palette",transform:ps},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ps},backgroundColor:{themeKey:"palette",transform:ps},p:{style:Je},pt:{style:Je},pr:{style:Je},pb:{style:Je},pl:{style:Je},px:{style:Je},py:{style:Je},padding:{style:Je},paddingTop:{style:Je},paddingRight:{style:Je},paddingBottom:{style:Je},paddingLeft:{style:Je},paddingX:{style:Je},paddingY:{style:Je},paddingInline:{style:Je},paddingInlineStart:{style:Je},paddingInlineEnd:{style:Je},paddingBlock:{style:Je},paddingBlockStart:{style:Je},paddingBlockEnd:{style:Je},m:{style:Ye},mt:{style:Ye},mr:{style:Ye},mb:{style:Ye},ml:{style:Ye},mx:{style:Ye},my:{style:Ye},margin:{style:Ye},marginTop:{style:Ye},marginRight:{style:Ye},marginBottom:{style:Ye},marginLeft:{style:Ye},marginX:{style:Ye},marginY:{style:Ye},marginInline:{style:Ye},marginInlineStart:{style:Ye},marginInlineEnd:{style:Ye},marginBlock:{style:Ye},marginBlockStart:{style:Ye},marginBlockEnd:{style:Ye},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xu},rowGap:{style:ec},columnGap:{style:Zu},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:rr},maxWidth:{style:cp},minWidth:{transform:rr},height:{transform:rr},maxHeight:{transform:rr},minHeight:{transform:rr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function JR(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function XR(e,t){return typeof e=="function"?e(t):e}function ZR(){function e(r,n,i,s){const o={[r]:n,theme:i},a=s[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:d}=a;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const h=Qu(i,u)||{};return d?d(o):kn(o,n,m=>{let p=uu(h,c,m);return m===p&&typeof m=="string"&&(p=uu(h,c,`${r}${m==="default"?"":iT(m)}`,m)),l===!1?p:{[l]:p}})}function t(r){var n;const{sx:i,theme:s={}}=r||{};if(!i)return null;const o=(n=s.unstable_sxConfig)!=null?n:dp;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=rT(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const m=XR(u[f],s);if(m!=null)if(typeof m=="object")if(o[f])h=Ao(h,e(f,m,s,o));else{const p=kn({theme:s},m,k=>({[f]:k}));JR(p,m)?h[f]=t({sx:m,theme:s}):h=Ao(h,p)}else h=Ao(h,e(f,m,s,o))}),nT(d,h)}return Array.isArray(i)?i.map(a):a(i)}return t}const hp=ZR();hp.filterProps=["sx"];function eA(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const tA=["breakpoints","palette","spacing","shape"];function aT(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:s={}}=e,o=Pn(e,tA),a=dR(r),l=TR(i);let u=en({breakpoints:a,direction:"ltr",components:{},palette:oe({mode:"light"},n),spacing:l,shape:oe({},hR,s)},o);return u.applyStyles=eA,u=t.reduce((c,d)=>en(c,d),u),u.unstable_sxConfig=oe({},dp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return hp({sx:d,theme:this})},u}function rA(e){return Object.keys(e).length===0}function lT(e=null){const t=$.useContext(op);return!t||rA(t)?e:t}const nA=aT();function uT(e=nA){return lT(e)}function cT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=cT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bn(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=cT(e))&&(n&&(n+=" "),n+=t);return n}function dT(e,t){const r=oe({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=oe({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},s=t[n];r[n]={},!s||!Object.keys(s)?r[n]=i:!i||!Object.keys(i)?r[n]=s:(r[n]=oe({},s),Object.keys(i).forEach(o=>{r[n][o]=dT(i[o],s[o])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function iA(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:dT(t.components[r].defaultProps,n)}function sA({props:e,name:t,defaultTheme:r,themeId:n}){let i=uT(r);return n&&(i=i[n]||i),iA({theme:i,name:t,props:e})}function oA(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const aA=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"})),hT=$.createContext(null);function fT(){return $.useContext(hT)}const lA=typeof Symbol=="function"&&Symbol.for,uA=lA?Symbol.for("mui.nested"):"__THEME_NESTED__";function cA(e,t){return typeof t=="function"?t(e):oe({},e,t)}function dA(e){const{children:t,theme:r}=e,n=fT(),i=$.useMemo(()=>{const s=n===null?r:cA(n,r);return s!=null&&(s[uA]=n!==null),s},[r,n]);return R.jsx(hT.Provider,{value:i,children:t})}const hA=["value"],pT=$.createContext();function fA(e){let{value:t}=e,r=Pn(e,hA);return R.jsx(pT.Provider,oe({value:t??!0},r))}const r3=()=>{const e=$.useContext(pT);return e??!1},Fg={};function jg(e,t,r,n=!1){return $.useMemo(()=>{const i=e&&t[e]||t;if(typeof r=="function"){const s=r(i),o=e?oe({},t,{[e]:s}):s;return n?()=>o:o}return e?oe({},t,{[e]:r}):oe({},t,r)},[e,t,r,n])}function pA(e){const{children:t,theme:r,themeId:n}=e,i=lT(Fg),s=fT()||Fg,o=jg(n,i,r),a=jg(n,s,r,!0),l=o.direction==="rtl";return R.jsx(dA,{theme:a,children:R.jsx(op.Provider,{value:o,children:R.jsx(fA,{value:l,children:t})})})}function mA(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var nt={},mT={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(mT);var gA=mT.exports;const vA=Ty(y1),yA=Ty(aA);var gT=gA;Object.defineProperty(nt,"__esModule",{value:!0});var n3=nt.alpha=TT;nt.blend=OA;nt.colorChannel=void 0;var SA=nt.darken=pp;nt.decomposeColor=wr;nt.emphasize=kT;var TA=nt.getContrastRatio=wA;nt.getLuminance=cu;nt.hexToRgb=vT;nt.hslToRgb=ST;var kA=nt.lighten=mp;nt.private_safeAlpha=CA;nt.private_safeColorChannel=void 0;nt.private_safeDarken=RA;nt.private_safeEmphasize=IA;nt.private_safeLighten=AA;nt.recomposeColor=Bs;nt.rgbToHex=PA;var Ug=gT(vA),EA=gT(yA);function fp(e,t=0,r=1){return(0,EA.default)(e,t,r)}function vT(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function bA(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function wr(e){if(e.type)return e;if(e.charAt(0)==="#")return wr(vT(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,Ug.default)(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,Ug.default)(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:r,values:n,colorSpace:i}}const yT=e=>{const t=wr(e);return t.values.slice(0,3).map((r,n)=>t.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};nt.colorChannel=yT;const _A=(e,t)=>{try{return yT(e)}catch{return e}};nt.private_safeColorChannel=_A;function Bs(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,s)=>s<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function PA(e){if(e.indexOf("#")===0)return e;const{values:t}=wr(e);return`#${t.map((r,n)=>bA(n===3?Math.round(255*r):r)).join("")}`}function ST(e){e=wr(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,s=n*Math.min(i,1-i),o=(u,c=(u+r/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),Bs({type:a,values:l})}function cu(e){e=wr(e);let t=e.type==="hsl"||e.type==="hsla"?wr(ST(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function wA(e,t){const r=cu(e),n=cu(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function TT(e,t){return e=wr(e),t=fp(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,Bs(e)}function CA(e,t,r){try{return TT(e,t)}catch{return e}}function pp(e,t){if(e=wr(e),t=fp(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return Bs(e)}function RA(e,t,r){try{return pp(e,t)}catch{return e}}function mp(e,t){if(e=wr(e),t=fp(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Bs(e)}function AA(e,t,r){try{return mp(e,t)}catch{return e}}function kT(e,t=.15){return cu(e)>.5?pp(e,t):mp(e,t)}function IA(e,t,r){try{return kT(e,t)}catch{return e}}function OA(e,t,r,n=1){const i=(l,u)=>Math.round((l**(1/n)*(1-r)+u**(1/n)*r)**n),s=wr(e),o=wr(t),a=[i(s.values[0],o.values[0]),i(s.values[1],o.values[1]),i(s.values[2],o.values[2])];return Bs({type:"rgb",values:a})}const DA=["mode","contrastThreshold","tonalOffset"],Bg={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jo.white,default:Jo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jc={text:{primary:Jo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function zg(e,t,r,n){const i=n.light||n,s=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=kA(e.main,i):t==="dark"&&(e.dark=SA(e.main,s)))}function xA(e="light"){return e==="dark"?{main:Gi[200],light:Gi[50],dark:Gi[400]}:{main:Gi[700],light:Gi[400],dark:Gi[800]}}function LA(e="light"){return e==="dark"?{main:Vi[200],light:Vi[50],dark:Vi[400]}:{main:Vi[500],light:Vi[300],dark:Vi[700]}}function MA(e="light"){return e==="dark"?{main:zi[500],light:zi[300],dark:zi[700]}:{main:zi[700],light:zi[400],dark:zi[800]}}function NA(e="light"){return e==="dark"?{main:Hi[400],light:Hi[300],dark:Hi[700]}:{main:Hi[700],light:Hi[500],dark:Hi[900]}}function $A(e="light"){return e==="dark"?{main:Wi[400],light:Wi[300],dark:Wi[700]}:{main:Wi[800],light:Wi[500],dark:Wi[900]}}function FA(e="light"){return e==="dark"?{main:so[400],light:so[300],dark:so[700]}:{main:"#ed6c02",light:so[500],dark:so[900]}}function jA(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=Pn(e,DA),s=e.primary||xA(t),o=e.secondary||LA(t),a=e.error||MA(t),l=e.info||NA(t),u=e.success||$A(t),c=e.warning||FA(t);function d(p){return TA(p,Jc.text.primary)>=r?Jc.text.primary:Bg.text.primary}const h=({color:p,name:k,mainShade:T=500,lightShade:y=300,darkShade:S=700})=>{if(p=oe({},p),!p.main&&p[T]&&(p.main=p[T]),!p.hasOwnProperty("main"))throw new Error(Rs(11,k?` (${k})`:"",T));if(typeof p.main!="string")throw new Error(Rs(12,k?` (${k})`:"",JSON.stringify(p.main)));return zg(p,"light",y,n),zg(p,"dark",S,n),p.contrastText||(p.contrastText=d(p.main)),p},f={dark:Jc,light:Bg};return en(oe({common:oe({},Jo),mode:t,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:v1,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},f[t]),i)}const UA=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function BA(e){return Math.round(e*1e5)/1e5}const Vg={textTransform:"uppercase"},Gg='"Roboto", "Helvetica", "Arial", sans-serif';function zA(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=Gg,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=r,h=Pn(r,UA),f=i/14,m=d||(T=>`${T/u*f}rem`),p=(T,y,S,w,F)=>oe({fontFamily:n,fontWeight:T,fontSize:m(y),lineHeight:S},n===Gg?{letterSpacing:`${BA(w/y)}em`}:{},F,c),k={h1:p(s,96,1.167,-1.5),h2:p(s,60,1.2,-.5),h3:p(o,48,1.167,0),h4:p(o,34,1.235,.25),h5:p(o,24,1.334,0),h6:p(a,20,1.6,.15),subtitle1:p(o,16,1.75,.15),subtitle2:p(a,14,1.57,.1),body1:p(o,16,1.5,.15),body2:p(o,14,1.43,.15),button:p(a,14,1.75,.4,Vg),caption:p(o,12,1.66,.4),overline:p(o,12,2.66,1,Vg),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return en(oe({htmlFontSize:u,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},k),h,{clone:!1})}const VA=.2,GA=.14,HA=.12;function Be(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${VA})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${GA})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${HA})`].join(",")}const WA=["none",Be(0,2,1,-1,0,1,1,0,0,1,3,0),Be(0,3,1,-2,0,2,2,0,0,1,5,0),Be(0,3,3,-2,0,3,4,0,0,1,8,0),Be(0,2,4,-1,0,4,5,0,0,1,10,0),Be(0,3,5,-1,0,5,8,0,0,1,14,0),Be(0,3,5,-1,0,6,10,0,0,1,18,0),Be(0,4,5,-2,0,7,10,1,0,2,16,1),Be(0,5,5,-3,0,8,10,1,0,3,14,2),Be(0,5,6,-3,0,9,12,1,0,3,16,2),Be(0,6,6,-3,0,10,14,1,0,4,18,3),Be(0,6,7,-4,0,11,15,1,0,4,20,3),Be(0,7,8,-4,0,12,17,2,0,5,22,4),Be(0,7,8,-4,0,13,19,2,0,5,24,4),Be(0,7,9,-4,0,14,21,2,0,5,26,4),Be(0,8,9,-5,0,15,22,2,0,6,28,5),Be(0,8,10,-5,0,16,24,2,0,6,30,5),Be(0,8,11,-5,0,17,26,2,0,6,32,5),Be(0,9,11,-5,0,18,28,2,0,7,34,6),Be(0,9,12,-6,0,19,29,2,0,7,36,6),Be(0,10,13,-6,0,20,31,3,0,8,38,7),Be(0,10,13,-6,0,21,33,3,0,8,40,7),Be(0,10,14,-6,0,22,35,3,0,8,42,7),Be(0,11,14,-7,0,23,36,3,0,9,44,8),Be(0,11,15,-7,0,24,38,3,0,9,46,8)],qA=["duration","easing","delay"],KA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Hg(e){return`${Math.round(e)}ms`}function YA(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function JA(e){const t=oe({},KA,e.easing),r=oe({},QA,e.duration);return oe({getAutoHeightDuration:YA,create:(i=["all"],s={})=>{const{duration:o=r.standard,easing:a=t.easeInOut,delay:l=0}=s;return Pn(s,qA),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:Hg(o)} ${a} ${typeof l=="string"?l:Hg(l)}`).join(",")}},e,{easing:t,duration:r})}const XA={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},ZA=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ET(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:s={}}=e,o=Pn(e,ZA);if(e.vars)throw new Error(Rs(18));const a=jA(n),l=aT(e);let u=en(l,{mixins:mA(l.breakpoints,r),palette:a,shadows:WA.slice(),typography:zA(a,s),transitions:JA(i),zIndex:oe({},XA)});return u=en(u,o),u=t.reduce((c,d)=>en(c,d),u),u.unstable_sxConfig=oe({},dp,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return hp({sx:d,theme:this})},u}function Wg(e){return String(parseFloat(e)).length===String(e).length}function eI(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function fi(e){return parseFloat(e)}function tI(e){return(t,r)=>{const n=eI(t);if(n===r)return t;let i=fi(t);n!=="px"&&(n==="em"||n==="rem")&&(i=fi(t)*fi(e));let s=i;if(r!=="px")if(r==="em")s=i/fi(e);else if(r==="rem")s=i/fi(e);else return t;return parseFloat(s.toFixed(5))+r}}function rI({size:e,grid:t}){const r=e-e%t,n=r+t;return e-r<n-e?r:n}function nI({lineHeight:e,pixels:t,htmlFontSize:r}){return t/(e*r)}function iI({cssProperty:e,min:t,max:r,unit:n="rem",breakpoints:i=[600,900,1200],transform:s=null}){const o={[e]:`${t}${n}`},a=(r-t)/i[i.length-1];return i.forEach(l=>{let u=t+a*l;s!==null&&(u=s(u)),o[`@media (min-width:${l}px)`]={[e]:`${Math.round(u*1e4)/1e4}${n}`}}),o}function sI(e,t={}){const{breakpoints:r=["sm","md","lg"],disableAlign:n=!1,factor:i=2,variants:s=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=t,o=oe({},e);o.typography=oe({},o.typography);const a=o.typography,l=tI(a.htmlFontSize),u=r.map(c=>o.breakpoints.values[c]);return s.forEach(c=>{const d=a[c];if(!d)return;const h=parseFloat(l(d.fontSize,"rem"));if(h<=1)return;const f=h,m=1+(f-1)/i;let{lineHeight:p}=d;if(!Wg(p)&&!n)throw new Error(Rs(6));Wg(p)||(p=parseFloat(l(p,"rem"))/parseFloat(h));let k=null;n||(k=T=>rI({size:T,grid:nI({pixels:4,lineHeight:p,htmlFontSize:a.htmlFontSize})})),a[c]=oe({},d,iI({cssProperty:"fontSize",min:m,max:f,unit:"rem",breakpoints:u,transform:k}))}),o}const bT=ET();function oI(){const e=uT(bT);return e[au]||e}function aI({props:e,name:t}){return sA({props:e,name:t,defaultTheme:bT,themeId:au})}const lI=["theme"];function uI(e){let{theme:t}=e,r=Pn(e,lI);const n=t[au];return R.jsx(pA,oe({},r,{themeId:n?au:void 0,theme:n||t}))}function vh(e,t){return vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},vh(e,t)}function tc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vh(e,t)}const cI=()=>{const e=oI();return R.jsx("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.palette.background.alt,color:e.palette.text.main},children:R.jsx("div",{className:"spinner"})})};var _T={exports:{}},PT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=$;function dI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hI=typeof Object.is=="function"?Object.is:dI,fI=ya.useSyncExternalStore,pI=ya.useRef,mI=ya.useEffect,gI=ya.useMemo,vI=ya.useDebugValue;PT.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=pI(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gI(function(){function l(f){if(!u){if(u=!0,c=f,f=n(f),i!==void 0&&o.hasValue){var m=o.value;if(i(m,f))return d=m}return d=f}if(m=d,hI(c,f))return m;var p=n(f);return i!==void 0&&i(m,p)?m:(c=f,d=p)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var a=fI(e,s[0],s[1]);return mI(function(){o.hasValue=!0,o.value=a},[a]),vI(a),a};_T.exports=PT;var yI=_T.exports,Ce="default"in Oo?I:Oo,qg=Symbol.for("react-redux-context"),Kg=typeof globalThis<"u"?globalThis:{};function SI(){if(!Ce.createContext)return{};const e=Kg[qg]??(Kg[qg]=new Map);let t=e.get(Ce.createContext);return t||(t=Ce.createContext(null),e.set(Ce.createContext,t)),t}var En=SI(),wT=()=>{throw new Error("uSES not initialized!")};function gp(e=En){return function(){return Ce.useContext(e)}}var CT=gp(),RT=wT,TI=e=>{RT=e},kI=(e,t)=>e===t;function EI(e=En){const t=e===En?CT:gp(e),r=(n,i={})=>{const{equalityFn:s=kI,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=t();Ce.useRef(!0);const h=Ce.useCallback({[n.name](m){return n(m)}}[n.name],[n,c,o.stabilityCheck]),f=RT(l.addNestedSub,a.getState,u||a.getState,h,s);return Ce.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var bI=EI(),_I=Symbol.for("react.element"),PI=Symbol.for("react.portal"),wI=Symbol.for("react.fragment"),CI=Symbol.for("react.strict_mode"),RI=Symbol.for("react.profiler"),AI=Symbol.for("react.provider"),II=Symbol.for("react.context"),OI=Symbol.for("react.server_context"),AT=Symbol.for("react.forward_ref"),DI=Symbol.for("react.suspense"),xI=Symbol.for("react.suspense_list"),vp=Symbol.for("react.memo"),LI=Symbol.for("react.lazy"),MI=AT,NI=vp;function $I(e){if(typeof e=="object"&&e!==null){const t=e.$$typeof;switch(t){case _I:{const r=e.type;switch(r){case wI:case RI:case CI:case DI:case xI:return r;default:{const n=r&&r.$$typeof;switch(n){case OI:case II:case AT:case LI:case vp:case AI:return n;default:return t}}}}case PI:return t}}}function FI(e){return $I(e)===vp}function jI(e,t,r,n,{areStatesEqual:i,areOwnPropsEqual:s,areStatePropsEqual:o}){let a=!1,l,u,c,d,h;function f(y,S){return l=y,u=S,c=e(l,u),d=t(n,u),h=r(c,d,u),a=!0,h}function m(){return c=e(l,u),t.dependsOnOwnProps&&(d=t(n,u)),h=r(c,d,u),h}function p(){return e.dependsOnOwnProps&&(c=e(l,u)),t.dependsOnOwnProps&&(d=t(n,u)),h=r(c,d,u),h}function k(){const y=e(l,u),S=!o(y,c);return c=y,S&&(h=r(c,d,u)),h}function T(y,S){const w=!s(S,u),F=!i(y,l,S,u);return l=y,u=S,w&&F?m():w?p():F?k():h}return function(S,w){return a?T(S,w):f(S,w)}}function UI(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...i}){const s=t(e,i),o=r(e,i),a=n(e,i);return jI(s,o,a,e,i)}function BI(e,t){const r={};for(const n in e){const i=e[n];typeof i=="function"&&(r[n]=(...s)=>t(i(...s)))}return r}function yh(e){return function(r){const n=e(r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function Qg(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function IT(e,t){return function(n,{displayName:i}){const s=function(a,l){return s.dependsOnOwnProps?s.mapToProps(a,l):s.mapToProps(a,void 0)};return s.dependsOnOwnProps=!0,s.mapToProps=function(a,l){s.mapToProps=e,s.dependsOnOwnProps=Qg(e);let u=s(a,l);return typeof u=="function"&&(s.mapToProps=u,s.dependsOnOwnProps=Qg(u),u=s(a,l)),u},s}}function yp(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function zI(e){return e&&typeof e=="object"?yh(t=>BI(e,t)):e?typeof e=="function"?IT(e):yp(e,"mapDispatchToProps"):yh(t=>({dispatch:t}))}function VI(e){return e?typeof e=="function"?IT(e):yp(e,"mapStateToProps"):yh(()=>({}))}function GI(e,t,r){return{...r,...e,...t}}function HI(e){return function(r,{displayName:n,areMergedPropsEqual:i}){let s=!1,o;return function(l,u,c){const d=e(l,u,c);return s?i(d,o)||(o=d):(s=!0,o=d),o}}}function WI(e){return e?typeof e=="function"?HI(e):yp(e,"mergeProps"):()=>GI}function qI(e){e()}function KI(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qI(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Yg={notify(){},get:()=>[]};function OT(e,t){let r,n=Yg,i=0,s=!1;function o(p){c();const k=n.subscribe(p);let T=!1;return()=>{T||(T=!0,k(),d())}}function a(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function u(){return s}function c(){i++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=KI())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Yg)}function h(){s||(s=!0,c())}function f(){s&&(s=!1,d())}const m={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:f,getListeners:()=>n};return m}var QI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YI=typeof navigator<"u"&&navigator.product==="ReactNative",du=QI||YI?Ce.useLayoutEffect:Ce.useEffect;function Jg(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xc(e,t){if(Jg(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Jg(e[r[i]],t[r[i]]))return!1;return!0}var JI={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},XI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZI={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},DT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eO={[MI]:ZI,[NI]:DT};function Xg(e){return FI(e)?DT:eO[e.$$typeof]||JI}var tO=Object.defineProperty,rO=Object.getOwnPropertyNames,Zg=Object.getOwnPropertySymbols,nO=Object.getOwnPropertyDescriptor,iO=Object.getPrototypeOf,ev=Object.prototype;function Sh(e,t){if(typeof t!="string"){if(ev){const s=iO(t);s&&s!==ev&&Sh(e,s)}let r=rO(t);Zg&&(r=r.concat(Zg(t)));const n=Xg(e),i=Xg(t);for(let s=0;s<r.length;++s){const o=r[s];if(!XI[o]&&!(i&&i[o])&&!(n&&n[o])){const a=nO(t,o);try{tO(e,o,a)}catch{}}}}return e}var xT=wT,sO=e=>{xT=e},oO=[null,null];function aO(e,t,r){du(()=>e(...t),r)}function lO(e,t,r,n,i,s){e.current=n,r.current=!1,i.current&&(i.current=null,s())}function uO(e,t,r,n,i,s,o,a,l,u,c){if(!e)return()=>{};let d=!1,h=null;const f=()=>{if(d||!a.current)return;const p=t.getState();let k,T;try{k=n(p,i.current)}catch(y){T=y,h=y}T||(h=null),k===s.current?o.current||u():(s.current=k,l.current=k,o.current=!0,c())};return r.onStateChange=f,r.trySubscribe(),f(),()=>{if(d=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}function cO(e,t){return e===t}function dO(e,t,r,{pure:n,areStatesEqual:i=cO,areOwnPropsEqual:s=Xc,areStatePropsEqual:o=Xc,areMergedPropsEqual:a=Xc,forwardRef:l=!1,context:u=En}={}){const c=u,d=VI(e),h=zI(t),f=WI(r),m=!!e;return k=>{const T=k.displayName||k.name||"Component",y=`Connect(${T})`,S={shouldHandleStateChanges:m,displayName:y,wrappedComponentName:T,WrappedComponent:k,initMapStateToProps:d,initMapDispatchToProps:h,initMergeProps:f,areStatesEqual:i,areStatePropsEqual:o,areOwnPropsEqual:s,areMergedPropsEqual:a};function w(L){const[z,J,Q]=Ce.useMemo(()=>{const{reactReduxForwardedRef:he,..._e}=L;return[L.context,he,_e]},[L]),re=Ce.useMemo(()=>{let he=c;return z!=null&&z.Consumer,he},[z,c]),de=Ce.useContext(re),ce=!!L.store&&!!L.store.getState&&!!L.store.dispatch,te=!!de&&!!de.store,j=ce?L.store:de.store,W=te?de.getServerState:j.getState,X=Ce.useMemo(()=>UI(j.dispatch,S),[j]),[g,b]=Ce.useMemo(()=>{if(!m)return oO;const he=OT(j,ce?void 0:de.subscription),_e=he.notifyNestedSubs.bind(he);return[he,_e]},[j,ce,de]),P=Ce.useMemo(()=>ce?de:{...de,subscription:g},[ce,de,g]),C=Ce.useRef(void 0),A=Ce.useRef(Q),D=Ce.useRef(void 0),N=Ce.useRef(!1),G=Ce.useRef(!1),x=Ce.useRef(void 0);du(()=>(G.current=!0,()=>{G.current=!1}),[]);const H=Ce.useMemo(()=>()=>D.current&&Q===A.current?D.current:X(j.getState(),Q),[j,Q]),ne=Ce.useMemo(()=>_e=>g?uO(m,j,g,X,A,C,N,G,D,b,_e):()=>{},[g]);aO(lO,[A,C,N,Q,D,b]);let me;try{me=xT(ne,H,W?()=>X(W(),Q):H)}catch(he){throw x.current&&(he.message+=`
The error may be correlated with this previous error:
${x.current.stack}

`),he}du(()=>{x.current=void 0,D.current=void 0,C.current=me});const le=Ce.useMemo(()=>Ce.createElement(k,{...me,ref:J}),[J,k,me]);return Ce.useMemo(()=>m?Ce.createElement(re.Provider,{value:P},le):le,[re,le,P])}const U=Ce.memo(w);if(U.WrappedComponent=k,U.displayName=w.displayName=y,l){const z=Ce.forwardRef(function(Q,re){return Ce.createElement(U,{...Q,reactReduxForwardedRef:re})});return z.displayName=y,z.WrappedComponent=k,Sh(z,k)}return Sh(U,k)}}var i3=dO;function hO({store:e,context:t,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=Ce.useMemo(()=>{const u=OT(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[e,n,i,s]),a=Ce.useMemo(()=>e.getState(),[e]);du(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=t||En;return Ce.createElement(l.Provider,{value:o},r)}var fO=hO;function LT(e=En){const t=e===En?CT:gp(e),r=()=>{const{store:n}=t();return n};return Object.assign(r,{withTypes:()=>r}),r}var pO=LT();function mO(e=En){const t=e===En?pO:LT(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var s3=mO();TI(yI.useSyncExternalStoreWithSelector);sO($.useSyncExternalStore);let V=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const gO=I.lazy(()=>M(()=>import("./Dashbord-sFHY2dTM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),vO=I.lazy(()=>M(()=>import("./CreatePaymentMethods-KwAmOS9L.js"),__vite__mapDeps([29,30,31,32,22,11,12,19,33,4,3,5,6,7,34,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52,53,54]),import.meta.url)),yO=I.lazy(()=>M(()=>import("./UpdatePaymentMethods-6Pb_f1Iw.js"),__vite__mapDeps([55,19,33,4,34,3,5,6,7]),import.meta.url)),SO=I.lazy(()=>M(()=>import("./FileManagerDashboard-D9hblwKa.js"),__vite__mapDeps([56,57,8,5,58,4,6,59,60]),import.meta.url)),TO=I.lazy(()=>M(()=>import("./AddPoints-DlhusqvR.js"),__vite__mapDeps([61,57,8,19,30,31,32,22,11,12,3,4,5,6,7,34,53,54]),import.meta.url)),kO=I.lazy(()=>M(()=>import("./Users-CTkgu7ck.js"),__vite__mapDeps([62,57,8,1,2,63,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,19,65,66,9,10,11,12,13,14,15,16,17,67,68,69,18,3,6,7,20,21,22,70,27,25,71,72,24,28]),import.meta.url)),EO=I.lazy(()=>M(()=>import("./Inbox-BBRLqzNP.js"),__vite__mapDeps([73,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53,81]),import.meta.url)),bO=I.lazy(()=>M(()=>import("./Chat-BxBNFg53.js"),__vite__mapDeps([82,57,8,83,84,85,86]),import.meta.url)),_O=I.lazy(()=>M(()=>import("./Calendar-DzPh9Bqb.js"),__vite__mapDeps([87,57,8,88,83,84,85,89,90,91,92,93,94,95]),import.meta.url)),PO=I.lazy(()=>M(()=>import("./Contact-BbvezgsY.js"),__vite__mapDeps([96,57,8,83,91,92,93,94,95]),import.meta.url)),wO=I.lazy(()=>M(()=>import("./Taskbar-_vk_52ZQ.js"),__vite__mapDeps([97,57,8,83,84,90]),import.meta.url)),CO=I.lazy(()=>M(()=>import("./Documents-BnxWpd6P.js"),__vite__mapDeps([98,57,8,99,5,59,60]),import.meta.url)),RO=I.lazy(()=>M(()=>import("./Media-Cp_pQa3g.js"),__vite__mapDeps([100,57,8,99,5,59,60]),import.meta.url)),AO=I.lazy(()=>M(()=>import("./Images-D-sjhqa_.js"),__vite__mapDeps([101,57,8,59,60,99,5]),import.meta.url)),IO=I.lazy(()=>M(()=>import("./NewPost-BkzEmmTT.js"),__vite__mapDeps([102,57,8,81]),import.meta.url)),OO=I.lazy(()=>M(()=>import("./BlogDetails-BXR3lBSv.js"),__vite__mapDeps([103,57,8,104,93,94,105]),import.meta.url)),DO=I.lazy(()=>M(()=>import("./BlogList-CWGmj48a.js"),__vite__mapDeps([106,57,8,104,93,94]),import.meta.url)),xO=I.lazy(()=>M(()=>import("./Typography-JWxRSf6m.js"),__vite__mapDeps([107,57,8]),import.meta.url)),LO=I.lazy(()=>M(()=>import("./Tabs-DNouq_3T.js"),__vite__mapDeps([108,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),MO=I.lazy(()=>M(()=>import("./Button-BMg0r5fv.js"),__vite__mapDeps([109,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),NO=I.lazy(()=>M(()=>import("./BootstrapUI-MGNF7dMI.js"),__vite__mapDeps([110,57,8,111,4,78,38,52,79,46,54,50,26,23,41,36,39,51,5,112,113,114,37,115,42,40,77,71,45,47,49,53,116]),import.meta.url)),$O=I.lazy(()=>M(()=>import("./Icons-BkCBV-JF.js"),__vite__mapDeps([117,57,8]),import.meta.url)),FO=I.lazy(()=>M(()=>import("./Notifications-BH8T2_Oe.js"),__vite__mapDeps([118,57,8,4,115,42,40,26,23,50,41,36,39,38,51,5]),import.meta.url)),jO=I.lazy(()=>M(()=>import("./Colors-C2s_bRAc.js"),__vite__mapDeps([119,57,8]),import.meta.url)),UO=I.lazy(()=>M(()=>import("./ListGroup-rNGbtpqk.js"),__vite__mapDeps([120,57,8]),import.meta.url)),BO=I.lazy(()=>M(()=>import("./MediaObject-YWEjJvy8.js"),__vite__mapDeps([121,57,8]),import.meta.url)),zO=I.lazy(()=>M(()=>import("./Modals-zuq0HMbh.js"),__vite__mapDeps([122,57,8,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,53,54]),import.meta.url)),VO=I.lazy(()=>M(()=>import("./ProgressBar-C-Xm0unj.js"),__vite__mapDeps([123,57,8,58,4,6]),import.meta.url)),GO=I.lazy(()=>M(()=>import("./Data-BJGZO9Li.js"),__vite__mapDeps([124,57,8,5,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53,58,6,84,85,89,125,90,83,126]),import.meta.url)),HO=I.lazy(()=>M(()=>import("./Weather-DSGMv-Bv.js"),__vite__mapDeps([127,57,8]),import.meta.url)),WO=I.lazy(()=>M(()=>import("./Blog-ReGbY3GL.js"),__vite__mapDeps([128,57,8,104,93,94,105,88]),import.meta.url)),qO=I.lazy(()=>M(()=>import("./ECommers-CcfG21n0.js"),__vite__mapDeps([129,57,8,88,93,94,95]),import.meta.url)),KO=I.lazy(()=>M(()=>import("./BlankPage-KJVeV3RT.js"),__vite__mapDeps([130,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),QO=I.lazy(()=>M(()=>import("./ProfileV1-DyQ7RFBn.js"),__vite__mapDeps([131,57,8,88,132,5,78,75,133,44,76,39,38,54,47,4,80,114,79,46,50,26,23,41,36,6]),import.meta.url)),YO=I.lazy(()=>M(()=>import("./ProfileV2-BzcuGOFq.js"),__vite__mapDeps([134,57,8,88,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53,125,89,90,84,83,85,135]),import.meta.url)),JO=I.lazy(()=>M(()=>import("./ImageGallery-2EyPioB6.js"),__vite__mapDeps([136,57,8,60,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53,132,5,133,47,114,50,26,23,41,6,137]),import.meta.url)),XO=I.lazy(()=>M(()=>import("./TimeLine-B-nu7I6S.js"),__vite__mapDeps([138,57,8]),import.meta.url)),ZO=I.lazy(()=>M(()=>import("./Pricing-qIC_BORh.js"),__vite__mapDeps([139,57,8,140,126,83,84,85,89,90,86]),import.meta.url)),eD=I.lazy(()=>M(()=>import("./Invoices-CTpT1_dR.js"),__vite__mapDeps([141,57,8,92,93]),import.meta.url)),tD=I.lazy(()=>M(()=>import("./InvoicesV2-dhBrOlwK.js"),__vite__mapDeps([142,57,8]),import.meta.url)),rD=I.lazy(()=>M(()=>import("./SearchResults-Do2g5fLc.js"),__vite__mapDeps([143,57,8]),import.meta.url)),nD=I.lazy(()=>M(()=>import("./HelperClass-1Mbhxf-G.js"),__vite__mapDeps([144,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),iD=I.lazy(()=>M(()=>import("./TeamsBoard-D-lTd198.js"),__vite__mapDeps([145,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53,58,6,140,126,83,84,85,89,90,86]),import.meta.url)),sD=I.lazy(()=>M(()=>import("./ProjectsList-CNYPwE69.js"),__vite__mapDeps([146,57,8,140,126,83,84,85,89,90,86]),import.meta.url)),oD=I.lazy(()=>M(()=>import("./Testimonials-xzNoz-vj.js"),__vite__mapDeps([147,57,8,83,84,85,89,38,115,42,40,79,46,54,4,78,6,41,36,26,23,39,140,126,90,86]),import.meta.url)),aD=I.lazy(()=>M(()=>import("./Faqs-CVKhaTC8.js"),__vite__mapDeps([148,57,8,112,4,78,41,36,26,23,39,113,114,52]),import.meta.url)),lD=I.lazy(()=>M(()=>import("./FormValidation-DlHQcIb2.js"),__vite__mapDeps([149,57,8,13,5]),import.meta.url)),uD=I.lazy(()=>M(()=>import("./BasicElements-DF2pR_0M.js"),__vite__mapDeps([150,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),cD=I.lazy(()=>M(()=>import("./TableNormal-CrRvXXei.js"),__vite__mapDeps([151,57,8]),import.meta.url)),dD=I.lazy(()=>M(()=>import("./Echart-Cr2RQrIB.js"),__vite__mapDeps([152,57,8,135]),import.meta.url)),hD=I.lazy(()=>M(()=>import("./GoogleMaps-B4JwemKw.js"),__vite__mapDeps([153,57,8,154]),import.meta.url)),fD=I.lazy(()=>M(()=>import("./Chat-DHA-llsR.js"),__vite__mapDeps([155,156,9,10,11,12,13,14,15,16,17,157,63,19,158,33,4,159,1,2,53,54,34,3,5,6,7,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52]),import.meta.url)),pD=I.lazy(()=>M(()=>import("./FlightEnquiry-DCQSn7rs.js"),__vite__mapDeps([160,57,8]),import.meta.url)),mD=I.lazy(()=>M(()=>import("./Promocode-CxW_dHLt.js"),__vite__mapDeps([161,57,8,74,4,44,36,75,43,76,38,37,77,42,71,54,78,79,46,39,80,53]),import.meta.url)),gD=I.lazy(()=>M(()=>import("./ExchangeRate-BCaSZv9o.js"),__vite__mapDeps([162,57,8,19,63,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,65,68,163,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),vD=I.lazy(()=>M(()=>import("./IndividualUser-B4vcNlCT.js"),__vite__mapDeps([164,157,63,1,2,132,5,78,75,133,44,76,39,38,54,47,4,80,114,79,46,50,26,23,41,36,6,155,156,9,10,11,12,13,14,15,16,17,19,158,33,159,53,34,3,7,35,37,40,42,43,45,48,49,51,52,64,65,165,166,167,21,22,168,169,170,171,32,172,173,174,175,176,177,20,178,116,24,25,27,28,179,57,8,180,181,18,69,182,70,71,183,184,185,72,111,186,187,68,188,189,74,77,190]),import.meta.url)),yD=I.lazy(()=>M(()=>import("./Demo-vjShRS0J.js"),[],import.meta.url)),SD=I.lazy(()=>M(()=>import("./Info-D_VAwJ1h.js"),__vite__mapDeps([165,19,63,166,9,10,11,12,13,14,15,16,17,1,2,167,21,22,23]),import.meta.url)),TD=I.lazy(()=>M(()=>import("./ExchangeRateForm-CnijC9uB.js"),__vite__mapDeps([191,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,19,33,3,6,7,34,111,78,79,54]),import.meta.url)),kD=I.lazy(()=>M(()=>import("./DeliveryMethod-Bz5Y-LZn.js"),__vite__mapDeps([192,57,8,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,19,1,2,3,6,7,68,163,72,10,11,12,13,17,21,16,22]),import.meta.url)),ED=I.lazy(()=>M(()=>import("./DeliveryMethodCreate-HbGsE4x9.js"),__vite__mapDeps([193,19,33,4,3,5,6,7,34,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52,53,54]),import.meta.url)),bD=I.lazy(()=>M(()=>import("./ServiceCharge-wpzbopLq.js"),__vite__mapDeps([194,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,63,3,6,7,163,72,10,11,12,13,17,21,16,22,195]),import.meta.url)),_D=I.lazy(()=>M(()=>import("./CreateServiceCharge-CIMBm6tv.js"),__vite__mapDeps([196,132,5,78,75,133,44,76,39,38,54,47,4,80,114,79,46,50,26,23,41,36,6,64,35,37,40,42,43,45,48,49,51,52,19,63,33,34,3,7]),import.meta.url)),PD=I.lazy(()=>M(()=>import("./IdIssuingAuthority-BAVGIjtb.js"),__vite__mapDeps([197,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,68,163,72,10,11,12,13,17,21,16,22]),import.meta.url)),wD=I.lazy(()=>M(()=>import("./CreateIdIssuingAuthority-CFh4B6Y0.js"),__vite__mapDeps([198,132,5,78,75,133,44,76,39,38,54,47,4,80,114,79,46,50,26,23,41,36,6,19,64,35,37,40,42,43,45,48,49,51,52,33,34,3,7]),import.meta.url)),CD=I.lazy(()=>M(()=>import("./PartnerBank-DNTPslId.js"),__vite__mapDeps([199,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,65,3,6,7,68,163,72,10,11,12,13,17,21,16,22]),import.meta.url)),RD=I.lazy(()=>M(()=>import("./CreatePartnerBank-JcUbyidu.js"),__vite__mapDeps([200,19,1,2,33,4,34,7,3,5,6]),import.meta.url)),AD=I.lazy(()=>M(()=>import("./PaymentMethods-BPAXuqK9.js"),__vite__mapDeps([201,63,3,4,5,6,7,57,8,19,64,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52,65,68,163,72,10,11,12,13,17,21,16,22,202]),import.meta.url)),ID=I.lazy(()=>M(()=>import("./CountrySettings-BpbFgSXF.js"),__vite__mapDeps([203,30,31,32,22,11,12,19,33,4,34,3,5,6,7,204]),import.meta.url)),OD=I.lazy(()=>M(()=>import("./RiskManagement-IE7i5vp3.js"),__vite__mapDeps([205,57,8,19,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,72,10,11,12,13,17,21,16,22]),import.meta.url)),DD=I.lazy(()=>M(()=>import("./CreateRiskManagement-D-wgJ2Sp.js"),__vite__mapDeps([206,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,19,33,34,3,6,7,53,54]),import.meta.url)),xD=I.lazy(()=>M(()=>import("./Recievers-BALvRZHD.js"),__vite__mapDeps([207,19,57,8,63]),import.meta.url)),LD=I.lazy(()=>M(()=>import("./NotificationTemplate-DiFRRtdI.js"),__vite__mapDeps([208,57,8,19,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,68,163,72,10,11,12,13,17,21,16,22]),import.meta.url)),MD=I.lazy(()=>M(()=>import("./NotificationTemplateCreate-CbXbtqZU.js"),__vite__mapDeps([209,57,8,210,211,81,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7,212]),import.meta.url)),ND=I.lazy(()=>M(()=>import("./Compliance-DtIImHIh.js"),__vite__mapDeps([213,19,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,69,63,33,7,3,6,183,214]),import.meta.url)),$D=I.lazy(()=>M(()=>import("./Rewards-Fe6zLDYv.js"),__vite__mapDeps([215,30,31,32,22,11,12,57,8,19,9,10,13,14,15,16,17,63,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,190,3,6,7,34,53,54,74,75,76,77,71,78,79,80,174,175,21,176,172,177,216]),import.meta.url)),FD=I.lazy(()=>M(()=>import("./Accounts-B0RicB9I.js"),__vite__mapDeps([217,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,163,3,6,7,72,10,11,12,13,17,21,16,22,218]),import.meta.url)),jD=I.lazy(()=>M(()=>import("./Agents-Btl_OUpK.js"),__vite__mapDeps([219,57,8,19,1,2,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,64,68,63,66,9,10,11,12,13,14,15,16,17,67,3,6,7,70,27,25,71,174,175,21,22,176,172,178,72]),import.meta.url)),UD=I.lazy(()=>M(()=>import("./PayoutPartner-pET7qIDq.js"),__vite__mapDeps([220,57,8,19,3,4,5,6,7,63,1,2,72,10,11,12,13,17,21,16,22,23]),import.meta.url)),BD=I.lazy(()=>M(()=>import("./PurposeOfTransfer-BNDeoELJ.js"),__vite__mapDeps([221,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,68,163,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),zD=I.lazy(()=>M(()=>import("./Relation-STveKPvK.js"),__vite__mapDeps([222,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,68,163,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),VD=I.lazy(()=>M(()=>import("./Occupation-BXY-fATw.js"),__vite__mapDeps([223,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,68,163,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),GD=I.lazy(()=>M(()=>import("./TypeOfID-C7R9klFB.js"),__vite__mapDeps([224,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,68,163,20,10,11,12,13,21,16,22,72,17]),import.meta.url)),HD=I.lazy(()=>M(()=>import("./CreateTypeOfID-IkvJ5VhQ.js"),__vite__mapDeps([225,30,31,32,22,11,12,19,33,4,3,5,6,7,34]),import.meta.url)),WD=I.lazy(()=>M(()=>import("./SendMoneyForms-ilZ8DBJ7.js"),__vite__mapDeps([226,57,8]),import.meta.url)),qD=I.lazy(()=>M(()=>import("./UtilityServiceTransaction-Dwq8K2e9.js"),__vite__mapDeps([227,57,8,19,228,229]),import.meta.url)),KD=I.lazy(()=>M(()=>import("./ReportedFund-CTepNAZD.js"),__vite__mapDeps([230,57,8,19,180,9,10,11,12,13,14,15,16,17,63,18,68,1,2,3,4,5,6,7,72,21,22,23,24,25,26,27,28,20,231]),import.meta.url)),QD=I.lazy(()=>M(()=>import("./Complaints-szz8M4VX.js"),__vite__mapDeps([232,57,8,19,180,9,10,11,12,13,14,15,16,17,63,18,3,4,5,6,7,68,1,2,72,21,22,23,24,25,26,27,28,20]),import.meta.url)),YD=I.lazy(()=>M(()=>import("./DeviceInfo-DWTPY62S.js"),__vite__mapDeps([233,57,8,19,63,67,9,10,11,12,13,14,15,16,17,68,1,2,7,4,3,5,6,53,54,183,72,21,22,23,234]),import.meta.url)),JD=I.lazy(()=>M(()=>import("./Reviews-BOqtQidj.js"),__vite__mapDeps([235,57,8,19,3,4,5,6,7,65,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52,64,236,18,9,10,11,12,13,14,15,16,17,72,21,22,24,25,27,28]),import.meta.url)),XD=I.lazy(()=>M(()=>import("./ApiLogs-WAg3fpJ2.js"),__vite__mapDeps([237,228,57,8]),import.meta.url)),tv=I.lazy(()=>M(()=>import("./Refunds-CpBkUgeU.js"),__vite__mapDeps([238,57,8,19,180,9,10,11,12,13,14,15,16,17,63,18,68,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,72,21,22,24,25,27,28,20]),import.meta.url)),ZD=I.lazy(()=>M(()=>import("./CountrySettingList-CpaOyi0p.js"),__vite__mapDeps([239,63,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),ex=I.lazy(()=>M(()=>import("./DeliveryMethodList-ZO01nN5Y.js"),__vite__mapDeps([240,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,163,3,6,7]),import.meta.url)),tx=I.lazy(()=>M(()=>import("./AddDeliveryType-DgY4Fd2J.js"),__vite__mapDeps([241,19,3,4,5,6,7,34,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,52]),import.meta.url)),rx=I.lazy(()=>M(()=>import("./PaymentType-rlIUaO0G.js"),__vite__mapDeps([242,57,8,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7]),import.meta.url)),nx=I.lazy(()=>M(()=>import("./AddPaymenttype-CyIKfqyq.js"),__vite__mapDeps([243,19,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,3,6,7,34]),import.meta.url)),ix=I.lazy(()=>M(()=>import("./SendMoneyFormsCreate-EtUh9XuA.js"),__vite__mapDeps([244,19,33,4,3,5,6,7,34]),import.meta.url)),sx=I.lazy(()=>M(()=>import("./TransactionViewPage-D6oU6ZLJ.js"),__vite__mapDeps([245,57,8,19,63,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,167,10,11,12,13,16,21,22,74,75,76,77,71,54,78,79,80,53,20,246]),import.meta.url)),ox=I.lazy(()=>M(()=>import("./UserTransactionView-BL71VNN5.js"),__vite__mapDeps([247,57,8,19,63,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,167,10,11,12,13,16,21,22,74,75,76,77,71,54,78,79,80,53,20,246]),import.meta.url)),ax=I.lazy(()=>M(()=>import("./TransactionInvoice-DonKU1Qr.js"),__vite__mapDeps([248,19,63,249]),import.meta.url)),lx=I.lazy(()=>M(()=>import("./AddAccounts-Rj8sQMkn.js"),__vite__mapDeps([250,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,19,1,2,33,34,3,6,7,53,54]),import.meta.url)),ux=I.lazy(()=>M(()=>import("./ChatScreen-hrqafz7u.js"),__vite__mapDeps([251,156,9,10,11,12,13,14,15,16,17,157,63,19,57,8,1,2,4,46,38,35,36,37,39,40,41,26,23,42,43,44,45,47,48,49,50,51,5,52,80,158,33,159,53,54,34,3,6,7,252]),import.meta.url)),cx=I.lazy(()=>M(()=>import("./TableResponsive-B5ehPWNk.js"),__vite__mapDeps([253,30,31,32,22,11,12,5,254,9,10,13,14,15,16,17,169,170,21,23,171,19,20,182,24,25,26,27,173,70,71,174,175,176,172,177,255,180,181,18,63,81,1,2,68,57,8,69,166,64,35,4,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,65,3,6,7,72,28,256,184,185,111,78,79,54,186,257,258]),import.meta.url)),dx=I.lazy(()=>M(()=>import("./KycFormManagement-USpEP1Ja.js"),__vite__mapDeps([259,228,57,8]),import.meta.url)),hx=I.lazy(()=>M(()=>import("./ContactUs-BuGbKbNb.js"),__vite__mapDeps([260,57,8,19,1,2,68,63,81,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,72,10,11,12,13,17,21,16,22,24,25,14,27,28,20]),import.meta.url)),fx=I.lazy(()=>M(()=>import("./FAQContent-B3WT_NEs.js"),__vite__mapDeps([261,57,8,19,63,18,9,10,11,12,13,14,15,16,17,68,1,2,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,64,262,3,6,7,72,21,22,24,25,27,28,20,263]),import.meta.url)),px=I.lazy(()=>M(()=>import("./AddFAQContent-bOp2sCZz.js"),__vite__mapDeps([264,57,8,210,211,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7]),import.meta.url)),mx=I.lazy(()=>M(()=>import("./CMSManagement-BsBuQ6tL.js"),__vite__mapDeps([265,57,8,19,68,1,2,3,4,5,6,7,72,10,11,12,13,17,21,16,22,23]),import.meta.url)),gx=I.lazy(()=>M(()=>import("./EditCMSPage-DpBntLUg.js"),__vite__mapDeps([266,57,8,210,211,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7,34]),import.meta.url)),vx=I.lazy(()=>M(()=>import("./AboutUSContent-CWp4VgA_.js"),__vite__mapDeps([267,57,8,19,68,1,2,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,64,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),yx=I.lazy(()=>M(()=>import("./EditAboutUSContentPage-D8-NfWVA.js"),__vite__mapDeps([268,57,8,210,211,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7,34]),import.meta.url)),Sx=I.lazy(()=>M(()=>import("./OurAgents-DbpHBWyU.js"),__vite__mapDeps([269,19,180,9,10,11,12,13,14,15,16,17,63,18,68,1,2,57,8,3,4,5,6,7,72,21,22,23,24,25,26,27,28,20]),import.meta.url)),Tx=I.lazy(()=>M(()=>import("./AgentDetails-C5qRdcrj.js"),__vite__mapDeps([270,19,157,63,1,2,3,4,5,6,7,166,9,10,11,12,13,14,15,16,17,168,132,78,75,133,44,76,39,38,54,47,80,114,79,46,50,26,23,41,36,169,170,21,22,171,32,64,35,37,40,42,43,45,48,49,51,52,172,173,174,175,176,177,20,34,178,116,24,25,27,28,179,57,8,180,181,18,69,65,182,70,71,183,184,185,72,111,186,187,68,167,159]),import.meta.url)),kx=I.lazy(()=>M(()=>import("./BlogsManagement-BxwteBZx.js"),__vite__mapDeps([271,57,8,19,63,68,1,2,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,64,3,6,7,72,10,11,12,13,17,21,16,22]),import.meta.url)),Ex=I.lazy(()=>M(()=>import("./EditBlogsManagement-DpNntlrz.js"),__vite__mapDeps([272,57,8,210,211,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7,34,186,10,11,12,13,175,174,21,16,22,17,176,172,177]),import.meta.url)),bx=I.lazy(()=>M(()=>import("./CareerManagement-BZiXrJQK.js"),__vite__mapDeps([273,57,8,19,68,1,2,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,65,3,6,7,72,10,11,12,13,17,21,16,22,24,25,14,27,28,20]),import.meta.url)),_x=I.lazy(()=>M(()=>import("./ViewCareerManagement-CIwY489Y.js"),__vite__mapDeps([274,57,8,210,211,19,1,2,9,10,11,12,13,14,15,16,17]),import.meta.url)),Px=I.lazy(()=>M(()=>import("./EditReviews-DKckga9K.js"),__vite__mapDeps([275,210,211,19,64,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,1,2,3,6,7,34]),import.meta.url)),wx=I.lazy(()=>M(()=>import("./NewsPage-Bd7INwkJ.js"),__vite__mapDeps([276,57,8,19,18,9,10,11,12,13,14,15,16,17,68,1,2,262,3,4,5,6,7,72,21,22,23,24,25,26,27,28,263]),import.meta.url)),Cx=I.lazy(()=>M(()=>import("./AddCareerManagement-2bnoF286.js"),__vite__mapDeps([277,19,3,4,5,6,7,34]),import.meta.url)),Rx=I.lazy(()=>M(()=>import("./Conference-DKKWavxJ.js"),__vite__mapDeps([158,10,11,12,13,33,4,159]),import.meta.url)),Ax=I.lazy(()=>M(()=>import("./Notification-CooEX3PR.js"),__vite__mapDeps([278,19,1,2,33,4,72,10,11,12,13,17,21,16,22,23,279]),import.meta.url)),Ix=I.lazy(()=>M(()=>import("./Configuration-C6hZd58s.js"),__vite__mapDeps([280,57,8,19,3,4,5,6,7]),import.meta.url)),Ox=I.lazy(()=>M(()=>import("./AddUpdateConfig-v6tzb5fZ.js"),__vite__mapDeps([281,19,1,2,3,4,5,6,7]),import.meta.url)),Dx=I.lazy(()=>M(()=>import("./CancelTransactions-BJMGKTLw.js"),__vite__mapDeps([282,57,8,19,180,9,10,11,12,13,14,15,16,17,63,68,1,2,18,65,35,4,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,64,3,6,7,72,21,22,24,25,27,28,20]),import.meta.url)),Zc=[{id:V(),path:"dashboard",name:"Dashboard",component:R.jsx(gO,{})},{id:V(),path:"kycfrommangement",name:"kycfrommangement",component:R.jsx(dx,{})},{id:V(),path:"users",name:"Users",component:R.jsx(kO,{})},{id:V(),path:"deliveryMethod",name:"deliveryMethod",component:R.jsx(kD,{})},{id:V(),path:"deliveryMethodCreate",name:"DeliveryMethodCreate",component:R.jsx(ED,{})},{id:V(),path:"individualuser",name:"IndividualUser",component:R.jsx(vD,{})},{id:V(),path:"info",name:"Info",component:R.jsx(SD,{})},{id:V(),path:"demo",name:"Demo",component:R.jsx(yD,{})},{id:V(),path:"chat",name:"Chat",component:R.jsx(fD,{})},{id:V(),path:"reciever",name:"Reciever",component:R.jsx(xD,{})},{id:V(),path:"notifications",name:"Notifications",component:R.jsx(Ax,{})},{id:V(),path:"transaction-utility",name:"transaction-utility",component:R.jsx(cx,{})},{id:V(),path:"transaction-view",name:"transaction-view",component:R.jsx(sx,{})},{id:V(),path:"user-transaction-view",name:"user-transaction-view",component:R.jsx(ox,{})},{id:V(),path:"compliance",name:"compliance",component:R.jsx(ND,{})},{id:V(),path:"transaction-invoice",name:"transaction-invoice",component:R.jsx(ax,{})},{id:V(),path:"rewards",name:"rewards",component:R.jsx($D,{})},{id:V(),path:"agents",name:"agents",component:R.jsx(jD,{})},{id:V(),path:"accounts",name:"accounts",component:R.jsx(FD,{})},{id:V(),path:"add-accounts",name:"add-accounts",component:R.jsx(lx,{})},{id:V(),path:"flight-enquiry",name:"flight-enquiry",component:R.jsx(pD,{})},{id:V(),path:"exchange-rate",name:"exchange-rate",component:R.jsx(gD,{})},{id:V(),path:"id-issuing-authority",name:"id-issuing-authority",component:R.jsx(PD,{})},{id:V(),path:"create-id-issuing-authority",name:"create-id-issuing-authority",component:R.jsx(wD,{})},{id:V(),path:"service-charge",name:"service-charge",component:R.jsx(bD,{})},{id:V(),path:"create-service-charge",name:"create-service-charge",component:R.jsx(_D,{})},{id:V(),path:"partner-bank",name:"partner-bank",component:R.jsx(CD,{})},{id:V(),path:"create-partner-bank",name:"create-partner-bank",component:R.jsx(RD,{})},{id:V(),path:"payment-methods",name:"payment-methods",component:R.jsx(AD,{})},{id:V(),path:"create-payment-methods",name:"create-payment-methods",component:R.jsx(vO,{})},{id:V(),path:"update-payment-methods",name:"update-payment-methods",component:R.jsx(yO,{})},{id:V(),path:"payout-partners",name:"payout-partners",component:R.jsx(UD,{})},{id:V(),path:"purpose-of-transfer",name:"purpose-of-transfer",component:R.jsx(BD,{})},{id:V(),path:"relation",name:"relation",component:R.jsx(zD,{})},{id:V(),path:"occupation",name:"occupation",component:R.jsx(VD,{})},{id:V(),path:"typeofid",name:"typeofid",component:R.jsx(GD,{})},{id:V(),path:"create-type-of-id",name:"create-type-of-id",component:R.jsx(HD,{})},{id:V(),path:"country-settings-list",name:"country-settings-list",component:R.jsx(ZD,{})},{id:V(),path:"country-settings",name:"country-settings",component:R.jsx(ID,{})},{id:V(),path:"send-money-forms",name:"send-money-forms",component:R.jsx(WD,{})},{id:V(),path:"send-money-forms-create",name:"send-money-forms-create",component:R.jsx(ix,{})},{id:V(),path:"reported-fraud",name:"reported-fraud",component:R.jsx(KD,{})},{id:V(),path:"faq-content",name:"faq-content",component:R.jsx(fx,{})},{id:V(),path:"news",name:"news",component:R.jsx(wx,{})},{id:V(),path:"add-faq-content",name:"add-faq-content",component:R.jsx(px,{})},{id:V(),path:"CMS",name:"CMS",component:R.jsx(mx,{})},{id:V(),path:"edit-CMS",name:"edit-CMS",component:R.jsx(gx,{})},{id:V(),path:"blogsmangement",name:"blogsmangement",component:R.jsx(kx,{})},{id:V(),path:"edit-blogs",name:"edit-blogs",component:R.jsx(Ex,{})},{id:V(),path:"edit-reviews",name:"edit-reviews",component:R.jsx(Px,{})},{id:V(),path:"aboutus-CMS",name:"aboutus-CMS",component:R.jsx(vx,{})},{id:V(),path:"siteconfig",name:"siteconfig",component:R.jsx(Ix,{})},{id:V(),path:"addupdateconfig",name:"addupdateconfig",component:R.jsx(Ox,{})},{id:V(),path:"editaboutus-CMS",name:"editaboutus-CMS",component:R.jsx(yx,{})},{id:V(),path:"careermanagement",name:"careermanagement",component:R.jsx(bx,{})},{id:V(),path:"view-careermanagement",name:"view-careermanagement",component:R.jsx(_x,{})},{id:V(),path:"add-careermanagement",name:"add-careermanagement",component:R.jsx(Cx,{})},{id:V(),path:"refund",name:"refund",component:R.jsx(tv,{})},{id:V(),path:"canceltransactions",name:"canceltransactions",component:R.jsx(Dx,{})},{id:V(),path:"complaints-admin",name:"complaints-admin",component:R.jsx(QD,{})},{id:V(),path:"refunds",name:"refunds",component:R.jsx(tv,{})},{id:V(),path:"contactUs",name:"contactUs",component:R.jsx(hx,{})},{id:V(),path:"ouragents",name:"ouragents",component:R.jsx(Sx,{})},{id:V(),path:"agent-details",name:"agent-details",component:R.jsx(Tx,{})},{id:V(),path:"deviceinfo",name:"deviceinfo",component:R.jsx(YD,{})},{id:V(),path:"api-logs",name:"api-logs",component:R.jsx(XD,{})},{id:V(),path:"reviews",name:"reviews",component:R.jsx(JD,{})},{id:V(),path:"utility-service-transaction",name:"utility-service-transaction",component:R.jsx(qD,{})},{id:V(),path:"exchange-rate-form",name:"exchange-rate-form",component:R.jsx(TD,{})},{id:V(),path:"risk-management",name:"risk-management",component:R.jsx(OD,{})},{id:V(),path:"create-risk-management",name:"create-risk-management",component:R.jsx(DD,{})},{id:V(),path:"notification-template",name:"notification-template",component:R.jsx(LD,{})},{id:V(),path:"notification-template-create",name:"notification-template-create",component:R.jsx(MD,{})},{id:V(),path:"promocode",name:"promocode",component:R.jsx(mD,{})},{id:V(),path:"appinbox",name:"appinbox",component:R.jsx(EO,{})},{id:V(),path:"appchat",name:"appchat",component:R.jsx(bO,{})},{id:V(),path:"appcalendar",name:"appcalendar",component:R.jsx(_O,{})},{id:V(),path:"appcontact",name:"appcontact",component:R.jsx(PO,{})},{id:V(),path:"apptaskbar",name:"apptaskbar",component:R.jsx(wO,{})},{id:V(),path:"filemanagerdashboard",name:"filemanagerdashboard",component:R.jsx(SO,{})},{id:V(),path:"filedocuments",name:"filedocuments",component:R.jsx(CO,{})},{id:V(),path:"filemedia",name:"filemedia",component:R.jsx(RO,{})},{id:V(),path:"fileimages",name:"fileimages",component:R.jsx(AO,{})},{id:V(),path:"blognewpost",name:"blognewpost",component:R.jsx(IO,{})},{id:V(),path:"blogdetails",name:"blogdetails",component:R.jsx(OO,{})},{id:V(),path:"bloglist",name:"bloglist",component:R.jsx(DO,{})},{id:V(),path:"uitypography",name:"uitypography",component:R.jsx(xO,{})},{id:V(),path:"uitabs",name:"uitabs",component:R.jsx(LO,{})},{id:V(),path:"bootstrapui",name:"bootstrapui",component:R.jsx(NO,{})},{id:V(),path:"uiicons",name:"uiicons",component:R.jsx($O,{})},{id:V(),path:"uinotifications",name:"uinotifications",component:R.jsx(FO,{})},{id:V(),path:"uicolors",name:"uicolors",component:R.jsx(jO,{})},{id:V(),path:"uilistgroup",name:"uilistgroup",component:R.jsx(UO,{})},{id:V(),path:"uimediaobject",name:"uimediaobject",component:R.jsx(BO,{})},{id:V(),path:"uimodal",name:"uimodal",component:R.jsx(zO,{})},{id:V(),path:"uibuttons",name:"uibuttons",component:R.jsx(MO,{})},{id:V(),path:"uiprogressbar",name:"uiprogressbar",component:R.jsx(VO,{})},{id:V(),path:"widgetsdata",name:"widgetsdata",component:R.jsx(GO,{})},{id:V(),path:"widgetsweather",name:"widgetsweather",component:R.jsx(HO,{})},{id:V(),path:"widgetsblog",name:"widgetsblog",component:R.jsx(WO,{})},{id:V(),path:"widgetsecommers",name:"widgetsecommers",component:R.jsx(qO,{})},{id:V(),path:"blankpage",name:"blankpage",component:R.jsx(KO,{})},{id:V(),path:"profilev1page",name:"profilev1page",component:R.jsx(QO,{})},{id:V(),path:"profilev2page",name:"profilev2page",component:R.jsx(YO,{})},{id:V(),path:"imagegalleryprofile",name:"imagegalleryprofile",component:R.jsx(JO,{})},{id:V(),path:"timeline",name:"timeline",component:R.jsx(XO,{})},{id:V(),path:"pricing",name:"pricing",component:R.jsx(ZO,{})},{id:V(),path:"chatscreen",name:"chatscreen",component:R.jsx(ux,{})},{id:V(),path:"invoices",name:"invoices",component:R.jsx(eD,{})},{id:V(),path:"invoicesv2",name:"invoicesv2",component:R.jsx(tD,{})},{id:V(),path:"searchresult",name:"searchresult",component:R.jsx(rD,{})},{id:V(),path:"helperclass",name:"helperclass",component:R.jsx(nD,{})},{id:V(),path:"teamsboard",name:"teamsboard",component:R.jsx(iD,{})},{id:V(),path:"projectslist",name:"projectslist",component:R.jsx(sD,{})},{id:V(),path:"testimonials",name:"testimonials",component:R.jsx(oD,{})},{id:V(),path:"faqs",name:"faqs",component:R.jsx(aD,{})},{id:V(),path:"formvalidation",name:"formvalidation",component:R.jsx(lD,{})},{id:V(),path:"basicelements",name:"basicelements",component:R.jsx(uD,{})},{id:V(),path:"tablenormal",name:"tablenormal",component:R.jsx(cD,{})},{id:V(),path:"echart",name:"echart",component:R.jsx(dD,{})},{id:V(),path:"leafletmap",name:"leafletmap",component:R.jsx(hD,{})},{id:V(),path:"deliverymethodlist",name:"deliverymethodlist",component:R.jsx(ex,{})},{id:V(),path:"adddeliverytype",name:"adddeliverytype",component:R.jsx(tx,{})},{id:V(),path:"addpoints",name:"addpoints",component:R.jsx(TO,{})},{id:V(),path:"paymenttype",name:"paymenttype",component:R.jsx(rx,{})},{id:V(),path:"addpaymenttype",name:"addpaymenttype",component:R.jsx(nx,{})},{id:V(),path:"call",name:"call",component:R.jsx(Rx,{})}],xx=I.lazy(()=>M(()=>import("./Dashbord-sFHY2dTM.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),Lx=I.lazy(()=>M(()=>import("./AppLayout-CN3KAFnJ.js"),__vite__mapDeps([283,1,2,284,53,4,54,33,7,34,285,78,133,44,76,39,38,286,19,173,10,11,12,13,176,170,179,16,15,25,21,22,23,287,254,9,14,17,288,256,185,26,289,20,172,28,184,290]),import.meta.url)),Mx=I.lazy(()=>M(()=>import("./DashboardLayout-BkNn4uHB.js"),__vite__mapDeps([291,288,9,10,11,12,13,14,15,16,17,27,25,21,22,23,256,28,172,184,20,173,176,24,26]),import.meta.url)),Nx=I.lazy(()=>M(()=>import("./NewProfilePage-DCskZ3Tm.js"),__vite__mapDeps([292,284,53,4,54,33,7,34,285,78,133,44,76,39,38,286,19,173,10,11,12,13,176,170,179,16,15,25,21,22,23,287,188,178,174,175,17,172,189,27,185,26,9,14,293,294,295,182,24,70,71,184,167,256,5,257,48,49,20,186,289,296,288,28]),import.meta.url)),$x=I.lazy(()=>M(()=>import("./NewSignUpPage-CroAaTjp.js"),__vite__mapDeps([297,294,12,293,295,10,11,13,175,15,182,24,25,16,26,23,14,27,173,70,71,17,170,178,174,21,22,176,172,184,167,256,5,257,48,49,20,179,186,189,9,296,28,18,255,171,181,289,298]),import.meta.url)),rv=I.lazy(()=>M(()=>import("./Home-DABRnRDN.js"),__vite__mapDeps([299,33,4,286,113,114,52,53,54,34,7,3,5,6,19,173,10,11,12,13,176,70,14,27,25,16,71,17,15,26,23,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,116,28,236,20,21,22,24,295,175,182,170,300]),import.meta.url)),Fx=I.lazy(()=>M(()=>import("./Maintanance-DY6ejlha.js"),[],import.meta.url)),jx=I.lazy(()=>M(()=>import("./NewLoginPage-BOOyAzUc.js"),__vite__mapDeps([301,181,9,10,11,12,13,14,15,16,17,293,294,295,175,182,24,25,26,23,27,173,70,71,170,178,174,21,22,176,172,184,167,256,5,257,48,49,20,179,186,189,302,1,2,289,298,28]),import.meta.url)),Ux=I.lazy(()=>M(()=>import("./ForgotPassword-B23_8LyB.js"),__vite__mapDeps([303,53,4,54,33,7,34,286,19,1,2,35,36,37,38,39,40,41,26,23,42,43,44,45,46,47,48,49,50,51,5,52,302,12,294,116,3,6,304,287,290]),import.meta.url)),Bx=I.lazy(()=>M(()=>import("./VerifyEmailPage-BBJeRap-.js"),__vite__mapDeps([305,1,2,19]),import.meta.url)),zx=I.lazy(()=>M(()=>import("./Page404-C77iP9eO.js"),[],import.meta.url)),Vx=I.lazy(()=>M(()=>import("./Page403-BYi_G6JP.js"),__vite__mapDeps([306,307]),import.meta.url)),Gx=I.lazy(()=>M(()=>import("./Page500-B3zMMXCL.js"),__vite__mapDeps([308,307]),import.meta.url)),Hx=I.lazy(()=>M(()=>import("./Page503-B1o36C7x.js"),__vite__mapDeps([309,307]),import.meta.url)),Wx=I.lazy(()=>M(()=>import("./DynamicCMSPage-BtuI0Ab4.js"),__vite__mapDeps([310,19,262,33,4]),import.meta.url)),qx=I.lazy(()=>M(()=>import("./Registration-CpebzzEg.js"),__vite__mapDeps([311,307]),import.meta.url)),Kx=I.lazy(()=>M(()=>import("./Lockscreen-Lge4YpBn.js"),__vite__mapDeps([312,307]),import.meta.url)),Qx=I.lazy(()=>M(()=>import("./AboutUsPage-DLm7OosP.js"),__vite__mapDeps([313,33,4,1,2,286,314,290,287]),import.meta.url)),Yx=I.lazy(()=>M(()=>import("./ContactUsPage-DJJdo0_c.js"),__vite__mapDeps([315,285,4,78,133,44,76,39,38,54,19,1,2,286,33,34,7,3,5,6,53]),import.meta.url)),Jx=()=>{const{role:e,verified:t}=bI(r=>r.auth);return R.jsx(h1,{hashType:"slash",children:R.jsx(g1,{children:R.jsx($.Suspense,{fallback:R.jsx(cI,{}),children:R.jsxs(s1,{children:[R.jsxs(ze,{exact:!0,path:"/",element:R.jsx(Lx,{}),children:[R.jsx(ze,{exact:!0,index:!0,element:R.jsx(rv,{})}),R.jsx(ze,{exact:!0,path:"login",element:R.jsx(jx,{})}),R.jsx(ze,{exact:!0,path:"signup",element:R.jsx($x,{})}),R.jsx(ze,{exact:!0,path:"maintanance",element:R.jsx(Fx,{})}),R.jsx(ze,{exact:!0,path:"forgotpassword",element:R.jsx(Ux,{})}),R.jsx(ze,{exact:!0,path:"verifyemail",element:R.jsx(Bx,{})}),R.jsx(ze,{exact:!0,path:"page404",element:R.jsx(zx,{})}),R.jsx(ze,{exact:!0,path:"page403",element:R.jsx(Vx,{})}),R.jsx(ze,{exact:!0,path:"page500",element:R.jsx(Gx,{})}),R.jsx(ze,{exact:!0,path:"page503",element:R.jsx(Hx,{})}),R.jsx(ze,{exact:!0,path:"/:id",element:R.jsx(Wx,{})}),R.jsx(ze,{path:"/sendmoney",element:t?R.jsx(Xa,{to:"/sendmoney"}):R.jsx(Xa,{to:"/login"})}),R.jsx(ze,{path:"/chat",element:t?R.jsx(Xa,{to:"/chat"}):R.jsx(Xa,{to:"/login"})}),R.jsx(ze,{exact:!0,path:"about-us",element:R.jsx(Qx,{})}),R.jsx(ze,{exact:!0,path:"contact-us",element:R.jsx(Yx,{})}),R.jsx(ze,{exact:!0,path:"registration",element:R.jsx(qx,{})}),R.jsx(ze,{exact:!0,path:"lockscreen",element:R.jsx(Kx,{})})]}),t&&e==="ADMIN"&&R.jsxs(ze,{exact:!0,path:"/dashboard",element:R.jsx(Mx,{}),children:[R.jsx(ze,{exact:!0,index:!0,element:R.jsx(xx,{})}),Zc==null?void 0:Zc.map(r=>R.jsx(ze,{index:!0,path:r==null?void 0:r.path,exact:!0,element:r==null?void 0:r.component},r==null?void 0:r.id))]}),!t&&(e==="USER"||e==="BUSINESS")&&R.jsx(ze,{exact:!0,path:"/profile",element:R.jsx(Nx,{})}),t&&(e==="USER"||e==="BUSINESS")&&R.jsx(ze,{exact:!0,path:"/home",element:R.jsx(rv,{})})]})})})})},Xx=()=>R.jsx(R.Fragment,{children:R.jsx(Jx,{})});function Zx(e){let t;const r=new Set,n=(u,c)=>{const d=typeof u=="function"?u(t):u;if(d!==t){const h=t;t=c?d:Object.assign({},t,d),r.forEach(f=>f(t,h))}},i=()=>t,s=(u,c=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(t);function f(){const m=c(t);if(!d(h,m)){const p=h;u(h=m,p)}}return r.add(f),()=>r.delete(f)},l={setState:n,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(r.add(u),()=>r.delete(u)),destroy:()=>r.clear()};return t=e(n,i,l),l}const eL=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nv=eL?$.useEffect:$.useLayoutEffect;function el(e){const t=typeof e=="function"?Zx(e):e,r=(n=t.getState,i=Object.is)=>{const[,s]=$.useReducer(k=>k+1,0),o=t.getState(),a=$.useRef(o),l=$.useRef(n),u=$.useRef(i),c=$.useRef(!1),d=$.useRef();d.current===void 0&&(d.current=n(o));let h,f=!1;(a.current!==o||l.current!==n||u.current!==i||c.current)&&(h=n(o),f=!i(d.current,h)),nv(()=>{f&&(d.current=h),a.current=o,l.current=n,u.current=i,c.current=!1});const m=$.useRef(o);nv(()=>{const k=()=>{try{const y=t.getState(),S=l.current(y);u.current(d.current,S)||(a.current=y,d.current=S,s())}catch{c.current=!0,s()}},T=t.subscribe(k);return t.getState()!==m.current&&k(),T},[]);const p=f?h:d.current;return $.useDebugValue(p),p};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const n=[r,t];return{next(){const i=n.length<=0;return{value:n.shift(),done:i}}}},r}function tL(e,t){return e===t}function rL(e,t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}function nL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tL,r=null,n=null;return function(){return rL(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}function iL(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(n){return typeof n=="function"})){var r=t.map(function(n){return typeof n}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+r+"]"))}return t}function sL(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var i=arguments.length,s=Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=0,l=s.pop(),u=iL(s),c=e.apply(void 0,[function(){return a++,l.apply(null,arguments)}].concat(r)),d=e(function(){for(var h=[],f=u.length,m=0;m<f;m++)h.push(u[m].apply(null,arguments));return c.apply(null,h)});return d.resultFunc=l,d.dependencies=u,d.recomputations=function(){return a},d.resetRecomputations=function(){return a=0},d}}var Z=sL(nL),Th={exports:{}};(function(e,t){(function(r,n){var i="1.0.38",s="",o="?",a="function",l="undefined",u="object",c="string",d="major",h="model",f="name",m="type",p="vendor",k="version",T="architecture",y="console",S="mobile",w="tablet",F="smarttv",U="wearable",L="embedded",z=500,J="Amazon",Q="Apple",re="ASUS",de="BlackBerry",ce="Browser",te="Chrome",j="Edge",W="Firefox",X="Google",g="Huawei",b="LG",P="Microsoft",C="Motorola",A="Opera",D="Samsung",N="Sharp",G="Sony",x="Xiaomi",H="Zebra",ne="Facebook",me="Chromium OS",le="Mac OS",fe=function(Pe,Ae){var ve={};for(var Ie in Pe)Ae[Ie]&&Ae[Ie].length%2===0?ve[Ie]=Ae[Ie].concat(Pe[Ie]):ve[Ie]=Pe[Ie];return ve},he=function(Pe){for(var Ae={},ve=0;ve<Pe.length;ve++)Ae[Pe[ve].toUpperCase()]=Pe[ve];return Ae},_e=function(Pe,Ae){return typeof Pe===c?_t(Ae).indexOf(_t(Pe))!==-1:!1},_t=function(Pe){return Pe.toLowerCase()},hr=function(Pe){return typeof Pe===c?Pe.replace(/[^\d\.]/g,s).split(".")[0]:n},fr=function(Pe,Ae){if(typeof Pe===c)return Pe=Pe.replace(/^\s\s*/,s),typeof Ae===l?Pe:Pe.substring(0,z)},Ir=function(Pe,Ae){for(var ve=0,Ie,Yt,Jt,ke,pe,Xt;ve<Ae.length&&!pe;){var Hs=Ae[ve],Ws=Ae[ve+1];for(Ie=Yt=0;Ie<Hs.length&&!pe&&Hs[Ie];)if(pe=Hs[Ie++].exec(Pe),pe)for(Jt=0;Jt<Ws.length;Jt++)Xt=pe[++Yt],ke=Ws[Jt],typeof ke===u&&ke.length>0?ke.length===2?typeof ke[1]==a?this[ke[0]]=ke[1].call(this,Xt):this[ke[0]]=ke[1]:ke.length===3?typeof ke[1]===a&&!(ke[1].exec&&ke[1].test)?this[ke[0]]=Xt?ke[1].call(this,Xt,ke[2]):n:this[ke[0]]=Xt?Xt.replace(ke[1],ke[2]):n:ke.length===4&&(this[ke[0]]=Xt?ke[3].call(this,Xt.replace(ke[1],ke[2])):n):this[ke]=Xt||n;ve+=2}},xt=function(Pe,Ae){for(var ve in Ae)if(typeof Ae[ve]===u&&Ae[ve].length>0){for(var Ie=0;Ie<Ae[ve].length;Ie++)if(_e(Ae[ve][Ie],Pe))return ve===o?n:ve}else if(_e(Ae[ve],Pe))return ve===o?n:ve;return Pe},ut={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},wa={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ca={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,k],[/opios[\/ ]+([\w\.]+)/i],[k,[f,A+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[k,[f,A+" GX"]],[/\bopr\/([\w\.]+)/i],[k,[f,A]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[k,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,k],[/\bddg\/([\w\.]+)/i],[k,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[f,"UC"+ce]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[k,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[k,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[k,[f,"Smart Lenovo "+ce]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+ce],k],[/\bfocus\/([\w\.]+)/i],[k,[f,W+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[f,A+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[f,A+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[f,"MIUI "+ce]],[/fxios\/([-\w\.]+)/i],[k,[f,W]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+ce]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+ce],k],[/samsungbrowser\/([\w\.]+)/i],[k,[f,D+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],k],[/metasr[\/ ]?([\d\.]+)/i],[k,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,k],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,ne],k],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[k,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[f,te+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,te+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[f,"Android "+ce]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[k,xt,ut]],[/(webkit|khtml)\/([\w\.]+)/i],[f,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[f,W+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,k],[/(cobalt)\/([\w\.]+)/i],[f,[k,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[T,"amd64"]],[/(ia32(?=;))/i],[[T,_t]],[/((?:i[346]|x)86)[;\)]/i],[[T,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[T,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[T,"armhf"]],[/windows (ce|mobile); ppc;/i],[[T,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[T,/ower/,s,_t]],[/(sun4\w)[;\)]/i],[[T,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[T,_t]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[p,D],[m,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[p,D],[m,S]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[p,Q],[m,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[p,Q],[m,w]],[/(macintosh);/i],[h,[p,Q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[p,N],[m,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[p,g],[m,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[p,g],[m,S]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[p,x],[m,S]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[p,x],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[p,"OPPO"],[m,S]],[/\b(opd2\d{3}a?) bui/i],[h,[p,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[p,"Vivo"],[m,S]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[p,"Realme"],[m,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[p,C],[m,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[p,C],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[p,b],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[p,b],[m,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[p,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[p,"Nokia"],[m,S]],[/(pixel c)\b/i],[h,[p,X],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[p,X],[m,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[p,G],[m,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[p,G],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[p,"OnePlus"],[m,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[p,J],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[p,J],[m,S]],[/(playbook);[-\w\),; ]+(rim)/i],[h,p,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[p,de],[m,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[p,re],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[p,re],[m,S]],[/(nexus 9)/i],[h,[p,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[h,/_/g," "],[m,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[p,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[p,"Meizu"],[m,S]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[p,"Ulefone"],[m,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,h,[m,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,h,[m,w]],[/(surface duo)/i],[h,[p,P],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[p,"Fairphone"],[m,S]],[/(u304aa)/i],[h,[p,"AT&T"],[m,S]],[/\bsie-(\w*)/i],[h,[p,"Siemens"],[m,S]],[/\b(rct\w+) b/i],[h,[p,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[h,[p,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[h,[p,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[p,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[h,[p,"NuVision"],[m,w]],[/\b(k88) b/i],[h,[p,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[h,[p,"ZTE"],[m,S]],[/\b(gen\d{3}) b.+49h/i],[h,[p,"Swiss"],[m,S]],[/\b(zur\d{3}) b/i],[h,[p,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[h,[p,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],h,[m,w]],[/\b(ns-?\w{0,9}) b/i],[h,[p,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[p,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],h,[m,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],h,[m,S]],[/\b(ph-1) /i],[h,[p,"Essential"],[m,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[p,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[h,[p,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[h,[p,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[h,[p,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[p,h,[m,S]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[p,P],[m,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[p,H],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[p,H],[m,S]],[/smart-tv.+(samsung)/i],[p,[m,F]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[p,D],[m,F]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,b],[m,F]],[/(apple) ?tv/i],[p,[h,Q+" TV"],[m,F]],[/crkey/i],[[h,te+"cast"],[p,X],[m,F]],[/droid.+aft(\w+)( bui|\))/i],[h,[p,J],[m,F]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[p,N],[m,F]],[/(bravia[\w ]+)( bui|\))/i],[h,[p,G],[m,F]],[/(mitv-\w{5}) bui/i],[h,[p,x],[m,F]],[/Hbbtv.*(technisat) (.*);/i],[p,h,[m,F]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,fr],[h,fr],[m,F]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,F]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,h,[m,y]],[/droid.+; (shield) bui/i],[h,[p,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[h,[p,G],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[p,P],[m,y]],[/((pebble))app/i],[p,h,[m,U]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[p,Q],[m,U]],[/droid.+; (glass) \d/i],[h,[p,X],[m,U]],[/droid.+; (wt63?0{2,3})\)/i],[h,[p,H],[m,U]],[/(quest( \d| pro)?)/i],[h,[p,ne],[m,U]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[m,L]],[/(aeobc)\b/i],[h,[p,J],[m,L]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,S]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[f,j+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,k],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[k,xt,wa]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[k,xt,wa],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,le],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,k],[/\(bb(10);/i],[k,[f,de]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[f,W+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[k,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[k,[f,te+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,me],k],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,k],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,k]]},Qt=function(Pe,Ae){if(typeof Pe===u&&(Ae=Pe,Pe=n),!(this instanceof Qt))return new Qt(Pe,Ae).getResult();var ve=typeof r!==l&&r.navigator?r.navigator:n,Ie=Pe||(ve&&ve.userAgent?ve.userAgent:s),Yt=ve&&ve.userAgentData?ve.userAgentData:n,Jt=Ae?fe(Ca,Ae):Ca,ke=ve&&ve.userAgent==Ie;return this.getBrowser=function(){var pe={};return pe[f]=n,pe[k]=n,Ir.call(pe,Ie,Jt.browser),pe[d]=hr(pe[k]),ke&&ve&&ve.brave&&typeof ve.brave.isBrave==a&&(pe[f]="Brave"),pe},this.getCPU=function(){var pe={};return pe[T]=n,Ir.call(pe,Ie,Jt.cpu),pe},this.getDevice=function(){var pe={};return pe[p]=n,pe[h]=n,pe[m]=n,Ir.call(pe,Ie,Jt.device),ke&&!pe[m]&&Yt&&Yt.mobile&&(pe[m]=S),ke&&pe[h]=="Macintosh"&&ve&&typeof ve.standalone!==l&&ve.maxTouchPoints&&ve.maxTouchPoints>2&&(pe[h]="iPad",pe[m]=w),pe},this.getEngine=function(){var pe={};return pe[f]=n,pe[k]=n,Ir.call(pe,Ie,Jt.engine),pe},this.getOS=function(){var pe={};return pe[f]=n,pe[k]=n,Ir.call(pe,Ie,Jt.os),ke&&!pe[f]&&Yt&&Yt.platform&&Yt.platform!="Unknown"&&(pe[f]=Yt.platform.replace(/chrome os/i,me).replace(/macos/i,le)),pe},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Ie},this.setUA=function(pe){return Ie=typeof pe===c&&pe.length>z?fr(pe,z):pe,this},this.setUA(Ie),this};Qt.VERSION=i,Qt.BROWSER=he([f,k,d]),Qt.CPU=he([T]),Qt.DEVICE=he([h,p,m,y,S,F,w,U,L]),Qt.ENGINE=Qt.OS=he([f,k]),e.exports&&(t=e.exports=Qt),t.UAParser=Qt;var wn=typeof r!==l&&(r.jQuery||r.Zepto);if(wn&&!wn.ua){var ji=new Qt;wn.ua=ji.getResult(),wn.ua.get=function(){return ji.getUA()},wn.ua.set=function(Pe){ji.setUA(Pe);var Ae=ji.getResult();for(var ve in Ae)wn.ua[ve]=Ae[ve]}}})(typeof window=="object"?window:Ls)})(Th,Th.exports);var oL=Th.exports,hu={exports:{}};hu.exports;(function(e,t){var r={},n=200,i="__lodash_hash_undefined__",s=1,o=2,a=9007199254740991,l="[object Arguments]",u="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",f="[object Error]",m="[object Function]",p="[object GeneratorFunction]",k="[object Map]",T="[object Number]",y="[object Null]",S="[object Object]",w="[object Promise]",F="[object Proxy]",U="[object RegExp]",L="[object Set]",z="[object String]",J="[object Symbol]",Q="[object Undefined]",re="[object WeakMap]",de="[object ArrayBuffer]",ce="[object DataView]",te="[object Float32Array]",j="[object Float64Array]",W="[object Int8Array]",X="[object Int16Array]",g="[object Int32Array]",b="[object Uint8Array]",P="[object Uint8ClampedArray]",C="[object Uint16Array]",A="[object Uint32Array]",D=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,x={};x[te]=x[j]=x[W]=x[X]=x[g]=x[b]=x[P]=x[C]=x[A]=!0,x[l]=x[u]=x[de]=x[d]=x[ce]=x[h]=x[f]=x[m]=x[k]=x[T]=x[S]=x[U]=x[L]=x[z]=x[re]=!1;var H=typeof r=="object"&&r&&r.Object===Object&&r,ne=typeof self=="object"&&self&&self.Object===Object&&self,me=H||ne||Function("return this")(),le=t&&!t.nodeType&&t,fe=le&&!0&&e&&!e.nodeType&&e,he=fe&&fe.exports===le,_e=he&&H.process,_t=function(){try{return _e&&_e.binding&&_e.binding("util")}catch{}}(),hr=_t&&_t.isTypedArray;function fr(_,O){for(var q=-1,ie=_==null?0:_.length,$e=0,Ee=[];++q<ie;){var Qe=_[q];O(Qe,q,_)&&(Ee[$e++]=Qe)}return Ee}function Ir(_,O){for(var q=-1,ie=O.length,$e=_.length;++q<ie;)_[$e+q]=O[q];return _}function xt(_,O){for(var q=-1,ie=_==null?0:_.length;++q<ie;)if(O(_[q],q,_))return!0;return!1}function ut(_,O){for(var q=-1,ie=Array(_);++q<_;)ie[q]=O(q);return ie}function wa(_){return function(O){return _(O)}}function Ca(_,O){return _.has(O)}function Qt(_,O){return _==null?void 0:_[O]}function wn(_){var O=-1,q=Array(_.size);return _.forEach(function(ie,$e){q[++O]=[$e,ie]}),q}function ji(_,O){return function(q){return _(O(q))}}function Pe(_){var O=-1,q=Array(_.size);return _.forEach(function(ie){q[++O]=ie}),q}var Ae=Array.prototype,ve=Function.prototype,Ie=Object.prototype,Yt=me["__core-js_shared__"],Jt=ve.toString,ke=Ie.hasOwnProperty,pe=function(){var _=/[^.]+$/.exec(Yt&&Yt.keys&&Yt.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),Xt=Ie.toString,Hs=RegExp("^"+Jt.call(ke).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ws=he?me.Buffer:void 0,Ra=me.Symbol,Xp=me.Uint8Array,Zp=Ie.propertyIsEnumerable,Hb=Ae.splice,li=Ra?Ra.toStringTag:void 0,em=Object.getOwnPropertySymbols,Wb=Ws?Ws.isBuffer:void 0,qb=ji(Object.keys,Object),vc=Ui(me,"DataView"),qs=Ui(me,"Map"),yc=Ui(me,"Promise"),Sc=Ui(me,"Set"),Tc=Ui(me,"WeakMap"),Ks=Ui(Object,"create"),Kb=di(vc),Qb=di(qs),Yb=di(yc),Jb=di(Sc),Xb=di(Tc),tm=Ra?Ra.prototype:void 0,kc=tm?tm.valueOf:void 0;function ui(_){var O=-1,q=_==null?0:_.length;for(this.clear();++O<q;){var ie=_[O];this.set(ie[0],ie[1])}}function Zb(){this.__data__=Ks?Ks(null):{},this.size=0}function e_(_){var O=this.has(_)&&delete this.__data__[_];return this.size-=O?1:0,O}function t_(_){var O=this.__data__;if(Ks){var q=O[_];return q===i?void 0:q}return ke.call(O,_)?O[_]:void 0}function r_(_){var O=this.__data__;return Ks?O[_]!==void 0:ke.call(O,_)}function n_(_,O){var q=this.__data__;return this.size+=this.has(_)?0:1,q[_]=Ks&&O===void 0?i:O,this}ui.prototype.clear=Zb,ui.prototype.delete=e_,ui.prototype.get=t_,ui.prototype.has=r_,ui.prototype.set=n_;function sn(_){var O=-1,q=_==null?0:_.length;for(this.clear();++O<q;){var ie=_[O];this.set(ie[0],ie[1])}}function i_(){this.__data__=[],this.size=0}function s_(_){var O=this.__data__,q=Ia(O,_);if(q<0)return!1;var ie=O.length-1;return q==ie?O.pop():Hb.call(O,q,1),--this.size,!0}function o_(_){var O=this.__data__,q=Ia(O,_);return q<0?void 0:O[q][1]}function a_(_){return Ia(this.__data__,_)>-1}function l_(_,O){var q=this.__data__,ie=Ia(q,_);return ie<0?(++this.size,q.push([_,O])):q[ie][1]=O,this}sn.prototype.clear=i_,sn.prototype.delete=s_,sn.prototype.get=o_,sn.prototype.has=a_,sn.prototype.set=l_;function ci(_){var O=-1,q=_==null?0:_.length;for(this.clear();++O<q;){var ie=_[O];this.set(ie[0],ie[1])}}function u_(){this.size=0,this.__data__={hash:new ui,map:new(qs||sn),string:new ui}}function c_(_){var O=Oa(this,_).delete(_);return this.size-=O?1:0,O}function d_(_){return Oa(this,_).get(_)}function h_(_){return Oa(this,_).has(_)}function f_(_,O){var q=Oa(this,_),ie=q.size;return q.set(_,O),this.size+=q.size==ie?0:1,this}ci.prototype.clear=u_,ci.prototype.delete=c_,ci.prototype.get=d_,ci.prototype.has=h_,ci.prototype.set=f_;function Aa(_){var O=-1,q=_==null?0:_.length;for(this.__data__=new ci;++O<q;)this.add(_[O])}function p_(_){return this.__data__.set(_,i),this}function m_(_){return this.__data__.has(_)}Aa.prototype.add=Aa.prototype.push=p_,Aa.prototype.has=m_;function Cn(_){var O=this.__data__=new sn(_);this.size=O.size}function g_(){this.__data__=new sn,this.size=0}function v_(_){var O=this.__data__,q=O.delete(_);return this.size=O.size,q}function y_(_){return this.__data__.get(_)}function S_(_){return this.__data__.has(_)}function T_(_,O){var q=this.__data__;if(q instanceof sn){var ie=q.__data__;if(!qs||ie.length<n-1)return ie.push([_,O]),this.size=++q.size,this;q=this.__data__=new ci(ie)}return q.set(_,O),this.size=q.size,this}Cn.prototype.clear=g_,Cn.prototype.delete=v_,Cn.prototype.get=y_,Cn.prototype.has=S_,Cn.prototype.set=T_;function k_(_,O){var q=Da(_),ie=!q&&N_(_),$e=!q&&!ie&&Ec(_),Ee=!q&&!ie&&!$e&&cm(_),Qe=q||ie||$e||Ee,ct=Qe?ut(_.length,String):[],pt=ct.length;for(var Ge in _)ke.call(_,Ge)&&!(Qe&&(Ge=="length"||$e&&(Ge=="offset"||Ge=="parent")||Ee&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||O_(Ge,pt)))&&ct.push(Ge);return ct}function Ia(_,O){for(var q=_.length;q--;)if(om(_[q][0],O))return q;return-1}function E_(_,O,q){var ie=O(_);return Da(_)?ie:Ir(ie,q(_))}function Qs(_){return _==null?_===void 0?Q:y:li&&li in Object(_)?A_(_):M_(_)}function rm(_){return Ys(_)&&Qs(_)==l}function nm(_,O,q,ie,$e){return _===O?!0:_==null||O==null||!Ys(_)&&!Ys(O)?_!==_&&O!==O:b_(_,O,q,ie,nm,$e)}function b_(_,O,q,ie,$e,Ee){var Qe=Da(_),ct=Da(O),pt=Qe?u:Rn(_),Ge=ct?u:Rn(O);pt=pt==l?S:pt,Ge=Ge==l?S:Ge;var Zt=pt==S,Or=Ge==S,Pt=pt==Ge;if(Pt&&Ec(_)){if(!Ec(O))return!1;Qe=!0,Zt=!1}if(Pt&&!Zt)return Ee||(Ee=new Cn),Qe||cm(_)?im(_,O,q,ie,$e,Ee):C_(_,O,pt,q,ie,$e,Ee);if(!(q&s)){var pr=Zt&&ke.call(_,"__wrapped__"),mr=Or&&ke.call(O,"__wrapped__");if(pr||mr){var An=pr?_.value():_,on=mr?O.value():O;return Ee||(Ee=new Cn),$e(An,on,q,ie,Ee)}}return Pt?(Ee||(Ee=new Cn),R_(_,O,q,ie,$e,Ee)):!1}function __(_){if(!um(_)||x_(_))return!1;var O=am(_)?Hs:N;return O.test(di(_))}function P_(_){return Ys(_)&&lm(_.length)&&!!x[Qs(_)]}function w_(_){if(!L_(_))return qb(_);var O=[];for(var q in Object(_))ke.call(_,q)&&q!="constructor"&&O.push(q);return O}function im(_,O,q,ie,$e,Ee){var Qe=q&s,ct=_.length,pt=O.length;if(ct!=pt&&!(Qe&&pt>ct))return!1;var Ge=Ee.get(_);if(Ge&&Ee.get(O))return Ge==O;var Zt=-1,Or=!0,Pt=q&o?new Aa:void 0;for(Ee.set(_,O),Ee.set(O,_);++Zt<ct;){var pr=_[Zt],mr=O[Zt];if(ie)var An=Qe?ie(mr,pr,Zt,O,_,Ee):ie(pr,mr,Zt,_,O,Ee);if(An!==void 0){if(An)continue;Or=!1;break}if(Pt){if(!xt(O,function(on,hi){if(!Ca(Pt,hi)&&(pr===on||$e(pr,on,q,ie,Ee)))return Pt.push(hi)})){Or=!1;break}}else if(!(pr===mr||$e(pr,mr,q,ie,Ee))){Or=!1;break}}return Ee.delete(_),Ee.delete(O),Or}function C_(_,O,q,ie,$e,Ee,Qe){switch(q){case ce:if(_.byteLength!=O.byteLength||_.byteOffset!=O.byteOffset)return!1;_=_.buffer,O=O.buffer;case de:return!(_.byteLength!=O.byteLength||!Ee(new Xp(_),new Xp(O)));case d:case h:case T:return om(+_,+O);case f:return _.name==O.name&&_.message==O.message;case U:case z:return _==O+"";case k:var ct=wn;case L:var pt=ie&s;if(ct||(ct=Pe),_.size!=O.size&&!pt)return!1;var Ge=Qe.get(_);if(Ge)return Ge==O;ie|=o,Qe.set(_,O);var Zt=im(ct(_),ct(O),ie,$e,Ee,Qe);return Qe.delete(_),Zt;case J:if(kc)return kc.call(_)==kc.call(O)}return!1}function R_(_,O,q,ie,$e,Ee){var Qe=q&s,ct=sm(_),pt=ct.length,Ge=sm(O),Zt=Ge.length;if(pt!=Zt&&!Qe)return!1;for(var Or=pt;Or--;){var Pt=ct[Or];if(!(Qe?Pt in O:ke.call(O,Pt)))return!1}var pr=Ee.get(_);if(pr&&Ee.get(O))return pr==O;var mr=!0;Ee.set(_,O),Ee.set(O,_);for(var An=Qe;++Or<pt;){Pt=ct[Or];var on=_[Pt],hi=O[Pt];if(ie)var dm=Qe?ie(hi,on,Pt,O,_,Ee):ie(on,hi,Pt,_,O,Ee);if(!(dm===void 0?on===hi||$e(on,hi,q,ie,Ee):dm)){mr=!1;break}An||(An=Pt=="constructor")}if(mr&&!An){var xa=_.constructor,La=O.constructor;xa!=La&&"constructor"in _&&"constructor"in O&&!(typeof xa=="function"&&xa instanceof xa&&typeof La=="function"&&La instanceof La)&&(mr=!1)}return Ee.delete(_),Ee.delete(O),mr}function sm(_){return E_(_,j_,I_)}function Oa(_,O){var q=_.__data__;return D_(O)?q[typeof O=="string"?"string":"hash"]:q.map}function Ui(_,O){var q=Qt(_,O);return __(q)?q:void 0}function A_(_){var O=ke.call(_,li),q=_[li];try{_[li]=void 0;var ie=!0}catch{}var $e=Xt.call(_);return ie&&(O?_[li]=q:delete _[li]),$e}var I_=em?function(_){return _==null?[]:(_=Object(_),fr(em(_),function(O){return Zp.call(_,O)}))}:U_,Rn=Qs;(vc&&Rn(new vc(new ArrayBuffer(1)))!=ce||qs&&Rn(new qs)!=k||yc&&Rn(yc.resolve())!=w||Sc&&Rn(new Sc)!=L||Tc&&Rn(new Tc)!=re)&&(Rn=function(_){var O=Qs(_),q=O==S?_.constructor:void 0,ie=q?di(q):"";if(ie)switch(ie){case Kb:return ce;case Qb:return k;case Yb:return w;case Jb:return L;case Xb:return re}return O});function O_(_,O){return O=O??a,!!O&&(typeof _=="number"||G.test(_))&&_>-1&&_%1==0&&_<O}function D_(_){var O=typeof _;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?_!=="__proto__":_===null}function x_(_){return!!pe&&pe in _}function L_(_){var O=_&&_.constructor,q=typeof O=="function"&&O.prototype||Ie;return _===q}function M_(_){return Xt.call(_)}function di(_){if(_!=null){try{return Jt.call(_)}catch{}try{return _+""}catch{}}return""}function om(_,O){return _===O||_!==_&&O!==O}var N_=rm(function(){return arguments}())?rm:function(_){return Ys(_)&&ke.call(_,"callee")&&!Zp.call(_,"callee")},Da=Array.isArray;function $_(_){return _!=null&&lm(_.length)&&!am(_)}var Ec=Wb||B_;function F_(_,O){return nm(_,O)}function am(_){if(!um(_))return!1;var O=Qs(_);return O==m||O==p||O==c||O==F}function lm(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=a}function um(_){var O=typeof _;return _!=null&&(O=="object"||O=="function")}function Ys(_){return _!=null&&typeof _=="object"}var cm=hr?wa(hr):P_;function j_(_){return $_(_)?k_(_):w_(_)}function U_(){return[]}function B_(){return!1}e.exports=F_})(hu,hu.exports);var aL=hu.exports;const MT=rn(aL);var tl,lL=new Uint8Array(16);function uL(){if(!tl&&(tl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tl(lL)}const cL=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dL(e){return typeof e=="string"&&cL.test(e)}var vt=[];for(var ed=0;ed<256;++ed)vt.push((ed+256).toString(16).substr(1));function hL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(vt[e[t+0]]+vt[e[t+1]]+vt[e[t+2]]+vt[e[t+3]]+"-"+vt[e[t+4]]+vt[e[t+5]]+"-"+vt[e[t+6]]+vt[e[t+7]]+"-"+vt[e[t+8]]+vt[e[t+9]]+"-"+vt[e[t+10]]+vt[e[t+11]]+vt[e[t+12]]+vt[e[t+13]]+vt[e[t+14]]+vt[e[t+15]]).toLowerCase();if(!dL(r))throw TypeError("Stringified UUID is invalid");return r}function si(e,t,r){e=e||{};var n=e.random||(e.rng||uL)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hL(n)}let NT=!0,$T=!0;function kl(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function $i(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(o,a){if(o!==t)return i.apply(this,arguments);const l=u=>{const c=r(u);c&&(a.handleEvent?a.handleEvent(c):a(c))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(a,l),i.apply(this,[o,l])};const s=n.removeEventListener;n.removeEventListener=function(o,a){if(o!==t||!this._eventMap||!this._eventMap[t])return s.apply(this,arguments);if(!this._eventMap[t].has(a))return s.apply(this,arguments);const l=this._eventMap[t].get(a);return this._eventMap[t].delete(a),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(o){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),o&&this.addEventListener(t,this["_on"+t]=o)},enumerable:!0,configurable:!0})}function fL(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(NT=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function pL(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):($T=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function FT(){if(typeof window=="object"){if(NT)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Sp(e,t){$T&&console.warn(e+" is deprecated, please use "+t+" instead.")}function mL(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=kl(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=kl(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=kl(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function iv(e){return Object.prototype.toString.call(e)==="[object Object]"}function jT(e){return iv(e)?Object.keys(e).reduce(function(t,r){const n=iv(e[r]),i=n?jT(e[r]):e[r],s=n&&!Object.keys(i).length;return i===void 0||s?t:Object.assign(t,{[r]:i})},{}):e}function kh(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?kh(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(i=>{kh(e,e.get(i),r)})}))}function sv(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const s=[];return e.forEach(o=>{o.type==="track"&&o.trackIdentifier===t.id&&s.push(o)}),s.forEach(o=>{e.forEach(a=>{a.type===n&&a.trackId===o.id&&kh(e,a,i)})}),i}const ov=FT;function UT(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(u=>{if(u==="require"||u==="advanced"||u==="mediaSource")return;const c=typeof a[u]=="object"?a[u]:{ideal:a[u]};c.exact!==void 0&&typeof c.exact=="number"&&(c.min=c.max=c.exact);const d=function(h,f){return h?h+f.charAt(0).toUpperCase()+f.slice(1):f==="deviceId"?"sourceId":f};if(c.ideal!==void 0){l.optional=l.optional||[];let h={};typeof c.ideal=="number"?(h[d("min",u)]=c.ideal,l.optional.push(h),h={},h[d("max",u)]=c.ideal,l.optional.push(h)):(h[d("",u)]=c.ideal,l.optional.push(h))}c.exact!==void 0&&typeof c.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[d("",u)]=c.exact):["min","max"].forEach(h=>{c[h]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[d(h,u)]=c[h])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(t.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const u=function(c,d,h){d in c&&!(h in c)&&(c[h]=c[d],delete c[d])};a=JSON.parse(JSON.stringify(a)),u(a.audio,"autoGainControl","googAutoGainControl"),u(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=n(a.audio)}if(a&&typeof a.video=="object"){let u=a.video.facingMode;u=u&&(typeof u=="object"?u:{ideal:u});const c=t.version<66;if(u&&(u.exact==="user"||u.exact==="environment"||u.ideal==="user"||u.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!c)){delete a.video.facingMode;let d;if(u.exact==="environment"||u.ideal==="environment"?d=["back","rear"]:(u.exact==="user"||u.ideal==="user")&&(d=["front"]),d)return r.mediaDevices.enumerateDevices().then(h=>{h=h.filter(m=>m.kind==="videoinput");let f=h.find(m=>d.some(p=>m.label.toLowerCase().includes(p)));return!f&&h.length&&d.includes("back")&&(f=h[h.length-1]),f&&(a.video.deviceId=u.exact?{exact:f.deviceId}:{ideal:f.deviceId}),a.video=n(a.video),ov("chrome: "+JSON.stringify(a)),l(a)})}a.video=n(a.video)}return ov("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return t.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,u){i(a,c=>{r.webkitGetUserMedia(c,l,d=>{u&&u(s(d))})})};if(r.getUserMedia=o.bind(r),r.mediaDevices.getUserMedia){const a=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(l){return i(l,u=>a(u).then(c=>{if(u.audio&&!c.getAudioTracks().length||u.video&&!c.getVideoTracks().length)throw c.getTracks().forEach(d=>{d.stop()}),new DOMException("","NotFoundError");return c},c=>Promise.reject(s(c))))}}}function gL(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(i=>{const s=n.video&&n.video.width,o=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:a||3}},s&&(n.video.mandatory.maxWidth=s),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})}}}function BT(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function zT(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)}),n.stream.getTracks().forEach(i=>{let s;e.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[n.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else $i(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function VT(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(a,l){let u=i.apply(this,arguments);return u||(u=t(this,a),this._senders.push(u)),u};const s=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(t(this,o))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function GT(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[n,i,s]=arguments;if(arguments.length>0&&typeof n=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof n!="function"))return t.apply(this,[]);const o=function(l){const u={};return l.result().forEach(d=>{const h={id:d.id,timestamp:d.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[d.type]||d.type};d.names().forEach(f=>{h[f]=d.stat(f)}),u[h.id]=h}),u},a=function(l){return new Map(Object.keys(l).map(u=>[u,l[u]]))};if(arguments.length>=2){const l=function(u){i(a(o(u)))};return t.apply(this,[l,n])}return new Promise((l,u)=>{t.apply(this,[function(c){l(a(o(c)))},u])}).then(i,s)}}function HT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const s=r.apply(this,[]);return s.forEach(o=>o._pc=this),s});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const s=n.apply(this,arguments);return s._pc=this,s}),e.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>sv(o,s.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(s=>s._pc=this),i}),$i(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>sv(s,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===n&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===n&&(s?o=!0:s=a),a.track===n)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function WT(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=t.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(u=>{if(this.getSenders().find(d=>d.track===u))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();r.apply(this,arguments);const l=this.getSenders().filter(u=>a.indexOf(u)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],n.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function qT(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return WT(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const c=r.apply(this);return this._reverseStreams=this._reverseStreams||{},c.map(d=>this._reverseStreams[d.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(c){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},c.getTracks().forEach(d=>{if(this.getSenders().find(f=>f.track===d))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[c.id]){const d=new e.MediaStream(c.getTracks());this._streams[c.id]=d,this._reverseStreams[d.id]=c,c=d}n.apply(this,[c])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(c){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[c.id]||c]),delete this._reverseStreams[this._streams[c.id]?this._streams[c.id].id:c.id],delete this._streams[c.id]},e.RTCPeerConnection.prototype.addTrack=function(c,d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const h=[].slice.call(arguments,1);if(h.length!==1||!h[0].getTracks().find(p=>p===c))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===c))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[d.id];if(m)m.addTrack(c),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new e.MediaStream([c]);this._streams[d.id]=p,this._reverseStreams[p.id]=d,this.addStream(p)}return this.getSenders().find(p=>p.track===c)};function s(u,c){let d=c.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const f=u._reverseStreams[h],m=u._streams[f.id];d=d.replace(new RegExp(m.id,"g"),f.id)}),new RTCSessionDescription({type:c.type,sdp:d})}function o(u,c){let d=c.sdp;return Object.keys(u._reverseStreams||[]).forEach(h=>{const f=u._reverseStreams[h],m=u._streams[f.id];d=d.replace(new RegExp(f.id,"g"),m.id)}),new RTCSessionDescription({type:c.type,sdp:d})}["createOffer","createAnswer"].forEach(function(u){const c=e.RTCPeerConnection.prototype[u],d={[u](){const h=arguments;return arguments.length&&typeof arguments[0]=="function"?c.apply(this,[m=>{const p=s(this,m);h[0].apply(null,[p])},m=>{h[1]&&h[1].apply(null,m)},arguments[2]]):c.apply(this,arguments).then(m=>s(this,m))}};e.RTCPeerConnection.prototype[u]=d[u]});const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const u=l.get.apply(this);return u.type===""?u:s(this,u)}}),e.RTCPeerConnection.prototype.removeTrack=function(c){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!c._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(c._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let h;Object.keys(this._streams).forEach(f=>{this._streams[f].getTracks().find(p=>c.track===p)&&(h=this._streams[f])}),h&&(h.getTracks().length===1?this.removeStream(this._reverseStreams[h.id]):h.removeTrack(c.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Eh(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=e.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=i[r]})}function KT(e,t){$i(e,"negotiationneeded",r=>{const n=r.target;if(!((t.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const av=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:KT,shimAddTrackRemoveTrack:qT,shimAddTrackRemoveTrackWithNative:WT,shimGetDisplayMedia:gL,shimGetSendersWithDtmf:VT,shimGetStats:GT,shimGetUserMedia:UT,shimMediaStream:BT,shimOnTrack:zT,shimPeerConnection:Eh,shimSenderReceiverGetStats:HT},Symbol.toStringTag,{value:"Module"}));function QT(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(i,s,o){Sp("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(s,o)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},n&&n.prototype.getSettings){const o=n.prototype.getSettings;n.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(n&&n.prototype.applyConstraints){const o=n.prototype.applyConstraints;n.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function vL(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function YT(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function bh(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=e.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=o[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return n.apply(this,[s||null]).then(l=>{if(t.version<53&&!o)try{l.forEach(u=>{u.type=r[u.type]||u.type})}catch(u){if(u.name!=="TypeError")throw u;l.forEach((c,d)=>{l.set(d,Object.assign({},c,{type:r[c.type]||c.type}))})}return l}).then(o,a)}}function JT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(s=>s._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function XT(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n}),$i(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function ZT(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){Sp("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function ek(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function tk(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let n=arguments[1]&&arguments[1].sendEncodings;n===void 0&&(n=[]),n=[...n];const i=n.length>0;i&&n.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=t.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=n,o.sendEncodings=n,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function rk(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function nk(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function ik(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const lv=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:tk,shimCreateAnswer:ik,shimCreateOffer:nk,shimGetDisplayMedia:vL,shimGetParameters:rk,shimGetUserMedia:QT,shimOnTrack:YT,shimPeerConnection:bh,shimRTCDataChannel:ek,shimReceiverGetStats:XT,shimRemoveStream:ZT,shimSenderGetStats:JT},Symbol.toStringTag,{value:"Module"}));function sk(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>t.call(this,i,n)),n.getVideoTracks().forEach(i=>t.call(this,i,n))},e.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function ok(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(s)>=0)return;n._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,n.dispatchEvent(o)})}),t.apply(n,arguments)}}}function ak(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,s=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(u,c){const d=arguments.length>=2?arguments[2]:arguments[0],h=r.apply(this,[d]);return c?(h.then(u,c),Promise.resolve()):h},t.createAnswer=function(u,c){const d=arguments.length>=2?arguments[2]:arguments[0],h=n.apply(this,[d]);return c?(h.then(u,c),Promise.resolve()):h};let a=function(l,u,c){const d=i.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d};t.setLocalDescription=a,a=function(l,u,c){const d=s.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d},t.setRemoteDescription=a,a=function(l,u,c){const d=o.apply(this,[l]);return c?(d.then(u,c),Promise.resolve()):d},t.addIceCandidate=a}function lk(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=i=>n(uk(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=(function(n,i,s){t.mediaDevices.getUserMedia(n).then(i,s)}).bind(t))}function uk(e){return e&&e.video!==void 0?Object.assign({},e,{video:jT(e.video)}):e}function ck(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const s=[];for(let o=0;o<n.iceServers.length;o++){let a=n.iceServers[o];a.urls===void 0&&a.url?(Sp("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(n.iceServers[o])}n.iceServers=s}return new t(n,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function dk(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function hk(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):n.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function fk(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const uv=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:fk,shimCallbacksAPI:ak,shimConstraints:uk,shimCreateOfferLegacy:hk,shimGetUserMedia:lk,shimLocalStreamsAPI:sk,shimRTCIceServerUrls:ck,shimRemoteStreamsAPI:ok,shimTrackEventTransceiver:dk},Symbol.toStringTag,{value:"Module"}));var pk={exports:{}};(function(e){const t={};t.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(n=>n.trim())},t.splitSections=function(r){return r.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},t.getDescription=function(r){const n=t.splitSections(r);return n&&n[0]},t.getMediaSections=function(r){const n=t.splitSections(r);return n.shift(),n},t.matchPrefix=function(r,n){return t.splitLines(r).filter(i=>i.indexOf(n)===0)},t.parseCandidate=function(r){let n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");const i={foundation:n[0],component:{1:"rtp",2:"rtcp"}[n[1]]||n[1],protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]};for(let s=8;s<n.length;s+=2)switch(n[s]){case"raddr":i.relatedAddress=n[s+1];break;case"rport":i.relatedPort=parseInt(n[s+1],10);break;case"tcptype":i.tcpType=n[s+1];break;case"ufrag":i.ufrag=n[s+1],i.usernameFragment=n[s+1];break;default:i[n[s]]===void 0&&(i[n[s]]=n[s+1]);break}return i},t.writeCandidate=function(r){const n=[];n.push(r.foundation);const i=r.component;i==="rtp"?n.push(1):i==="rtcp"?n.push(2):n.push(i),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);const s=r.type;return n.push("typ"),n.push(s),s!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},t.parseIceOptions=function(r){return r.substring(14).split(" ")},t.parseRtpMap=function(r){let n=r.substring(9).split(" ");const i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(r){let n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);const i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(r){const n=r.substring(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1],attributes:n.slice(2).join(" ")}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+(r.attributes?" "+r.attributes:"")+`\r
`},t.parseFmtp=function(r){const n={};let i;const s=r.substring(r.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),n[i[0].trim()]=i[1];return n},t.writeFmtp=function(r){let n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){const s=[];Object.keys(r.parameters).forEach(o=>{r.parameters[o]!==void 0?s.push(o+"="+r.parameters[o]):s.push(o)}),n+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return n},t.parseRtcpFb=function(r){const n=r.substring(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},t.writeRtcpFb=function(r){let n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(s=>{n+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),n},t.parseSsrcMedia=function(r){const n=r.indexOf(" "),i={ssrc:parseInt(r.substring(7,n),10)},s=r.indexOf(":",n);return s>-1?(i.attribute=r.substring(n+1,s),i.value=r.substring(s+1)):i.attribute=r.substring(n+1),i},t.parseSsrcGroup=function(r){const n=r.substring(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(i=>parseInt(i,10))}},t.getMid=function(r){const n=t.matchPrefix(r,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(r){const n=r.substring(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1].toUpperCase()}},t.getDtlsParameters=function(r,n){return{role:"auto",fingerprints:t.matchPrefix(r+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,n){let i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},t.parseCryptoLine=function(r){const n=r.substring(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;const n=r.substring(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,n){return t.matchPrefix(r+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(r,n){const i=t.matchPrefix(r+n,"a=ice-ufrag:")[0],s=t.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},t.writeIceParameters=function(r){let n="a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`;return r.iceLite&&(n+=`a=ice-lite\r
`),n},t.parseRtpParameters=function(r){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=t.splitLines(r)[0].split(" ");n.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],u=t.matchPrefix(r,"a=rtpmap:"+l+" ")[0];if(u){const c=t.parseRtpMap(u),d=t.matchPrefix(r,"a=fmtp:"+l+" ");switch(c.parameters=d.length?t.parseFmtp(d[0]):{},c.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}t.matchPrefix(r,"a=extmap:").forEach(a=>{n.headerExtensions.push(t.parseExtmap(a))});const o=t.matchPrefix(r,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(c=>c.type===l.type&&c.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),n},t.writeRtpDescription=function(r,n){let i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(o=>{i+=t.writeRtpMap(o),i+=t.writeFmtp(o),i+=t.writeRtcpFb(o)});let s=0;return n.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),n.headerExtensions&&n.headerExtensions.forEach(o=>{i+=t.writeExtmap(o)}),i},t.parseRtpEncodingParameters=function(r){const n=[],i=t.parseRtpParameters(r),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=t.matchPrefix(r,"a=ssrc:").map(h=>t.parseSsrcMedia(h)).filter(h=>h.attribute==="cname"),l=a.length>0&&a[0].ssrc;let u;const c=t.matchPrefix(r,"a=ssrc-group:FID").map(h=>h.substring(17).split(" ").map(m=>parseInt(m,10)));c.length>0&&c[0].length>1&&c[0][0]===l&&(u=c[0][1]),i.codecs.forEach(h=>{if(h.name.toUpperCase()==="RTX"&&h.parameters.apt){let f={ssrc:l,codecPayloadType:parseInt(h.parameters.apt,10)};l&&u&&(f.rtx={ssrc:u}),n.push(f),s&&(f=JSON.parse(JSON.stringify(f)),f.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},n.push(f))}}),n.length===0&&l&&n.push({ssrc:l});let d=t.matchPrefix(r,"b=");return d.length&&(d[0].indexOf("b=TIAS:")===0?d=parseInt(d[0].substring(7),10):d[0].indexOf("b=AS:")===0?d=parseInt(d[0].substring(5),10)*1e3*.95-50*40*8:d=void 0,n.forEach(h=>{h.maxBitrate=d})),n},t.parseRtcpParameters=function(r){const n={},i=t.matchPrefix(r,"a=ssrc:").map(a=>t.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const s=t.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=s.length>0,n.compound=s.length===0;const o=t.matchPrefix(r,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(r){let n="";return r.reducedSize&&(n+=`a=rtcp-rsize\r
`),r.mux&&(n+=`a=rtcp-mux\r
`),r.ssrc!==void 0&&r.cname&&(n+="a=ssrc:"+r.ssrc+" cname:"+r.cname+`\r
`),n},t.parseMsid=function(r){let n;const i=t.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const s=t.matchPrefix(r,"a=ssrc:").map(o=>t.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return n=s[0].value.split(" "),{stream:n[0],track:n[1]}},t.parseSctpDescription=function(r){const n=t.parseMLine(r),i=t.matchPrefix(r,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=t.matchPrefix(r,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:s};const a=t.matchPrefix(r,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},t.writeSctpDescription=function(r,n){let i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(r,n,i){let s;const o=n!==void 0?n:2;return r?s=r:s=t.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.getDirection=function(r,n){const i=t.splitLines(r);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(r){return t.splitLines(r)[0].split(" ")[0].substring(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){const i=t.splitLines(r)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(r){const i=t.matchPrefix(r,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;const n=t.splitLines(r);for(let i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(pk);var mk=pk.exports;const ms=rn(mk),yL=Sy({__proto__:null,default:ms},[mk]);function El(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substring(2)),n.candidate&&n.candidate.length){const i=new t(n),s=ms.parseCandidate(n.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,$i(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function _h(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||$i(e,"icecandidate",t=>{if(t.candidate){const r=ms.parseCandidate(t.candidate.candidate);r.type==="relay"&&(t.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[r.priority>>24])}return t})}function bl(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(a){if(!a||!a.sdp)return!1;const l=ms.splitSections(a.sdp);return l.shift(),l.some(u=>{const c=ms.parseMLine(u);return c&&c.kind==="application"&&c.protocol.indexOf("SCTP")!==-1})},n=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const u=parseInt(l[1],10);return u!==u?-1:u},i=function(a){let l=65536;return t.browser==="firefox"&&(t.version<57?a===-1?l=16384:l=2147483637:t.version<60?l=t.version===57?65535:65536:l=2147483637),l},s=function(a,l){let u=65536;t.browser==="firefox"&&t.version===57&&(u=65535);const c=ms.matchPrefix(a.sdp,"a=max-message-size:");return c.length>0?u=parseInt(c[0].substring(19),10):t.browser==="firefox"&&l!==-1&&(u=2147483637),u},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const l=n(arguments[0]),u=i(l),c=s(arguments[0],l);let d;u===0&&c===0?d=Number.POSITIVE_INFINITY:u===0||c===0?d=Math.max(u,c):d=Math.min(u,c);const h={};Object.defineProperty(h,"maxMessageSize",{get(){return d}}),this._sctp=h}return o.apply(this,arguments)}}function _l(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(n,i){const s=n.send;n.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(n.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(n,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return t(i,this),i},$i(e,"datachannel",n=>(t(n.channel,n.target),n))}function Ph(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=t[r];t[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function wh(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return r.apply(this,arguments)}}function Pl(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function wl(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.setLocalDescription;!r||r.length===0||(e.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return r.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?r.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>r.apply(this,[o]))})}const SL=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:wh,shimAddIceCandidateNullOrEmpty:Pl,shimConnectionState:Ph,shimMaxMessageSize:bl,shimParameterlessSetLocalDescription:wl,shimRTCIceCandidate:El,shimRTCIceCandidateRelayProtocol:_h,shimSendThrowTypeError:_l},Symbol.toStringTag,{value:"Module"}));function TL({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=FT,n=mL(e),i={browserDetails:n,commonShim:SL,extractVersion:kl,disableLog:fL,disableWarnings:pL,sdp:yL};switch(n.browser){case"chrome":if(!av||!Eh||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=av,Pl(e,n),wl(e),UT(e,n),BT(e),Eh(e,n),zT(e),qT(e,n),VT(e),GT(e),HT(e),KT(e,n),El(e),_h(e),Ph(e),bl(e,n),_l(e),wh(e,n);break;case"firefox":if(!lv||!bh||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=lv,Pl(e,n),wl(e),QT(e,n),bh(e,n),YT(e),ZT(e),JT(e),XT(e),ek(e),tk(e),rk(e),nk(e),ik(e),El(e),Ph(e),bl(e,n),_l(e);break;case"safari":if(!uv||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=uv,Pl(e,n),wl(e),ck(e),hk(e),ak(e),sk(e),ok(e),dk(e),lk(e),fk(e),El(e),_h(e),bl(e,n),_l(e),wh(e,n);break;default:r("Unsupported browser!");break}return i}const cv=TL({window:typeof window>"u"?void 0:window});var gk={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(e,t){(function(r){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(b){return Object.prototype.toString.call(b)==="[object Array]"},s=10,o=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",l=typeof Reflect=="object",u=typeof setImmediate=="function",c=u?setImmediate:setTimeout,d=a?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(g){var b=Object.getOwnPropertyNames(g);return b.push.apply(b,Object.getOwnPropertySymbols(g)),b}:Object.keys;function h(){this._events={},this._conf&&f.call(this,this._conf)}function f(g){g&&(this._conf=g,g.delimiter&&(this.delimiter=g.delimiter),g.maxListeners!==r&&(this._maxListeners=g.maxListeners),g.wildcard&&(this.wildcard=g.wildcard),g.newListener&&(this._newListener=g.newListener),g.removeListener&&(this._removeListener=g.removeListener),g.verboseMemoryLeak&&(this.verboseMemoryLeak=g.verboseMemoryLeak),g.ignoreErrors&&(this.ignoreErrors=g.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function m(g,b){var P="(node) warning: possible EventEmitter memory leak detected. "+g+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(P+=" Event name: "+b+"."),typeof process<"u"&&process.emitWarning){var C=new Error(P);C.name="MaxListenersExceededWarning",C.emitter=this,C.count=g,process.emitWarning(C)}else console.error(P),console.trace&&console.trace()}var p=function(g,b,P){var C=arguments.length;switch(C){case 0:return[];case 1:return[g];case 2:return[g,b];case 3:return[g,b,P];default:for(var A=new Array(C);C--;)A[C]=arguments[C];return A}};function k(g,b){for(var P={},C,A=g.length,D=0,N=0;N<A;N++)C=g[N],P[C]=N<D?b[N]:r;return P}function T(g,b,P){this._emitter=g,this._target=b,this._listeners={},this._listenersCount=0;var C,A;if((P.on||P.off)&&(C=P.on,A=P.off),b.addEventListener?(C=b.addEventListener,A=b.removeEventListener):b.addListener?(C=b.addListener,A=b.removeListener):b.on&&(C=b.on,A=b.off),!C&&!A)throw Error("target does not implement any known event API");if(typeof C!="function")throw TypeError("on method must be a function");if(typeof A!="function")throw TypeError("off method must be a function");this._on=C,this._off=A;var D=g._observers;D?D.push(this):g._observers=[this]}Object.assign(T.prototype,{subscribe:function(g,b,P){var C=this,A=this._target,D=this._emitter,N=this._listeners,G=function(){var x=p.apply(null,arguments),H={data:x,name:b,original:g};if(P){var ne=P.call(A,H);ne!==!1&&D.emit.apply(D,[H.name].concat(x));return}D.emit.apply(D,[b].concat(x))};if(N[g])throw Error("Event '"+g+"' is already listening");this._listenersCount++,D._newListener&&D._removeListener&&!C._onNewListener?(this._onNewListener=function(x){x===b&&N[g]===null&&(N[g]=G,C._on.call(A,g,G))},D.on("newListener",this._onNewListener),this._onRemoveListener=function(x){x===b&&!D.hasListeners(x)&&N[g]&&(N[g]=null,C._off.call(A,g,G))},N[g]=null,D.on("removeListener",this._onRemoveListener)):(N[g]=G,C._on.call(A,g,G))},unsubscribe:function(g){var b=this,P=this._listeners,C=this._emitter,A,D,N=this._off,G=this._target,x;if(g&&typeof g!="string")throw TypeError("event must be a string");function H(){b._onNewListener&&(C.off("newListener",b._onNewListener),C.off("removeListener",b._onRemoveListener),b._onNewListener=null,b._onRemoveListener=null);var ne=z.call(C,b);C._observers.splice(ne,1)}if(g){if(A=P[g],!A)return;N.call(G,g,A),delete P[g],--this._listenersCount||H()}else{for(D=d(P),x=D.length;x-- >0;)g=D[x],N.call(G,g,P[g]);this._listeners={},this._listenersCount=0,H()}}});function y(g,b,P,C){var A=Object.assign({},b);if(!g)return A;if(typeof g!="object")throw TypeError("options must be an object");var D=Object.keys(g),N=D.length,G,x,H;function ne(le){throw Error('Invalid "'+G+'" option value'+(le?". Reason: "+le:""))}for(var me=0;me<N;me++){if(G=D[me],!n.call(b,G))throw Error('Unknown "'+G+'" option');x=g[G],x!==r&&(H=P[G],A[G]=H?H(x,ne):x)}return A}function S(g,b){return(typeof g!="function"||!g.hasOwnProperty("prototype"))&&b("value must be a constructor"),g}function w(g){var b="value must be type of "+g.join("|"),P=g.length,C=g[0],A=g[1];return P===1?function(D,N){if(typeof D===C)return D;N(b)}:P===2?function(D,N){var G=typeof D;if(G===C||G===A)return D;N(b)}:function(D,N){for(var G=typeof D,x=P;x-- >0;)if(G===g[x])return D;N(b)}}var F=w(["function"]),U=w(["object","function"]);function L(g,b,P){var C,A,D=0,N,G=new g(function(x,H,ne){P=y(P,{timeout:0,overload:!1},{timeout:function(he,_e){return he*=1,(typeof he!="number"||he<0||!Number.isFinite(he))&&_e("timeout must be a positive number"),he}}),C=!P.overload&&typeof g.prototype.cancel=="function"&&typeof ne=="function";function me(){A&&(A=null),D&&(clearTimeout(D),D=0)}var le=function(he){me(),x(he)},fe=function(he){me(),H(he)};C?b(le,fe,ne):(A=[function(he){fe(he||Error("canceled"))}],b(le,fe,function(he){if(N)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof he!="function")throw TypeError("onCancel callback must be a function");A.push(he)}),N=!0),P.timeout>0&&(D=setTimeout(function(){var he=Error("timeout");he.code="ETIMEDOUT",D=0,G.cancel(he),H(he)},P.timeout))});return C||(G.cancel=function(x){if(A){for(var H=A.length,ne=1;ne<H;ne++)A[ne](x);A[0](x),A=null}}),G}function z(g){var b=this._observers;if(!b)return-1;for(var P=b.length,C=0;C<P;C++)if(b[C]._target===g)return C;return-1}function J(g,b,P,C,A){if(!P)return null;if(C===0){var D=typeof b;if(D==="string"){var N,G,x=0,H=0,ne=this.delimiter,me=ne.length;if((G=b.indexOf(ne))!==-1){N=new Array(5);do N[x++]=b.slice(H,G),H=G+me;while((G=b.indexOf(ne,H))!==-1);N[x++]=b.slice(H),b=N,A=x}else b=[b],A=1}else D==="object"?A=b.length:(b=[b],A=1)}var le=null,fe,he,_e,_t,hr,fr=b[C],Ir=b[C+1],xt,ut;if(C===A)P._listeners&&(typeof P._listeners=="function"?(g&&g.push(P._listeners),le=[P]):(g&&g.push.apply(g,P._listeners),le=[P]));else if(fr==="*"){for(xt=d(P),G=xt.length;G-- >0;)fe=xt[G],fe!=="_listeners"&&(ut=J(g,b,P[fe],C+1,A),ut&&(le?le.push.apply(le,ut):le=ut));return le}else if(fr==="**"){for(hr=C+1===A||C+2===A&&Ir==="*",hr&&P._listeners&&(le=J(g,b,P,A,A)),xt=d(P),G=xt.length;G-- >0;)fe=xt[G],fe!=="_listeners"&&(fe==="*"||fe==="**"?(P[fe]._listeners&&!hr&&(ut=J(g,b,P[fe],A,A),ut&&(le?le.push.apply(le,ut):le=ut)),ut=J(g,b,P[fe],C,A)):fe===Ir?ut=J(g,b,P[fe],C+2,A):ut=J(g,b,P[fe],C,A),ut&&(le?le.push.apply(le,ut):le=ut));return le}else P[fr]&&(le=J(g,b,P[fr],C+1,A));if(he=P["*"],he&&J(g,b,he,C+1,A),_e=P["**"],_e)if(C<A)for(_e._listeners&&J(g,b,_e,A,A),xt=d(_e),G=xt.length;G-- >0;)fe=xt[G],fe!=="_listeners"&&(fe===Ir?J(g,b,_e[fe],C+2,A):fe===fr?J(g,b,_e[fe],C+1,A):(_t={},_t[fe]=_e[fe],J(g,b,{"**":_t},C+1,A)));else _e._listeners?J(g,b,_e,A,A):_e["*"]&&_e["*"]._listeners&&J(g,b,_e["*"],A,A);return le}function Q(g,b,P){var C=0,A=0,D,N=this.delimiter,G=N.length,x;if(typeof g=="string")if((D=g.indexOf(N))!==-1){x=new Array(5);do x[C++]=g.slice(A,D),A=D+G;while((D=g.indexOf(N,A))!==-1);x[C++]=g.slice(A)}else x=[g],C=1;else x=g,C=g.length;if(C>1){for(D=0;D+1<C;D++)if(x[D]==="**"&&x[D+1]==="**")return}var H=this.listenerTree,ne;for(D=0;D<C;D++)if(ne=x[D],H=H[ne]||(H[ne]={}),D===C-1)return H._listeners?(typeof H._listeners=="function"&&(H._listeners=[H._listeners]),P?H._listeners.unshift(b):H._listeners.push(b),!H._listeners.warned&&this._maxListeners>0&&H._listeners.length>this._maxListeners&&(H._listeners.warned=!0,m.call(this,H._listeners.length,ne))):H._listeners=b,!0;return!0}function re(g,b,P,C){for(var A=d(g),D=A.length,N,G,x,H=g._listeners,ne;D-- >0;)G=A[D],N=g[G],G==="_listeners"?x=P:x=P?P.concat(G):[G],ne=C||typeof G=="symbol",H&&b.push(ne?x:x.join(this.delimiter)),typeof N=="object"&&re.call(this,N,b,x,ne);return b}function de(g){for(var b=d(g),P=b.length,C,A,D;P-- >0;)A=b[P],C=g[A],C&&(D=!0,A!=="_listeners"&&!de(C)&&delete g[A]);return D}function ce(g,b,P){this.emitter=g,this.event=b,this.listener=P}ce.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function te(g,b,P){if(P===!0)A=!0;else if(P===!1)C=!0;else{if(!P||typeof P!="object")throw TypeError("options should be an object or true");var C=P.async,A=P.promisify,D=P.nextTick,N=P.objectify}if(C||D||A){var G=b,x=b._origin||b;if(D&&!o)throw Error("process.nextTick is not supported");A===r&&(A=b.constructor.name==="AsyncFunction"),b=function(){var H=arguments,ne=this,me=this.event;return A?D?Promise.resolve():new Promise(function(le){c(le)}).then(function(){return ne.event=me,G.apply(ne,H)}):(D?process.nextTick:c)(function(){ne.event=me,G.apply(ne,H)})},b._async=!0,b._origin=x}return[b,N?new ce(this,g,b):this]}function j(g){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,f.call(this,g)}j.EventEmitter2=j,j.prototype.listenTo=function(g,b,P){if(typeof g!="object")throw TypeError("target musts be an object");var C=this;P=y(P,{on:r,off:r,reducers:r},{on:F,off:F,reducers:U});function A(D){if(typeof D!="object")throw TypeError("events must be an object");var N=P.reducers,G=z.call(C,g),x;G===-1?x=new T(C,g,P):x=C._observers[G];for(var H=d(D),ne=H.length,me,le=typeof N=="function",fe=0;fe<ne;fe++)me=H[fe],x.subscribe(me,D[me]||me,le?N:N&&N[me])}return i(b)?A(k(b)):A(typeof b=="string"?k(b.split(/\s+/)):b),this},j.prototype.stopListeningTo=function(g,b){var P=this._observers;if(!P)return!1;var C=P.length,A,D=!1;if(g&&typeof g!="object")throw TypeError("target should be an object");for(;C-- >0;)A=P[C],(!g||A._target===g)&&(A.unsubscribe(b),D=!0);return D},j.prototype.delimiter=".",j.prototype.setMaxListeners=function(g){g!==r&&(this._maxListeners=g,this._conf||(this._conf={}),this._conf.maxListeners=g)},j.prototype.getMaxListeners=function(){return this._maxListeners},j.prototype.event="",j.prototype.once=function(g,b,P){return this._once(g,b,!1,P)},j.prototype.prependOnceListener=function(g,b,P){return this._once(g,b,!0,P)},j.prototype._once=function(g,b,P,C){return this._many(g,1,b,P,C)},j.prototype.many=function(g,b,P,C){return this._many(g,b,P,!1,C)},j.prototype.prependMany=function(g,b,P,C){return this._many(g,b,P,!0,C)},j.prototype._many=function(g,b,P,C,A){var D=this;if(typeof P!="function")throw new Error("many only accepts instances of Function");function N(){return--b===0&&D.off(g,N),P.apply(this,arguments)}return N._origin=P,this._on(g,N,C,A)},j.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var g=arguments[0],b,P=this.wildcard,C,A,D,N,G;if(g==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(P&&(b=g,g!=="newListener"&&g!=="removeListener"&&typeof g=="object")){if(A=g.length,a){for(D=0;D<A;D++)if(typeof g[D]=="symbol"){G=!0;break}}G||(g=g.join(this.delimiter))}var x=arguments.length,H;if(this._all&&this._all.length)for(H=this._all.slice(),D=0,A=H.length;D<A;D++)switch(this.event=g,x){case 1:H[D].call(this,g);break;case 2:H[D].call(this,g,arguments[1]);break;case 3:H[D].call(this,g,arguments[1],arguments[2]);break;default:H[D].apply(this,arguments)}if(P)H=[],J.call(this,H,b,this.listenerTree,0,A);else if(H=this._events[g],typeof H=="function"){switch(this.event=g,x){case 1:H.call(this);break;case 2:H.call(this,arguments[1]);break;case 3:H.call(this,arguments[1],arguments[2]);break;default:for(C=new Array(x-1),N=1;N<x;N++)C[N-1]=arguments[N];H.apply(this,C)}return!0}else H&&(H=H.slice());if(H&&H.length){if(x>3)for(C=new Array(x-1),N=1;N<x;N++)C[N-1]=arguments[N];for(D=0,A=H.length;D<A;D++)switch(this.event=g,x){case 1:H[D].call(this);break;case 2:H[D].call(this,arguments[1]);break;case 3:H[D].call(this,arguments[1],arguments[2]);break;default:H[D].apply(this,C)}return!0}else if(!this.ignoreErrors&&!this._all&&g==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},j.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var g=arguments[0],b=this.wildcard,P,C,A,D,N,G;if(g==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(b&&(P=g,g!=="newListener"&&g!=="removeListener"&&typeof g=="object")){if(D=g.length,a){for(N=0;N<D;N++)if(typeof g[N]=="symbol"){C=!0;break}}C||(g=g.join(this.delimiter))}var x=[],H=arguments.length,ne;if(this._all)for(N=0,D=this._all.length;N<D;N++)switch(this.event=g,H){case 1:x.push(this._all[N].call(this,g));break;case 2:x.push(this._all[N].call(this,g,arguments[1]));break;case 3:x.push(this._all[N].call(this,g,arguments[1],arguments[2]));break;default:x.push(this._all[N].apply(this,arguments))}if(b?(ne=[],J.call(this,ne,P,this.listenerTree,0)):ne=this._events[g],typeof ne=="function")switch(this.event=g,H){case 1:x.push(ne.call(this));break;case 2:x.push(ne.call(this,arguments[1]));break;case 3:x.push(ne.call(this,arguments[1],arguments[2]));break;default:for(A=new Array(H-1),G=1;G<H;G++)A[G-1]=arguments[G];x.push(ne.apply(this,A))}else if(ne&&ne.length){if(ne=ne.slice(),H>3)for(A=new Array(H-1),G=1;G<H;G++)A[G-1]=arguments[G];for(N=0,D=ne.length;N<D;N++)switch(this.event=g,H){case 1:x.push(ne[N].call(this));break;case 2:x.push(ne[N].call(this,arguments[1]));break;case 3:x.push(ne[N].call(this,arguments[1],arguments[2]));break;default:x.push(ne[N].apply(this,A))}}else if(!this.ignoreErrors&&!this._all&&g==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(x)},j.prototype.on=function(g,b,P){return this._on(g,b,!1,P)},j.prototype.prependListener=function(g,b,P){return this._on(g,b,!0,P)},j.prototype.onAny=function(g){return this._onAny(g,!1)},j.prototype.prependAny=function(g){return this._onAny(g,!0)},j.prototype.addListener=j.prototype.on,j.prototype._onAny=function(g,b){if(typeof g!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),b?this._all.unshift(g):this._all.push(g),this},j.prototype._on=function(g,b,P,C){if(typeof g=="function")return this._onAny(g,b),this;if(typeof b!="function")throw new Error("on only accepts instances of Function");this._events||h.call(this);var A=this,D;return C!==r&&(D=te.call(this,g,b,C),b=D[0],A=D[1]),this._newListener&&this.emit("newListener",g,b),this.wildcard?(Q.call(this,g,b,P),A):(this._events[g]?(typeof this._events[g]=="function"&&(this._events[g]=[this._events[g]]),P?this._events[g].unshift(b):this._events[g].push(b),!this._events[g].warned&&this._maxListeners>0&&this._events[g].length>this._maxListeners&&(this._events[g].warned=!0,m.call(this,this._events[g].length,g))):this._events[g]=b,A)},j.prototype.off=function(g,b){if(typeof b!="function")throw new Error("removeListener only takes instances of Function");var P,C=[];if(this.wildcard){var A=typeof g=="string"?g.split(this.delimiter):g.slice();if(C=J.call(this,null,A,this.listenerTree,0),!C)return this}else{if(!this._events[g])return this;P=this._events[g],C.push({_listeners:P})}for(var D=0;D<C.length;D++){var N=C[D];if(P=N._listeners,i(P)){for(var G=-1,x=0,H=P.length;x<H;x++)if(P[x]===b||P[x].listener&&P[x].listener===b||P[x]._origin&&P[x]._origin===b){G=x;break}if(G<0)continue;return this.wildcard?N._listeners.splice(G,1):this._events[g].splice(G,1),P.length===0&&(this.wildcard?delete N._listeners:delete this._events[g]),this._removeListener&&this.emit("removeListener",g,b),this}else(P===b||P.listener&&P.listener===b||P._origin&&P._origin===b)&&(this.wildcard?delete N._listeners:delete this._events[g],this._removeListener&&this.emit("removeListener",g,b))}return this.listenerTree&&de(this.listenerTree),this},j.prototype.offAny=function(g){var b=0,P=0,C;if(g&&this._all&&this._all.length>0){for(C=this._all,b=0,P=C.length;b<P;b++)if(g===C[b])return C.splice(b,1),this._removeListener&&this.emit("removeListenerAny",g),this}else{if(C=this._all,this._removeListener)for(b=0,P=C.length;b<P;b++)this.emit("removeListenerAny",C[b]);this._all=[]}return this},j.prototype.removeListener=j.prototype.off,j.prototype.removeAllListeners=function(g){if(g===r)return!this._events||h.call(this),this;if(this.wildcard){var b=J.call(this,null,g,this.listenerTree,0),P,C;if(!b)return this;for(C=0;C<b.length;C++)P=b[C],P._listeners=null;this.listenerTree&&de(this.listenerTree)}else this._events&&(this._events[g]=null);return this},j.prototype.listeners=function(g){var b=this._events,P,C,A,D,N;if(g===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!b)return[];for(P=d(b),D=P.length,A=[];D-- >0;)C=b[P[D]],typeof C=="function"?A.push(C):A.push.apply(A,C);return A}else{if(this.wildcard){if(N=this.listenerTree,!N)return[];var G=[],x=typeof g=="string"?g.split(this.delimiter):g.slice();return J.call(this,G,x,N,0),G}return b?(C=b[g],C?typeof C=="function"?[C]:C:[]):[]}},j.prototype.eventNames=function(g){var b=this._events;return this.wildcard?re.call(this,this.listenerTree,[],null,g):b?d(b):[]},j.prototype.listenerCount=function(g){return this.listeners(g).length},j.prototype.hasListeners=function(g){if(this.wildcard){var b=[],P=typeof g=="string"?g.split(this.delimiter):g.slice();return J.call(this,b,P,this.listenerTree,0),b.length>0}var C=this._events,A=this._all;return!!(A&&A.length||C&&(g===r?d(C).length:C[g]))},j.prototype.listenersAny=function(){return this._all?this._all:[]},j.prototype.waitFor=function(g,b){var P=this,C=typeof b;return C==="number"?b={timeout:b}:C==="function"&&(b={filter:b}),b=y(b,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:F,Promise:S}),L(b.Promise,function(A,D,N){function G(){var x=b.filter;if(!(x&&!x.apply(P,arguments)))if(P.off(g,G),b.handleError){var H=arguments[0];H?D(H):A(p.apply(null,arguments).slice(1))}else A(p.apply(null,arguments))}N(function(){P.off(g,G)}),P._on(g,G,!1)},{timeout:b.timeout,overload:b.overload})};function W(g,b,P){P=y(P,{Promise,timeout:0,overload:!1},{Promise:S});var C=P.Promise;return L(C,function(A,D,N){var G;if(typeof g.addEventListener=="function"){G=function(){A(p.apply(null,arguments))},N(function(){g.removeEventListener(b,G)}),g.addEventListener(b,G,{once:!0});return}var x=function(){H&&g.removeListener("error",H),A(p.apply(null,arguments))},H;b!=="error"&&(H=function(ne){g.removeListener(b,x),D(ne)},g.once("error",H)),N(function(){H&&g.removeListener("error",H),g.removeListener(b,x)}),g.once(b,x)},{timeout:P.timeout,overload:P.overload})}var X=j.prototype;Object.defineProperties(j,{defaultMaxListeners:{get:function(){return X._maxListeners},set:function(g){if(typeof g!="number"||g<0||Number.isNaN(g))throw TypeError("n must be a non-negative number");X._maxListeners=g},enumerable:!0},once:{value:W,writable:!0,configurable:!0}}),Object.defineProperties(X,{_maxListeners:{value:s,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),e.exports=j})()})(gk);var rc=gk.exports;const kL=rn(rc);function $r(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Is(e){return!!e&&!!e[lr]}function Di(e){var t;return!!e&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===AL}(e)||Array.isArray(e)||!!e[yv]||!!(!((t=e.constructor)===null||t===void 0)&&t[yv])||Tp(e)||kp(e))}function ta(e,t,r){r===void 0&&(r=!1),zs(e)===0?(r?Object.keys:wp)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function zs(e){var t=e[lr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Tp(e)?2:kp(e)?3:0}function Ch(e,t){return zs(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function EL(e,t){return zs(e)===2?e.get(t):e[t]}function vk(e,t,r){var n=zs(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function bL(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Tp(e){return CL&&e instanceof Map}function kp(e){return RL&&e instanceof Set}function gi(e){return e.o||e.t}function Ep(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=IL(e);delete t[lr];for(var r=wp(t),n=0;n<r.length;n++){var i=r[n],s=t[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function bp(e,t){return t===void 0&&(t=!1),_p(e)||Is(e)||!Di(e)||(zs(e)>1&&(e.set=e.add=e.clear=e.delete=_L),Object.freeze(e),t&&ta(e,function(r,n){return bp(n,!0)},!0)),e}function _L(){$r(2)}function _p(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function tn(e){var t=OL[e];return t||$r(18,e),t}function dv(){return ra}function td(e,t){t&&(tn("Patches"),e.u=[],e.s=[],e.v=t)}function fu(e){Rh(e),e.p.forEach(PL),e.p=null}function Rh(e){e===ra&&(ra=e.l)}function hv(e){return ra={p:[],l:ra,h:e,m:!0,_:0}}function PL(e){var t=e[lr];t.i===0||t.i===1?t.j():t.g=!0}function rd(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.O||tn("ES5").S(t,e,n),n?(r[lr].P&&(fu(t),$r(4)),Di(e)&&(e=pu(t,e),t.l||mu(t,e)),t.u&&tn("Patches").M(r[lr].t,e,t.u,t.s)):e=pu(t,r,[]),fu(t),t.u&&t.v(t.u,t.s),e!==yk?e:void 0}function pu(e,t,r){if(_p(t))return t;var n=t[lr];if(!n)return ta(t,function(a,l){return fv(e,n,t,a,l,r)},!0),t;if(n.A!==e)return t;if(!n.P)return mu(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Ep(n.k):n.o,s=i,o=!1;n.i===3&&(s=new Set(i),i.clear(),o=!0),ta(s,function(a,l){return fv(e,n,i,a,l,r,o)}),mu(e,i,!1),r&&e.u&&tn("Patches").N(n,r,e.u,e.s)}return n.o}function fv(e,t,r,n,i,s,o){if(Is(i)){var a=pu(e,i,s&&t&&t.i!==3&&!Ch(t.R,n)?s.concat(n):void 0);if(vk(r,n,a),!Is(a))return;e.m=!1}else o&&r.add(i);if(Di(i)&&!_p(i)){if(!e.h.D&&e._<1)return;pu(e,i),t&&t.A.l||mu(e,i)}}function mu(e,t,r){r===void 0&&(r=!1),!e.l&&e.h.D&&e.m&&bp(t,r)}function nd(e,t){var r=e[lr];return(r?gi(r):e)[t]}function pv(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Ah(e){e.P||(e.P=!0,e.l&&Ah(e.l))}function id(e){e.o||(e.o=Ep(e.t))}function Ih(e,t,r){var n=Tp(t)?tn("MapSet").F(t,r):kp(t)?tn("MapSet").T(t,r):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:dv(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Oh;o&&(l=[a],u=vo);var c=Proxy.revocable(l,u),d=c.revoke,h=c.proxy;return a.k=h,a.j=d,h}(t,r):tn("ES5").J(t,r);return(r?r.A:dv()).p.push(n),n}function wL(e){return Is(e)||$r(22,e),function t(r){if(!Di(r))return r;var n,i=r[lr],s=zs(r);if(i){if(!i.P&&(i.i<4||!tn("ES5").K(i)))return i.t;i.I=!0,n=mv(r,s),i.I=!1}else n=mv(r,s);return ta(n,function(o,a){i&&EL(i.t,o)===a||vk(n,o,t(a))}),s===3?new Set(n):n}(e)}function mv(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Ep(e)}var gv,ra,Pp=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",CL=typeof Map<"u",RL=typeof Set<"u",vv=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",yk=Pp?Symbol.for("immer-nothing"):((gv={})["immer-nothing"]=!0,gv),yv=Pp?Symbol.for("immer-draftable"):"__$immer_draftable",lr=Pp?Symbol.for("immer-state"):"__$immer_state",AL=""+Object.prototype.constructor,wp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,IL=Object.getOwnPropertyDescriptors||function(e){var t={};return wp(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},OL={},Oh={get:function(e,t){if(t===lr)return e;var r=gi(e);if(!Ch(r,t))return function(i,s,o){var a,l=pv(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Di(n)?n:n===nd(e.t,t)?(id(e),e.o[t]=Ih(e.A.h,n,e)):n},has:function(e,t){return t in gi(e)},ownKeys:function(e){return Reflect.ownKeys(gi(e))},set:function(e,t,r){var n=pv(gi(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=nd(gi(e),t),s=i==null?void 0:i[lr];if(s&&s.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(bL(r,i)&&(r!==void 0||Ch(e.t,t)))return!0;id(e),Ah(e)}return e.o[t]===r&&(r!==void 0||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return nd(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,id(e),Ah(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=gi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){$r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){$r(12)}},vo={};ta(Oh,function(e,t){vo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vo.deleteProperty=function(e,t){return vo.set.call(this,e,t,void 0)},vo.set=function(e,t,r){return Oh.set.call(this,e[0],t,r,e[0])};var DL=function(){function e(r){var n=this;this.O=vv,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=n;return function(p){var k=this;p===void 0&&(p=a);for(var T=arguments.length,y=Array(T>1?T-1:0),S=1;S<T;S++)y[S-1]=arguments[S];return l.produce(p,function(w){var F;return(F=s).call.apply(F,[k,w].concat(y))})}}var u;if(typeof s!="function"&&$r(6),o!==void 0&&typeof o!="function"&&$r(7),Di(i)){var c=hv(n),d=Ih(n,i,void 0),h=!0;try{u=s(d),h=!1}finally{h?fu(c):Rh(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return td(c,o),rd(p,c)},function(p){throw fu(c),p}):(td(c,o),rd(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===yk&&(u=void 0),n.D&&bp(u,!0),o){var f=[],m=[];tn("Patches").M(i,u,f,m),o(f,m)}return u}$r(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),h=1;h<c;h++)d[h-1]=arguments[h];return n.produceWithPatches(u,function(f){return i.apply(void 0,[f].concat(d))})};var o,a,l=n.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Di(r)||$r(8),Is(r)&&(r=wL(r));var n=hv(this),i=Ih(this,r,void 0);return i[lr].C=!0,Rh(n),i},t.finishDraft=function(r,n){var i=r&&r[lr],s=i.A;return td(s,n),rd(void 0,s)},t.setAutoFreeze=function(r){this.D=r},t.setUseProxies=function(r){r&&!vv&&$r(20),this.O=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}i>-1&&(n=n.slice(i+1));var o=tn("Patches").$;return Is(r)?o(r,n):this.produce(r,function(a){return o(a,n)})},e}(),ur=new DL,xL=ur.produce;ur.produceWithPatches.bind(ur);ur.setAutoFreeze.bind(ur);ur.setUseProxies.bind(ur);ur.applyPatches.bind(ur);ur.createDraft.bind(ur);ur.finishDraft.bind(ur);function LL(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}function ML(e){let t;const r=new Set,n=(u,c)=>{const d=typeof u=="function"?u(t):u;if(d!==t){const h=t;t=c?d:Object.assign({},t,d),r.forEach(f=>f(t,h))}},i=()=>t,s=(u,c=i,d=Object.is)=>{let h=c(t);function f(){const m=c(t);if(!d(h,m)){const p=h;u(h=m,p)}}return r.add(f),()=>r.delete(f)},l={setState:n,getState:i,subscribe:(u,c,d)=>c||d?s(u,c,d):(r.add(u),()=>r.delete(u)),destroy:()=>r.clear()};return t=e(n,i,l),l}var Sk={},Tk={exports:{}},Sv=Tk.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(Sv).forEach(function(e){var t=Sv[e];t.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})});var kk=Tk.exports;(function(e){var t=function(a){return String(Number(a))===a?Number(a):a},r=function(a,l,u,c){if(c&&!u)l[c]=t(a[1]);else for(var d=0;d<u.length;d+=1)a[d+1]!=null&&(l[u[d]]=t(a[d+1]))},n=function(a,l,u){var c=a.name&&a.names;a.push&&!l[a.push]?l[a.push]=[]:c&&!l[a.name]&&(l[a.name]={});var d=a.push?{}:c?l[a.name]:l;r(u.match(a.reg),d,a.names,a.name),a.push&&l[a.push].push(d)},i=kk,s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(a){var l={},u=[],c=l;return a.split(/(\r\n|\r|\n)/).filter(s).forEach(function(d){var h=d[0],f=d.slice(2);h==="m"&&(u.push({rtp:[],fmtp:[]}),c=u[u.length-1]);for(var m=0;m<(i[h]||[]).length;m+=1){var p=i[h][m];if(p.reg.test(f))return n(p,c,f)}}),l.media=u,l};var o=function(a,l){var u=l.split(/=(.+)/,2);return u.length===2?a[u[0]]=t(u[1]):u.length===1&&l.length>1&&(a[u[0]]=void 0),a};e.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(a){return a.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(a){for(var l=[],u=a.split(" ").map(t),c=0;c<u.length;c+=3)l.push({component:u[c],ip:u[c+1],port:u[c+2]});return l},e.parseImageAttributes=function(a){return a.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(o,{})})},e.parseSimulcastStreamList=function(a){return a.split(";").map(function(l){return l.split(",").map(function(u){var c,d=!1;return u[0]!=="~"?c=t(u):(c=t(u.substring(1,u.length)),d=!0),{scid:c,paused:d}})})}})(Sk);var sd=kk,NL=/%[sdv%]/g,$L=function(e){var t=1,r=arguments,n=r.length;return e.replace(NL,function(i){if(t>=n)return i;var s=r[t];switch(t+=1,i){case"%%":return"%";case"%s":return String(s);case"%d":return Number(s);case"%v":return""}})},ao=function(e,t,r){var n=t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format,i=[e+"="+n];if(t.names)for(var s=0;s<t.names.length;s+=1){var o=t.names[s];t.name?i.push(r[t.name][o]):i.push(r[t.names[s]])}else i.push(r[t.name]);return $L.apply(null,i)},FL=["v","o","s","i","u","e","p","c","b","t","r","z","a"],jL=["i","c","b","a"],UL=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(s){s.payloads==null&&(s.payloads="")});var r=t.outerOrder||FL,n=t.innerOrder||jL,i=[];return r.forEach(function(s){sd[s].forEach(function(o){o.name in e&&e[o.name]!=null?i.push(ao(s,o,e)):o.push in e&&e[o.push]!=null&&e[o.push].forEach(function(a){i.push(ao(s,o,a))})})}),e.media.forEach(function(s){i.push(ao("m",sd.m[0],s)),n.forEach(function(o){sd[o].forEach(function(a){a.name in s&&s[a.name]!=null?i.push(ao(o,a,s)):a.push in s&&s[a.push]!=null&&s[a.push].forEach(function(l){i.push(ao(o,a,l))})})})}),i.join(`\r
`)+`\r
`},Fi=Sk,BL=UL,zL=BL,Ek=Fi.parse;Fi.parseParams;Fi.parseFmtpConfig;Fi.parsePayloads;Fi.parseRemoteCandidates;Fi.parseImageAttributes;Fi.parseSimulcastStreamList;var VL=Object.defineProperty,GL=Object.defineProperties,HL=Object.getOwnPropertyDescriptors,gu=Object.getOwnPropertySymbols,WL=Object.getPrototypeOf,bk=Object.prototype.hasOwnProperty,_k=Object.prototype.propertyIsEnumerable,qL=Reflect.get,Tv=(e,t,r)=>t in e?VL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Y=(e,t)=>{for(var r in t||(t={}))bk.call(t,r)&&Tv(e,r,t[r]);if(gu)for(var r of gu(t))_k.call(t,r)&&Tv(e,r,t[r]);return e},be=(e,t)=>GL(e,HL(t)),kv=(e,t)=>{var r={};for(var n in e)bk.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&gu)for(var n of gu(e))t.indexOf(n)<0&&_k.call(e,n)&&(r[n]=e[n]);return r},KL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gn=(e,t,r)=>qL(WL(e),r,t),v=(e,t,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(u){i(u)}},o=l=>{try{a(r.throw(l))}catch(u){i(u)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(e,t)).next())}),Pk=KL((e,t)=>{t.exports={version:"0.12.11",license:"MIT",repository:{type:"git",url:"https://github.com/100mslive/web-sdks.git",directory:"packages/hms-video-store"},main:"dist/index.cjs.js",module:"dist/index.js",typings:"dist/index.d.ts",files:["dist","src"],engines:{node:">=12"},exports:{".":{require:"./dist/index.cjs.js",import:"./dist/index.js",default:"./dist/index.js"}},sideEffects:!1,scripts:{prestart:"rm -rf dist && yarn types:build",start:'concurrently "yarn dev" "yarn types"',dev:"node ../../scripts/dev","build:only":"node ../../scripts/build",build:"yarn build:only && yarn types:build",types:"tsc -w","types:build":"tsc -p tsconfig.json",format:"prettier --write src/**/*.ts",test:"jest --maxWorkers=1","test:watch":"jest --watch","test:coverage":"jest --coverage",lint:"eslint -c ../../.eslintrc .","lint:fix":"yarn lint --fix",prepare:"yarn build",size:"size-limit",analyze:"size-limit --why",docs:"rm -rf ./docs && typedoc && rm -f ./docs/README.md && mkdir ./docs/home &&mv ./docs/modules.md ./docs/home/content.md && node ../../scripts/docs-store && npx prettier --write './docs/**/*'"},name:"@100mslive/hms-video-store",author:"100ms",dependencies:{eventemitter2:"^6.4.9",immer:"^9.0.6","lodash.isequal":"^4.5.0",reselect:"4.0.0","sdp-transform":"^2.14.1","ua-parser-js":"^1.0.1",uuid:"^8.3.2","webrtc-adapter":"^8.0.0",zustand:"3.5.7"},devDependencies:{"@types/dom-screen-wake-lock":"^1.0.1","@types/lodash.isequal":"^4.5.8","@types/sdp-transform":"^2.4.4","@types/ua-parser-js":"^0.7.36","@types/uuid":"^8.3.0","jest-canvas-mock":"^2.3.1","jsdom-worker":"^0.3.0",tslib:"^2.2.0"},description:"@100mslive Core SDK which abstracts the complexities of webRTC while providing a reactive store for data management with a unidirectional data flow",keywords:["video","webrtc","conferencing","100ms"],gitHead:"29f7d58a447423b3eaab77ef94e843aafe23995a"}}),QL=(e=>(e.Disconnected="Disconnected",e.Preview="Preview",e.Connecting="Connecting",e.Connected="Connected",e.Reconnecting="Reconnecting",e.Disconnecting="Disconnecting",e.Failed="Failed",e))(QL||{}),wk=()=>({room:{id:"",isConnected:!1,name:"",peers:[],localPeer:"",roomState:"Disconnected",recording:{browser:{running:!1},server:{running:!1},hls:{running:!1}},rtmp:{running:!1},hls:{running:!1,variants:[]},sessionId:""},peers:{},tracks:{},playlist:{audio:{list:{},selection:{id:"",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1},video:{list:{},selection:{id:"",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1}},messages:{byID:{},allIDs:[]},speakers:{},connectionQualities:{},settings:{audioInputDeviceId:"",audioOutputDeviceId:"",videoInputDeviceId:""},devices:{audioInput:[],audioOutput:[],videoInput:[]},roles:{},roleChangeRequests:[],errors:[],sessionStore:{},templateAppData:{},polls:{},whiteboards:{},hideLocalPeer:!1}),Ck=()=>({peerStats:{},remoteTrackStats:{},localTrackStats:{},localPeer:{id:""}}),YL=(e=>(e.CHAT="chat",e))(YL||{}),JL=(e=>(e.INFO="info",e.ERROR="error",e))(JL||{}),Rk=(e=>(e.PEER_JOINED="PEER_JOINED",e.PEER_LEFT="PEER_LEFT",e.PEER_LIST="PEER_LIST",e.NEW_MESSAGE="NEW_MESSAGE",e.ERROR="ERROR",e.RECONNECTING="RECONNECTING",e.RECONNECTED="RECONNECTED",e.TRACK_ADDED="TRACK_ADDED",e.TRACK_REMOVED="TRACK_REMOVED",e.TRACK_MUTED="TRACK_MUTED",e.TRACK_UNMUTED="TRACK_UNMUTED",e.TRACK_DEGRADED="TRACK_DEGRADED",e.TRACK_RESTORED="TRACK_RESTORED",e.TRACK_DESCRIPTION_CHANGED="TRACK_DESCRIPTION_CHANGED",e.ROLE_UPDATED="ROLE_UPDATED",e.CHANGE_TRACK_STATE_REQUEST="CHANGE_TRACK_STATE_REQUEST",e.CHANGE_MULTI_TRACK_STATE_REQUEST="CHANGE_MULTI_TRACK_STATE_REQUEST",e.ROOM_ENDED="ROOM_ENDED",e.REMOVED_FROM_ROOM="REMOVED_FROM_ROOM",e.DEVICE_CHANGE_UPDATE="DEVICE_CHANGE_UPDATE",e.PLAYLIST_TRACK_ENDED="PLAYLIST_TRACK_ENDED",e.NAME_UPDATED="NAME_UPDATED",e.METADATA_UPDATED="METADATA_UPDATED",e.POLL_CREATED="POLL_CREATED",e.POLL_STARTED="POLL_STARTED",e.POLL_STOPPED="POLL_STOPPED",e.POLL_VOTES_UPDATED="POLL_VOTES_UPDATED",e.POLLS_LIST="POLLS_LIST",e.HAND_RAISE_CHANGED="HAND_RAISE_CHANGED",e))(Rk||{}),XL=(e=>(e.audio="audio",e.video="video",e))(XL||{});function Sa(e,t){let r,n;if(t)for(let i of t.auxiliaryTracks){let s=e[i];ZL(s)&&(n=Cp(s)?s:n,r=Rp(s)?s:r)}return{video:r,audio:n}}function Cp(e){return e&&e.type==="audio"}function Rp(e){return e&&e.type==="video"}function ZL(e){return e&&e.source==="screen"}function Ak(e){return e&&e.source==="audioplaylist"}function Ap(e){return e&&e.source==="videoplaylist"}function eM(e){return e?!!(e!=null&&e.degraded):!1}function Ik(e,t){return t&&e.tracks[t]?e.tracks[t].enabled:!1}function tM(e,t){return t&&e.tracks[t]?e.tracks[t].displayEnabled:!1}function Ok(e){var t;let r=!1,n=!1,i=!1;return(t=e==null?void 0:e.publishParams)!=null&&t.allowed&&(r=e.publishParams.allowed.includes("video"),n=e.publishParams.allowed.includes("audio"),i=e.publishParams.allowed.includes("screen")),{video:r,audio:n,screen:i}}var rM=(e=>(e[e.VERBOSE=0]="VERBOSE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.TIME=4]="TIME",e[e.TIMEEND=5]="TIMEEND",e[e.ERROR=6]="ERROR",e[e.NONE=7]="NONE",e))(rM||{}),nM=typeof window<"u"&&typeof window.expect<"u",E=class{static v(t,...r){this.log(0,t,...r)}static d(t,...r){this.log(1,t,...r)}static i(t,...r){this.log(2,t,...r)}static w(t,...r){this.log(3,t,...r)}static e(t,...r){this.log(6,t,...r)}static time(t){this.log(4,"[HMSPerformanceTiming]",t)}static timeEnd(t){this.log(5,"[HMSPerformanceTiming]",t,t)}static cleanup(){performance.clearMarks(),performance.clearMeasures()}static log(t,r,...n){if(!(this.level.valueOf()>t.valueOf()))switch(t){case 0:{console.log(r,...n);break}case 1:{console.debug(r,...n);break}case 2:{console.info(r,...n);break}case 3:{console.warn(r,...n);break}case 6:{console.error(r,...n);break}case 4:{performance.mark(n[0]);break}case 5:{let i=n[0];try{let s=performance.measure(i,i);this.log(1,r,i,s==null?void 0:s.duration),performance.clearMarks(i),performance.clearMeasures(i)}catch(s){this.log(1,r,i,s)}break}}}};E.level=nM?7:0;var Dk=class{constructor(e){this.tracks=new Array,this.nativeStream=e,this.id=e.id}updateId(e){this.id=e}},_i=new oL.UAParser,Kt=typeof window<"u",Ev,Ip=typeof window>"u"&&!((Ev=_i.getBrowser().name)!=null&&Ev.toLowerCase().includes("electron")),na=()=>_i.getDevice().type==="mobile",iM=()=>typeof document<"u"&&document.hidden,bv=()=>{var e;return((e=_i.getOS().name)==null?void 0:e.toLowerCase())==="ios"},_v,Pv,sM=((Pv=(_v=_i.getBrowser())==null?void 0:_v.name)==null?void 0:Pv.toLowerCase())==="firefox",xk=e=>e?`{
    trackId: ${e.id};
    kind: ${e.kind};
    enabled: ${e.enabled};
    muted: ${e.muted};
    readyState: ${e.readyState};
  }`:"",Op=class{constructor(e,t,r){this.logIdentifier="",this.stream=e,this.nativeTrack=t,this.source=r}get enabled(){return this.nativeTrack.enabled}get trackId(){return this.firstTrackId||this.sdpTrackId||this.nativeTrack.id}getMediaTrackSettings(){return this.nativeTrack.getSettings()}setEnabled(e){return v(this,null,function*(){this.nativeTrack.enabled=e})}setSdpTrackId(e){this.sdpTrackId=e}setFirstTrackId(e){this.firstTrackId=e}cleanup(){var e;E.d("[HMSTrack]","Stopping track",this.toString()),(e=this.nativeTrack)==null||e.stop()}toString(){var e;return`{
      streamId: ${this.stream.id};
      peerId: ${this.peerId};
      trackId: ${this.trackId};
      mid: ${((e=this.transceiver)==null?void 0:e.mid)||"-"};
      logIdentifier: ${this.logIdentifier};
      source: ${this.source};
      enabled: ${this.enabled};
      nativeTrack: ${xk(this.nativeTrack)};
    }`}},Dp=class extends Op{constructor(e,t,r){if(super(e,t,r),this.type="audio",this.audioElement=null,t.kind!=="audio")throw new Error("Expected 'track' kind = 'audio'")}getVolume(){return this.audioElement?this.audioElement.volume*100:null}setVolume(e){return v(this,null,function*(){if(e<0||e>100)throw Error("Please pass a valid number between 0-100");yield this.subscribeToAudio(e===0?!1:this.enabled),this.audioElement&&(this.audioElement.volume=e/100)})}setAudioElement(e){E.d("[HMSAudioTrack]",this.logIdentifier,"adding audio element",`${this}`,e),this.audioElement=e}getAudioElement(){return this.audioElement}getOutputDevice(){return this.outputDevice}cleanup(){super.cleanup(),this.audioElement&&(this.audioElement.srcObject=null,this.audioElement.remove(),this.audioElement=null)}setOutputDevice(e){return v(this,null,function*(){var t;if(!e){E.d("[HMSAudioTrack]",this.logIdentifier,"device is null",`${this}`);return}if(!this.audioElement){E.d("[HMSAudioTrack]",this.logIdentifier,"no audio element to set output",`${this}`),this.outputDevice=e;return}try{typeof this.audioElement.setSinkId=="function"&&(sM||(yield(t=this.audioElement)==null?void 0:t.setSinkId(e.deviceId)),this.outputDevice=e)}catch(r){E.d("[HMSAudioTrack]","error in setSinkId",r)}})}subscribeToAudio(e){return v(this,null,function*(){this.stream instanceof Np&&(yield this.stream.setAudio(e,this.trackId,this.logIdentifier))})}},oM=(e=>(e.CUSTOM="CUSTOM",e.LOCAL="LOCAL",e.HMS="HMS",e))(oM||{});function aM(){if(Kt&&window){let e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"LOCAL":e.includes("app.100ms.live")?"HMS":"CUSTOM"}return"CUSTOM"}var Cl=aM(),ue={WebSocketConnectionErrors:{FAILED_TO_CONNECT:1e3,WEBSOCKET_CONNECTION_LOST:1003,ABNORMAL_CLOSE:1006},APIErrors:{SERVER_ERRORS:2e3,INIT_CONFIG_NOT_AVAILABLE:2002,ENDPOINT_UNREACHABLE:2003,INVALID_TOKEN_FORMAT:2004},TracksErrors:{GENERIC_TRACK:3e3,CANT_ACCESS_CAPTURE_DEVICE:3001,DEVICE_NOT_AVAILABLE:3002,DEVICE_IN_USE:3003,DEVICE_LOST_MIDWAY:3004,NOTHING_TO_RETURN:3005,INVALID_VIDEO_SETTINGS:3006,CODEC_CHANGE_NOT_PERMITTED:3007,AUTOPLAY_ERROR:3008,OVER_CONSTRAINED:3009,NO_AUDIO_DETECTED:3010,SYSTEM_DENIED_PERMISSION:3011,CURRENT_TAB_NOT_SHARED:3012,AUDIO_PLAYBACK_ERROR:3013,SELECTED_DEVICE_MISSING:3014},WebrtcErrors:{CREATE_OFFER_FAILED:4001,CREATE_ANSWER_FAILED:4002,SET_LOCAL_DESCRIPTION_FAILED:4003,SET_REMOTE_DESCRIPTION_FAILED:4004,ICE_FAILURE:4005,ICE_DISCONNECTED:4006,STATS_FAILED:4007},WebsocketMethodErrors:{SERVER_ERRORS:5e3,ALREADY_JOINED:5001,CANNOT_JOIN_PREVIEW_IN_PROGRESS:5002},GenericErrors:{NOT_CONNECTED:6e3,SIGNALLING:6001,UNKNOWN:6002,NOT_READY:6003,JSON_PARSING_FAILED:6004,TRACK_METADATA_MISSING:6005,RTC_TRACK_MISSING:6006,PEER_METADATA_MISSING:6007,INVALID_ROLE:6008,PREVIEW_IN_PROGRESS:6009,MISSING_MEDIADEVICES:6010,MISSING_RTCPEERCONNECTION:6011,LOCAL_STORAGE_ACCESS_DENIED:6012,VALIDATION_FAILED:6013},PlaylistErrors:{NO_ENTRY_TO_PLAY:8001,NO_ENTRY_IS_PLAYING:8002}},ae=class Lk extends Error{constructor(t,r,n,i,s,o=!1){super(i),this.code=t,this.name=r,this.message=i,this.description=s,this.isTerminal=o,Object.setPrototypeOf(this,Lk.prototype),this.action=n.toString()}toAnalyticsProperties(){return{error_name:this.name,error_code:this.code,error_message:this.message,error_description:this.description,action:this.action,is_terminal:this.isTerminal}}addNativeError(t){this.nativeError=t}toString(){var t;return`{
      code: ${this.code};
      name: ${this.name};
      action: ${this.action};
      message: ${this.message};
      description: ${this.description};
      isTerminal: ${this.isTerminal};
      nativeError: ${(t=this.nativeError)==null?void 0:t.message};
    }`}};function wv(e){switch(e){case"join":return"JOIN";case"offer":return"PUBLISH";case"answer":return"SUBSCRIBE";case"track-update":return"TRACK";default:return"NONE"}}var lM=["join","offer","answer","trickle","on-error","JOIN"],K={WebSocketConnectionErrors:{FailedToConnect(e,t=""){return new ae(ue.WebSocketConnectionErrors.FAILED_TO_CONNECT,"WebsocketFailedToConnect",e,`[WS]: ${t}`,`[WS]: ${t}`)},WebSocketConnectionLost(e,t=""){return new ae(ue.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,"WebSocketConnectionLost",e,"Network connection lost",t)},AbnormalClose(e,t=""){return new ae(ue.WebSocketConnectionErrors.ABNORMAL_CLOSE,"WebSocketAbnormalClose",e,"Websocket closed abnormally",t)}},APIErrors:{ServerErrors(e,t,r="",n=!0){return new ae(e,"ServerErrors",t,`[${t}]: Server error ${r}`,r,n)},EndpointUnreachable(e,t=""){return new ae(ue.APIErrors.ENDPOINT_UNREACHABLE,"EndpointUnreachable",e,`Endpoint is not reachable - ${t}`,t)},InvalidTokenFormat(e,t=""){return new ae(ue.APIErrors.INVALID_TOKEN_FORMAT,"InvalidTokenFormat",e,`Token is not in proper JWT format - ${t}`,t,!0)},InitConfigNotAvailable(e,t=""){return new ae(ue.APIErrors.INIT_CONFIG_NOT_AVAILABLE,"InitError",e,`[INIT]: ${t}`,`[INIT]: ${t}`)}},TracksErrors:{GenericTrack(e,t=""){return new ae(ue.TracksErrors.GENERIC_TRACK,"GenericTrack",e,`[TRACK]: ${t}`,`[TRACK]: ${t}`)},CantAccessCaptureDevice(e,t,r=""){return new ae(ue.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,"CantAccessCaptureDevice",e,`User denied permission to access capture device - ${t}`,r)},DeviceNotAvailable(e,t,r=""){return new ae(ue.TracksErrors.DEVICE_NOT_AVAILABLE,"DeviceNotAvailable",e,`[TRACK]: Capture device is no longer available - ${t}`,r)},DeviceInUse(e,t,r=""){return new ae(ue.TracksErrors.DEVICE_IN_USE,"DeviceInUse",e,`[TRACK]: Capture device is in use by another application - ${t}`,r)},DeviceLostMidway(e,t,r=""){return new ae(ue.TracksErrors.DEVICE_LOST_MIDWAY,"DeviceLostMidway",e,`Lost access to capture device midway - ${t}`,r)},NothingToReturn(e,t="",r="There is no media to return. Please select either video or audio or both."){return new ae(ue.TracksErrors.NOTHING_TO_RETURN,"NothingToReturn",e,r,t)},InvalidVideoSettings(e,t=""){return new ae(ue.TracksErrors.INVALID_VIDEO_SETTINGS,"InvalidVideoSettings",e,"Cannot enable simulcast when no video settings are provided",t)},AutoplayBlocked(e,t=""){return new ae(ue.TracksErrors.AUTOPLAY_ERROR,"AutoplayBlocked",e,"Autoplay blocked because the user didn't interact with the document first",t)},CodecChangeNotPermitted(e,t=""){return new ae(ue.TracksErrors.CODEC_CHANGE_NOT_PERMITTED,"CodecChangeNotPermitted",e,"Codec can't be changed mid call.",t)},OverConstrained(e,t,r=""){return new ae(ue.TracksErrors.OVER_CONSTRAINED,"OverConstrained",e,`[TRACK]: Requested constraints cannot be satisfied with the device hardware - ${t}`,r)},NoAudioDetected(e,t="Please check the mic or use another audio input"){return new ae(ue.TracksErrors.NO_AUDIO_DETECTED,"NoAudioDetected",e,"No audio input detected from microphone",t)},SystemDeniedPermission(e,t,r=""){return new ae(ue.TracksErrors.SYSTEM_DENIED_PERMISSION,"SystemDeniedPermission",e,`Operating System denied permission to access capture device - ${t}`,r)},CurrentTabNotShared(){return new ae(ue.TracksErrors.CURRENT_TAB_NOT_SHARED,"CurrentTabNotShared","TRACK","The app requires you to share the current tab","You must screen share the current tab in order to proceed")},AudioPlaybackError(e){return new ae(ue.TracksErrors.AUDIO_PLAYBACK_ERROR,"Audio playback error","TRACK",e,e)},SelectedDeviceMissing(e){return new ae(ue.TracksErrors.SELECTED_DEVICE_MISSING,"SelectedDeviceMissing","TRACK",`Could not detect selected ${e} device`,`Please check connection to the ${e} device`,!1)}},WebrtcErrors:{CreateOfferFailed(e,t=""){return new ae(ue.WebrtcErrors.CREATE_OFFER_FAILED,"CreateOfferFailed",e,`[${e.toString()}]: Failed to create offer. `,t)},CreateAnswerFailed(e,t=""){return new ae(ue.WebrtcErrors.CREATE_ANSWER_FAILED,"CreateAnswerFailed",e,`[${e.toString()}]: Failed to create answer. `,t)},SetLocalDescriptionFailed(e,t=""){return new ae(ue.WebrtcErrors.SET_LOCAL_DESCRIPTION_FAILED,"SetLocalDescriptionFailed",e,`[${e.toString()}]: Failed to set offer. `,t)},SetRemoteDescriptionFailed(e,t=""){return new ae(ue.WebrtcErrors.SET_REMOTE_DESCRIPTION_FAILED,"SetRemoteDescriptionFailed",e,`[${e.toString()}]: Failed to set answer. `,t,!0)},ICEFailure(e,t="",r=!1){return new ae(ue.WebrtcErrors.ICE_FAILURE,"ICEFailure",e,`[${e.toString()}]: Ice connection state FAILED`,t,r)},ICEDisconnected(e,t=""){return new ae(ue.WebrtcErrors.ICE_DISCONNECTED,"ICEDisconnected",e,`[${e.toString()}]: Ice connection state DISCONNECTED`,t)},StatsFailed(e,t=""){return new ae(ue.WebrtcErrors.STATS_FAILED,"StatsFailed",e,`Failed to WebRTC get stats - ${t}`,t)}},WebsocketMethodErrors:{ServerErrors(e,t,r){return new ae(e,"ServerErrors",t,r,r,lM.includes(t))},AlreadyJoined(e,t=""){return new ae(ue.WebsocketMethodErrors.ALREADY_JOINED,"AlreadyJoined",e,"[JOIN]: You have already joined this room.",t)},CannotJoinPreviewInProgress(e,t=""){return new ae(ue.WebsocketMethodErrors.CANNOT_JOIN_PREVIEW_IN_PROGRESS,"CannotJoinPreviewInProgress",e,"[JOIN]: Cannot join if preview is in progress",t)}},GenericErrors:{NotConnected(e,t=""){return new ae(ue.GenericErrors.NOT_CONNECTED,"NotConnected",e,"Client is not connected",t)},Signalling(e,t){return new ae(ue.GenericErrors.SIGNALLING,"Signalling",e,`Unknown signalling error: ${e.toString()} ${t} `,t)},Unknown(e,t){return new ae(ue.GenericErrors.UNKNOWN,"Unknown",e,`Unknown exception: ${t}`,t)},NotReady(e,t=""){return new ae(ue.GenericErrors.NOT_READY,"NotReady",e,t,t)},JsonParsingFailed(e,t,r=""){return new ae(ue.GenericErrors.JSON_PARSING_FAILED,"JsonParsingFailed",e,`Failed to parse JSON message - ${t}`,r)},TrackMetadataMissing(e,t=""){return new ae(ue.GenericErrors.TRACK_METADATA_MISSING,"TrackMetadataMissing",e,"Track Metadata Missing",t)},RTCTrackMissing(e,t=""){return new ae(ue.GenericErrors.RTC_TRACK_MISSING,"RTCTrackMissing",e,"RTC Track missing",t)},PeerMetadataMissing(e,t=""){return new ae(ue.GenericErrors.PEER_METADATA_MISSING,"PeerMetadataMissing",e,"Peer Metadata Missing",t)},ValidationFailed(e,t){return new ae(ue.GenericErrors.VALIDATION_FAILED,"ValidationFailed","VALIDATION",e,t?JSON.stringify(t):"")},InvalidRole(e,t){return new ae(ue.GenericErrors.INVALID_ROLE,"InvalidRole",e,"Invalid role. Join with valid role",t,!0)},PreviewAlreadyInProgress(e,t=""){return new ae(ue.GenericErrors.PREVIEW_IN_PROGRESS,"PreviewAlreadyInProgress",e,"[Preview]: Cannot join if preview is in progress",t)},LocalStorageAccessDenied(e="Access to localStorage has been denied"){return new ae(ue.GenericErrors.LOCAL_STORAGE_ACCESS_DENIED,"LocalStorageAccessDenied","NONE","LocalStorageAccessDenied",e)},MissingMediaDevices(){return new ae(ue.GenericErrors.MISSING_MEDIADEVICES,"MissingMediaDevices","JOIN","navigator.mediaDevices is undefined. 100ms SDK won't work on this website as WebRTC is not supported on HTTP endpoints(missing navigator.mediaDevices). Please ensure you're using the SDK either on localhost or a valid HTTPS endpoint.","",!0)},MissingRTCPeerConnection(){return new ae(ue.GenericErrors.MISSING_RTCPEERCONNECTION,"MissingRTCPeerConnection","JOIN","RTCPeerConnection which is a core requirement for WebRTC call was not found, this could be due to an unsupported browser or browser extensions blocking WebRTC","",!0)}},MediaPluginErrors:{PlatformNotSupported(e,t=""){return new ae(7001,"PlatformNotSupported",e,"Check HMS Docs to see the list of supported platforms",t)},InitFailed(e,t=""){return new ae(7002,"InitFailed",e,"Plugin init failed",t)},ProcessingFailed(e,t=""){return new ae(7003,"ProcessingFailed",e,"Plugin processing failed",t)},AddAlreadyInProgress(e,t=""){return new ae(7004,"AddAlreadyInProgress",e,"Plugin add already in progress",t)},DeviceNotSupported(e,t=""){return new ae(7005,"DeviceNotSupported",e,"Check HMS Docs to see the list of supported devices",t)}},PlaylistErrors:{NoEntryToPlay(e,t){return new ae(ue.PlaylistErrors.NO_ENTRY_TO_PLAY,"NoEntryToPlay",e,"Reached end of playlist",t)},NoEntryPlaying(e,t){return new ae(ue.PlaylistErrors.NO_ENTRY_IS_PLAYING,"NoEntryIsPlaying",e,"No entry is playing at this time",t)}}},uM=class{constructor(){this.valuesMap=new Map}getItem(e){return this.valuesMap.has(e)?String(this.valuesMap.get(e)):null}setItem(e,t){this.valuesMap.set(e,t)}removeItem(e){this.valuesMap.delete(e)}clear(){this.valuesMap.clear()}key(e){if(arguments.length===0)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[e]}get length(){return this.valuesMap.size}},cM=()=>{try{Kt&&!localStorage&&(window.localStorage=new uM)}catch{E.e("Error initialising localStorage",K.GenericErrors.LocalStorageAccessDenied())}},nc=class{constructor(e){this.key=e,this.storage=null}getStorage(){try{return Kt&&!this.storage&&(cM(),this.storage=window.localStorage),this.storage}catch{return E.e("Error initialising localStorage",K.GenericErrors.LocalStorageAccessDenied()),null}}get(){var e;let t=(e=this.getStorage())==null?void 0:e.getItem(this.key);return t?JSON.parse(t):void 0}set(e){var t;let r=JSON.stringify(e);(t=this.getStorage())==null||t.setItem(this.key,r)}clear(){var e;(e=this.getStorage())==null||e.removeItem(this.key)}},dM=()=>{let e,t=new nc("hms-analytics-deviceId"),r=t.get();return r?e=r:(e=si(),t.set(e)),e},Mk="[VALIDATIONS]";function Zn(e){return e!=null}var Cv=()=>{if(!Zn(RTCPeerConnection)){let e=K.GenericErrors.MissingRTCPeerConnection();throw E.e(Mk,e),e}},Rv=()=>{if(!Zn(navigator.mediaDevices)){let e=K.GenericErrors.MissingMediaDevices();throw E.e(Mk,e),e}},Av=Pk().version;function Dh(e="prod",t){let r="web",n=Cl!=="LOCAL"&&e==="prod"?"prod":"debug";if(Ip)return Iv({os:"web_nodejs",os_version:process.version,sdk:r,sdk_version:Av,env:n,domain:Cl,is_prebuilt:!!(t!=null&&t.isPrebuilt),framework:"node",framework_version:process.version,framework_sdk_version:t==null?void 0:t.sdkVersion});let i=_i.getOS(),s=_i.getDevice(),o=_i.getBrowser(),a=od(`web_${i.name}`),l=i.version||"",u=od(`${o.name}_${o.version}`),c=u;return s.type&&(c=`${od(`${s.vendor}_${s.type}`)}/${u}`),Iv({os:a,os_version:l,sdk:r,sdk_version:Av,device_model:c,env:n,domain:Cl,is_prebuilt:!!(t!=null&&t.isPrebuilt),framework:t==null?void 0:t.type,framework_version:t==null?void 0:t.version,framework_sdk_version:t==null?void 0:t.sdkVersion})}function od(e){return e.replace(/ /g,"_")}var Iv=(e,t=",")=>Object.keys(e).filter(r=>Zn(e[r])).map(r=>`${r}:${e[r]}`).join(t),Me=class{constructor({name:t,level:r,properties:n,includesPII:i,timestamp:s}){this.metadata={peer:{},userAgent:Dh()},this.name=t,this.level=r,this.includesPII=i||!1,this.properties=n||{},this.timestamp=s||new Date().getTime(),this.event_id=si(),this.device_id=dM()}toSignalParams(){return{name:this.name,info:be(Y({},this.properties),{timestamp:this.timestamp,domain:Cl}),timestamp:new Date().getTime()}}},Se=class{static connect(t,r,n=new Date,i=new Date,s){let o=this.eventNameFor("connect",t===void 0),a=t?2:1,l=this.getPropertiesWithError(be(Y({},r),{[this.KEY_REQUESTED_AT]:n==null?void 0:n.getTime(),[this.KEY_RESPONDED_AT]:i==null?void 0:i.getTime(),endpoint:s}),t);return new Me({name:o,level:a,properties:l})}static disconnect(t,r){let n="disconnected",i=t?2:1,s=this.getPropertiesWithError(r,t);return new Me({name:n,level:i,properties:s})}static preview(t){var r=t,{error:n}=r,i=kv(r,["error"]);let s=this.eventNameFor("preview",n===void 0),o=n?2:1,a=this.getPropertiesWithError(i,n);return new Me({name:s,level:o,properties:a})}static join(t){var r=t,{error:n}=r,i=kv(r,["error"]);let s=this.eventNameFor("join",n===void 0),o=n?2:1,a=this.getPropertiesWithError(be(Y({},i),{is_preview_called:!!i.is_preview_called}),n);return new Me({name:s,level:o,properties:a})}static publish({devices:t,settings:r,error:n}){let i=this.eventNameFor("publish",n===void 0),s=n?2:1,o=this.getPropertiesWithError({devices:t,audio:r==null?void 0:r.audio,video:r==null?void 0:r.video},n);return new Me({name:i,level:s,properties:o})}static hlsPlayerError(t){return new Me({name:"hlsPlayerError",level:2,properties:this.getErrorProperties(t)})}static subscribeFail(t){let r=this.eventNameFor("subscribe",!1),n=2,i=this.getErrorProperties(t);return new Me({name:r,level:n,properties:i})}static leave(){return new Me({name:"leave",level:1})}static autoplayError(){return new Me({name:"autoplayError",level:2})}static audioPlaybackError(t){return new Me({name:"audioPlaybackError",level:2,properties:this.getErrorProperties(t)})}static deviceChange({isUserSelection:t,selection:r,type:n,devices:i,error:s}){let o=this.eventNameFor(s?"publish":`device.${n}`,s===void 0),a=s?2:1,l=this.getPropertiesWithError({selection:r,devices:i,isUserSelection:t},s);return new Me({name:o,level:a,properties:l})}static performance(t){let r="perf.stats",n=1,i=t.toAnalyticsProperties();return new Me({name:r,level:n,properties:i})}static rtcStats(t){let r="rtc.stats",n=1,i=t.toAnalyticsProperties();return new Me({name:r,level:n,properties:i})}static rtcStatsFailed(t){let r="rtc.stats.failed",n=2;return new Me({name:r,level:n,properties:this.getErrorProperties(t)})}static degradationStats(t,r){let n="video.degradation.stats",i=1,s={degradedAt:t.degradedAt,trackId:t.trackId};if(!r&&t.degradedAt instanceof Date){let o=new Date,a=o.valueOf()-t.degradedAt.valueOf();s=be(Y({},s),{duration:a,restoredAt:o})}return new Me({name:n,level:i,properties:s})}static audioDetectionFail(t,r){let n=this.getPropertiesWithError({device:r},t),i=2,s="audiopresence.failed";return new Me({name:s,level:i,properties:n})}static previewNetworkQuality(t){return new Me({name:"perf.networkquality.preview",level:t.error?2:1,properties:t})}static publishStats(t){return new Me({name:"publisher.stats",level:1,properties:t})}static subscribeStats(t){return new Me({name:"subscriber.stats",level:1,properties:t})}static getKrispUsage(t){return new Me({name:"krisp.usage",level:1,properties:{duration:t}})}static eventNameFor(t,r){return`${t}.${r?"success":"failed"}`}static getPropertiesWithError(t,r){let n=this.getErrorProperties(r);return t=Y(Y({},n),t),t}static getErrorProperties(t){return t?t instanceof ae?t.toAnalyticsProperties():{error_name:t.name,error_message:t.message,error_description:t.cause}:{}}};Se.KEY_REQUESTED_AT="requested_at",Se.KEY_RESPONDED_AT="responded_at";var hM=class{constructor(){this.storage=new nc("hms-device-selection"),this.remember=!1,this.TAG="[HMSDeviceStorage]"}setDevices(e){this.devices=e}rememberDevices(e){this.remember=e}updateSelection(e,{deviceId:t,groupId:r}){if(!this.devices||!this.remember)return;let n=this.devices[e].find(s=>this.isSame({deviceId:t,groupId:r},s));if(!n){E.w(this.TAG,`Could not find device with deviceId: ${t}, groupId: ${r}`);return}let i=this.storage.get()||{};i[e]=n,this.storage.set(i)}getSelection(){if(this.remember)return this.storage.get()}cleanup(){this.remember=!1,this.devices=void 0}isSame(e,t){return e.deviceId===t.deviceId&&(e.groupId===t.groupId||!e.groupId)}},bn=new hM,fM=(e=>(e.TRANSFORM="TRANSFORM",e.ANALYZE="ANALYZE",e))(fM||{}),pM=(e=>(e.PLATFORM_NOT_SUPPORTED="PLATFORM_NOT_SUPPORTED",e.DEVICE_NOT_SUPPORTED="DEVICE_NOT_SUPPORTED",e))(pM||{}),gs=class{static failure(e,t){let r="mediaPlugin.failed",n=2,i=Y({plugin_name:e},t.toAnalyticsProperties());return new Me({name:r,level:n,properties:i})}static audioPluginFailure(e,t,r){let n="mediaPlugin.failed",i=2,s=Y({plugin_name:e,sampleRate:t},r.toAnalyticsProperties());return new Me({name:n,level:i,properties:s})}static audioPluginStats({pluginName:e,duration:t,loadTime:r,sampleRate:n}){let i="mediaPlugin.stats",s=1,o={plugin_name:e,duration:t,load_time:r,sampleRate:n};return new Me({name:i,level:s,properties:o})}static added(e,t){let r="mediaPlugin.added",n=1,i={plugin_name:e,added_at:t};return new Me({name:r,level:n,properties:i})}static stats({pluginName:e,duration:t,loadTime:r,avgPreProcessingTime:n,avgProcessingTime:i,inputFrameRate:s,pluginFrameRate:o}){let a="mediaPlugin.stats",l=1,u={plugin_name:e,duration:t,load_time:r,avg_preprocessing_time:n,avg_processing_time:i,input_frame_rate:s,plugin_frame_rate:o};return new Me({name:a,level:l,properties:u})}},mM=class{constructor(e){this.eventBus=e,this.TAG="[AudioPluginsAnalytics]",this.initTime={},this.addedTimestamps={},this.pluginAdded={},this.pluginSampleRate={}}added(e,t){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0,this.pluginSampleRate[e]=t,this.eventBus.analytics.publish(gs.added(e,this.addedTimestamps[e]))}removed(e){if(this.pluginAdded[e]){let t={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e],sampleRate:this.pluginSampleRate[e]};this.eventBus.analytics.publish(gs.audioPluginStats(t)),this.clean(e)}}failure(e,t){this.pluginAdded[e]&&(this.eventBus.analytics.publish(gs.audioPluginFailure(e,this.pluginSampleRate[e],t)),this.clean(e))}initWithTime(e,t){return v(this,null,function*(){if(this.initTime[e]){E.i(this.TAG,`Plugin Already loaded ${e}, time it took: ${this.initTime[e]}`);return}let r;try{r=yield this.timeInMs(t),E.i(this.TAG,`Time taken for Plugin ${e} initialization : ${r}`)}catch(n){let i=K.MediaPluginErrors.InitFailed("AUDIO_PLUGINS",`failed during initialization of plugin${n.message||n}`);throw E.e(this.TAG,i),this.failure(e,i),i}r&&(this.initTime[e]=r)})}timeInMs(e){return v(this,null,function*(){let t=Date.now();return yield e(),Math.floor(Date.now()-t)})}clean(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.pluginAdded[e],delete this.pluginSampleRate[e]}},gM=48e3,vM=()=>navigator.userAgent.indexOf("Firefox")!==-1,yM=class{constructor(e,t){this.eventBus=t,this.TAG="[AudioPluginsManager]",this.pluginAddInProgress=!1,this.hmsTrack=e,this.pluginsMap=new Map,this.analytics=new mM(t),this.createAudioContext()}getPlugins(){return Array.from(this.pluginsMap.keys())}addPlugin(e){return v(this,null,function*(){var t;let r=(t=e.getName)==null?void 0:t.call(e);if(!r){E.w("no name provided by the plugin");return}if(this.pluginAddInProgress){let n=K.MediaPluginErrors.AddAlreadyInProgress("AUDIO_PLUGINS","Add Plugin is already in Progress");throw this.analytics.added(r,this.audioContext.sampleRate),this.analytics.failure(r,n),E.w("can't add another plugin when previous add is in progress"),n}this.pluginAddInProgress=!0;try{yield this.addPluginInternal(e)}finally{this.pluginAddInProgress=!1}})}addPluginInternal(e){return v(this,null,function*(){var t,r;let n=(t=e.getName)==null?void 0:t.call(e);if(this.pluginsMap.get(n)){E.w(this.TAG,`plugin - ${n} already added.`);return}yield this.validateAndThrow(n,e),(r=e.setEventBus)==null||r.call(e,this.eventBus);try{this.pluginsMap.size===0?yield this.initAudioNodes():this.prevAudioNode&&this.prevAudioNode.disconnect(),this.analytics.added(n,this.audioContext.sampleRate),yield this.analytics.initWithTime(n,()=>v(this,null,function*(){return e.init()})),this.pluginsMap.set(n,e),yield this.processPlugin(e),yield this.connectToDestination()}catch(i){throw E.e(this.TAG,"failed to add plugin",i),i}})}validatePlugin(e){return e.checkSupport(this.audioContext)}validateAndThrow(e,t){return v(this,null,function*(){let r=this.validatePlugin(t);if(r.isSupported)E.i(this.TAG,`plugin is supported,- ${t.getName()}`);else if(this.analytics.added(e,this.audioContext.sampleRate),r.errType==="PLATFORM_NOT_SUPPORTED"){let n=K.MediaPluginErrors.PlatformNotSupported("AUDIO_PLUGINS","platform not supported, see docs");throw this.analytics.failure(e,n),yield this.cleanup(),n}else if(r.errType==="DEVICE_NOT_SUPPORTED"){let n=K.MediaPluginErrors.DeviceNotSupported("AUDIO_PLUGINS","audio device not supported, see docs");throw this.analytics.failure(e,n),yield this.cleanup(),n}})}removePlugin(e){return v(this,null,function*(){yield this.removePluginInternal(e),this.pluginsMap.size===0?(yield this.cleanup(),E.i(this.TAG,"No plugins left, stopping plugins loop"),yield this.hmsTrack.setProcessedTrack(void 0)):yield this.reprocessPlugins()})}cleanup(){return v(this,null,function*(){var e,t,r;for(let n of this.pluginsMap.values())yield this.removePluginInternal(n);yield this.hmsTrack.setProcessedTrack(void 0),(e=this.sourceNode)==null||e.disconnect(),(t=this.prevAudioNode)==null||t.disconnect(),(r=this.outputTrack)==null||r.stop(),this.sourceNode=void 0,this.destinationNode=void 0,this.prevAudioNode=void 0,this.outputTrack=void 0})}closeContext(){return v(this,null,function*(){var e;(e=this.audioContext)==null||e.close(),this.audioContext=void 0})}reprocessPlugins(){return v(this,null,function*(){if(this.pluginsMap.size===0||!this.sourceNode)return;let e=Array.from(this.pluginsMap.values());yield this.cleanup(),yield this.initAudioNodes();for(let t of e)yield this.addPlugin(t)})}initAudioNodes(){return v(this,null,function*(){if(this.audioContext){if(!this.sourceNode){let e=new MediaStream([this.hmsTrack.nativeTrack]);this.sourceNode=this.audioContext.createMediaStreamSource(e)}if(!this.destinationNode){this.destinationNode=this.audioContext.createMediaStreamDestination(),this.outputTrack=this.destinationNode.stream.getAudioTracks()[0];try{yield this.hmsTrack.setProcessedTrack(this.outputTrack)}catch(e){throw E.e(this.TAG,"error in setting processed track",e),e}}}})}processPlugin(e){return v(this,null,function*(){try{let t=yield e.processAudioTrack(this.audioContext,this.prevAudioNode||this.sourceNode);this.prevAudioNode&&this.prevAudioNode.connect(t),this.prevAudioNode=t}catch(t){let r=e.getName();E.e(this.TAG,`error in processing plugin ${r}`,t),yield this.removePluginInternal(e)}})}connectToDestination(){return v(this,null,function*(){try{this.prevAudioNode&&this.destinationNode&&this.prevAudioNode.context===this.destinationNode.context&&this.prevAudioNode.connect(this.destinationNode)}catch(e){E.e(this.TAG,"error in connecting to destination node",e)}})}removePluginInternal(e){return v(this,null,function*(){var t;let r=(t=e.getName)==null?void 0:t.call(e);if(!this.pluginsMap.get(r)){E.w(this.TAG,`plugin - ${r} not found to remove.`);return}E.i(this.TAG,`removing plugin ${r}`),this.pluginsMap.delete(r),e.stop(),this.analytics.removed(r)})}createAudioContext(){this.audioContext||(vM()?this.audioContext=new AudioContext:this.audioContext=new AudioContext({sampleRate:gM}))}};function SM(e,t){let r=e.toLowerCase();return r.includes("device not found")?K.TracksErrors.DeviceNotAvailable("TRACK",t,e):r.includes("permission denied")?K.TracksErrors.CantAccessCaptureDevice("TRACK",t,e):K.TracksErrors.GenericTrack("TRACK",e)}function TM(e,t=""){if(cv.browserDetails.browser==="chrome"&&e.name==="NotAllowedError"&&e.message.includes("denied by system"))return K.TracksErrors.SystemDeniedPermission("TRACK",t,e.message);if(cv.browserDetails.browser==="firefox"&&e.name==="NotFoundError"){let r=K.TracksErrors.SystemDeniedPermission("TRACK",t,e.message);return r.description=`Capture device is either blocked at Operating System level or not available - ${t}`,r}switch(e.name){case"OverconstrainedError":return K.TracksErrors.OverConstrained("TRACK",t,e.constraint);case"NotAllowedError":return K.TracksErrors.CantAccessCaptureDevice("TRACK",t,e.message);case"NotFoundError":return K.TracksErrors.DeviceNotAvailable("TRACK",t,e.message);case"NotReadableError":return K.TracksErrors.DeviceInUse("TRACK",t,e.message);case"TypeError":return K.TracksErrors.NothingToReturn("TRACK",e.message);default:return SM(e.message,t)}}function vu(e,t){let r=TM(e,t);return r.addNativeError(e),r}function kM(e){return v(this,null,function*(){try{return(yield navigator.mediaDevices.getUserMedia({audio:e?e.toConstraints():!1})).getAudioTracks()[0]}catch(t){throw vu(t,"audio")}})}function EM(e){return v(this,null,function*(){try{return(yield navigator.mediaDevices.getUserMedia({video:e?e.toConstraints():!1})).getVideoTracks()[0]}catch(t){throw vu(t,"video")}})}function vs(e){return"canvas"in e||e.label==="MediaStreamAudioDestinationNode"||e.label===""}var ic={audioContext:null,getAudioContext(){return this.audioContext||(this.audioContext=new AudioContext),this.audioContext},resumeContext(){return v(this,null,function*(){try{return yield this.getAudioContext().resume()}catch(e){E.e("AudioContext",e)}})}},xp=class{constructor(e=1/0){this.capacity=e,this.storage=[]}size(){return this.storage.length}toList(){return this.storage.slice(0)}enqueue(e){this.size()===this.capacity&&this.dequeue(),this.storage.push(e)}dequeue(){return this.storage.shift()}aggregate(e){return e(this.storage)}},Nk=`(function workerSetup() {
  function ticker() {
    self.postMessage('tick');
  }
  self.onmessage = function (event) {
    const [data, time] = event.data;
    switch (data) {
      case 'start':
        setTimeout(ticker, time);
        break;
      default:
        break;
    }
  };
})()`;function ei(e){if(e<0)throw Error("`ms` should be a positive integer");return new Promise(t=>{setTimeout(t,e)})}function sc(e){if(e<0)throw Error("`ms` should be a positive integer");if(typeof Worker>"u")return ei(e);let t=new Worker(URL.createObjectURL(new Blob([Nk],{type:"application/javascript"})));return t.postMessage(["start",e]),new Promise(r=>{t.onmessage=n=>{n.data==="tick"&&(r(),t.terminate())}})}function bM(){if(typeof Worker>"u")return{sleep:t=>ei(t)};let e=new Worker(URL.createObjectURL(new Blob([Nk],{type:"application/javascript"})));return{sleep:t=>(e.postMessage(["start",t]),new Promise(r=>{e.onmessage=n=>{n.data==="tick"&&r()}}))}}function $k(e,t=300){let r;return function(...n){clearTimeout(r),r=void 0;let i=this;r=setTimeout(()=>{e.apply(i,n)},t)}}var _M=35,PM=5,wM=class{constructor(e,t,r){this.track=e,this.audioLevelEvent=t,this.silenceEvent=r,this.TAG="[TrackAudioLevelMonitor]",this.audioLevel=0,this.isMonitored=!1,this.interval=100,this.historyInterval=700,this.history=new xp(this.historyInterval/this.interval),this.detectSilence=()=>v(this,null,function*(){let n=0;for(;this.isMonitored;){if(this.track.enabled)if(this.isSilentThisInstant()){if(n++,n>50){this.silenceEvent.publish({track:this.track});break}}else break;yield ei(20)}});try{let n=new MediaStream([this.track.nativeTrack]);this.analyserNode=this.createAnalyserNodeForStream(n)}catch(n){E.w(this.TAG,"Unable to initialize AudioContext",n)}}start(){this.stop(),this.isMonitored=!0,E.d(this.TAG,"Starting track Monitor",`${this.track}`),this.loop().then(()=>E.d(this.TAG,"Stopping track Monitor",`${this.track}`))}stop(){if(!this.analyserNode){E.d(this.TAG,"AudioContext not initialized");return}this.sendAudioLevel(0),this.isMonitored=!1}loop(){return v(this,null,function*(){for(;this.isMonitored;)this.sendAudioLevel(this.getMaxAudioLevelOverPeriod()),yield ei(this.interval)})}sendAudioLevel(e=0){if(e=e>_M?e:0,Math.abs(this.audioLevel-e)>PM){this.audioLevel=e;let t={track:this.track,audioLevel:this.audioLevel};this.audioLevelEvent.publish(t)}}getMaxAudioLevelOverPeriod(){if(!this.analyserNode){E.d(this.TAG,"AudioContext not initialized");return}let e=this.calculateAudioLevel();return e!==void 0&&this.history.enqueue(e),this.history.aggregate(t=>Math.max(...t))}calculateAudioLevel(){if(!this.analyserNode){E.d(this.TAG,"AudioContext not initialized");return}let e=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(e);let t=.009,r=t;for(let i of e)r=Math.max(r,(i-128)/128);let n=(Math.log(t)-Math.log(r))/Math.log(t);return Math.ceil(Math.min(Math.max(n*100,0),100))}isSilentThisInstant(){if(!this.analyserNode){E.d(this.TAG,"AudioContext not initialized");return}let e=new Uint8Array(this.analyserNode.fftSize);return this.analyserNode.getByteTimeDomainData(e),!e.some(t=>t!==128&&t!==0)}createAnalyserNodeForStream(e){let t=ic.getAudioContext(),r=t.createAnalyser();return t.createMediaStreamSource(e).connect(r),r}},CM=(e=>(e.SIP="sip",e.REGULAR="regular",e))(CM||{}),RM=(e=>(e.NONE="none",e.INITIALISED="initialised",e.STARTED="started",e.PAUSED="paused",e.RESUMED="resumed",e.STOPPED="stopped",e.FAILED="failed",e))(RM||{}),AM=(e=>(e.DVR="dvr",e.NO_DVR="no-dvr",e))(AM||{}),IM=(e=>(e.REGULAR="regular",e.SCREEN="screen",e.COMPOSITE="composite",e))(IM||{}),OM=(e=>(e.INITIALISED="initialised",e.STARTED="started",e.STOPPED="stopped",e.FAILED="failed",e))(OM||{}),DM=(e=>(e.CAPTION="caption",e))(DM||{}),xM={f:"high",h:"medium",q:"low"},LM=(e=>(e.videoInput="videoInput",e.audioInput="audioInput",e.audioOutput="audioOutput",e))(LM||{}),ia=class{constructor(){this._volume=1,this._codec="opus",this._maxBitrate=32,this._deviceId="default",this._advanced=[{googEchoCancellation:{exact:!0}},{googExperimentalEchoCancellation:{exact:!0}},{autoGainControl:{exact:!0}},{noiseSuppression:{exact:!0}},{googHighpassFilter:{exact:!0}},{googAudioMirroring:{exact:!0}}]}volume(e){if(!(0<=e&&e<=1))throw Error("volume can only be in range [0.0, 1.0]");return this._volume=e,this}codec(e){return this._codec=e,this}maxBitrate(e){if(e&&e<=0)throw Error("maxBitrate should be >= 1");return this._maxBitrate=e,this}deviceId(e){return this._deviceId=e,this}advanced(e){return this._advanced=e,this}build(){return new Lp(this._volume,this._codec,this._maxBitrate,this._deviceId,this._advanced)}},Lp=class{constructor(e,t,r,n,i){this.volume=e,this.codec=t,this.maxBitrate=r,this.deviceId=n,this.advanced=i}toConstraints(){return{deviceId:this.deviceId,advanced:this.advanced}}toAnalyticsProperties(){return{audio_bitrate:this.maxBitrate,audio_codec:this.codec}}},Os=class{constructor(){this._width=320,this._height=180,this._codec="vp8",this._maxFramerate=30,this._maxBitrate=150,this._advanced=[]}setWidth(e){return this._width=e,this}setHeight(e){return this._height=e,this}codec(e){return this._codec=e,this}maxFramerate(e){if(e&&e<=0)throw Error("maxFramerate should be >= 1");return this._maxFramerate=e,this}maxBitrate(e,t=!0){if(typeof e=="number"&&e<=0)throw Error("maxBitrate should be >= 1");return this._maxBitrate=e,!this._maxBitrate&&t&&(this._maxBitrate=15e4),this}deviceId(e){return this._deviceId=e,this}advanced(e){return this._advanced=e,this}facingMode(e){return this._facingMode=e,this}build(){return new Mp(this._width,this._height,this._codec,this._maxFramerate,this._deviceId,this._advanced,this._maxBitrate,this._facingMode)}},Mp=class{constructor(e,t,r,n,i,s,o,a){this.width=e,this.height=t,this.codec=r,this.maxFramerate=n,this.maxBitrate=o,this.deviceId=i,this.advanced=s,this.facingMode=a}toConstraints(e){let t="ideal";e&&(t="max");let r=this.improviseConstraintsAspect();return{width:{[t]:r.width},height:{[t]:r.height},frameRate:this.maxFramerate,deviceId:this.deviceId,facingMode:this.facingMode}}toAnalyticsProperties(){return{width:this.width,height:this.height,video_bitrate:this.maxBitrate,framerate:this.maxFramerate,video_codec:this.codec,facingMode:this.facingMode}}improviseConstraintsAspect(){return na()&&this.height&&this.width&&this.height>this.width?{width:this.height,height:this.width}:{width:this.width,height:this.height}}},Ov=class{constructor(){this._video=new Os().build(),this._audio=new ia().build(),this._screen=new Os().build(),this._simulcast=!1}video(e){return this._video=e,this}audio(e){return this._audio=e,this}screen(e){return this._screen=e,this}simulcast(e){return this._simulcast=e,this}build(){if(this._audio===null&&this._video===null)throw K.TracksErrors.NothingToReturn("TRACK");if(this._video===null&&this._simulcast)throw K.TracksErrors.InvalidVideoSettings("TRACK","Cannot enable simulcast when no video settings are provided");return new xh(this._video,this._audio,this._simulcast,this._screen||void 0)}},xh=class{constructor(e,t,r,n=null){this.video=e,this.audio=t,this.simulcast=r,this.screen=n}toAnalyticsProperties(){let e={audio_enabled:this.audio!==null,video_enabled:this.video!==null};return this.audio&&(e=Y(Y({},this.audio.toAnalyticsProperties()),e)),this.video&&(e=Y(Y({},this.video.toAnalyticsProperties()),e)),e}};function Dv(e,t){return function(r){return!MT(e[r],t[r])}}var ys=class Lh extends Dp{constructor(t,r,n,i,s=new ia().build()){super(t,r,n),this.eventBus=i,this.TAG="[HMSLocalAudioTrack]",this.isPublished=!1,this.handleVisibilityChange=()=>v(this,null,function*(){document.visibilityState==="visible"&&(yield this.replaceTrackWith(this.settings))}),this.replaceSenderTrack=()=>v(this,null,function*(){if(!this.transceiver||this.transceiver.direction!=="sendonly"){E.d(this.TAG,`transceiver for ${this.trackId} not available or not connected yet`);return}yield this.transceiver.sender.replaceTrack(this.processedTrack||this.nativeTrack)}),this.handleSettingsChange=o=>v(this,null,function*(){let a=this.stream,l=Dv(o,this.settings);l("maxBitrate")&&o.maxBitrate&&(yield a.setMaxBitrateAndFramerate(this)),l("advanced")&&(yield this.replaceTrackWith(o))}),this.handleDeviceChange=(o,a=!1)=>v(this,null,function*(){if(Dv(o,this.settings)("deviceId")){this.manuallySelectedDeviceId=a?this.manuallySelectedDeviceId:o.deviceId,E.d(this.TAG,"device change","manual selection:",this.manuallySelectedDeviceId,"new device:",o.deviceId),yield this.replaceTrackWith(o);let l=this.nativeTrack.getSettings().groupId;!a&&o.deviceId&&(bn.updateSelection("audioInput",{deviceId:o.deviceId,groupId:l}),this.eventBus.deviceChange.publish({isUserSelection:!0,type:"audioInput",selection:{deviceId:o.deviceId,groupId:l}}))}}),t.tracks.push(this),this.settings=s,s.deviceId!==r.getSettings().deviceId&&!vs(r)&&(this.settings=this.buildNewSettings({deviceId:r.getSettings().deviceId})),this.pluginsManager=new yM(this,i),this.setFirstTrackId(r.id),bv()&&Kt&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}getManuallySelectedDeviceId(){return this.manuallySelectedDeviceId}resetManuallySelectedDeviceId(){this.manuallySelectedDeviceId=void 0}replaceTrackWith(t){return v(this,null,function*(){let r=this.nativeTrack;r==null||r.stop();let n=!!this.audioLevelMonitor;try{let i=yield kM(t);i.enabled=this.enabled,E.d(this.TAG,"replaceTrack, Previous track stopped",r,"newTrack",i),yield this.stream.replaceStreamTrack(r,i),this.nativeTrack=i,yield this.replaceSenderTrack(),n&&this.initAudioLevelMonitor()}catch(i){throw this.isPublished&&this.eventBus.analytics.publish(Se.publish({error:i})),i}try{yield this.pluginsManager.reprocessPlugins()}catch(i){this.eventBus.audioPluginFailed.publish(i)}})}setEnabled(t){return v(this,null,function*(){t!==this.enabled&&(t&&vs(this.nativeTrack)&&(yield this.replaceTrackWith(this.settings)),yield gn(Lh.prototype,this,"setEnabled").call(this,t),t&&(this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId})),this.eventBus.localAudioEnabled.publish({enabled:t,track:this}))})}isPublishedTrackId(t){return this.publishedTrackId===t}setSettings(t,r=!1){return v(this,null,function*(){let n=this.buildNewSettings(t);if(vs(this.nativeTrack)){this.settings=n;return}yield this.handleDeviceChange(n,r),yield this.handleSettingsChange(n),this.settings=n})}getPlugins(){return this.pluginsManager.getPlugins()}addPlugin(t){return v(this,null,function*(){return this.pluginsManager.addPlugin(t)})}removePlugin(t){return v(this,null,function*(){return this.pluginsManager.removePlugin(t)})}validatePlugin(t){return this.pluginsManager.validatePlugin(t)}setProcessedTrack(t){return v(this,null,function*(){t?t!==this.processedTrack&&(this.processedTrack=t):this.processedTrack=void 0,yield this.replaceSenderTrack()})}initAudioLevelMonitor(){this.audioLevelMonitor&&this.destroyAudioLevelMonitor(),E.d(this.TAG,"Monitor Audio Level for",this,this.getMediaTrackSettings().deviceId),this.audioLevelMonitor=new wM(this,this.eventBus.trackAudioLevelUpdate,this.eventBus.localAudioSilence),this.audioLevelMonitor.start(),this.audioLevelMonitor.detectSilence()}destroyAudioLevelMonitor(){var t;(t=this.audioLevelMonitor)==null||t.stop(),this.audioLevelMonitor=void 0}cleanup(){return v(this,null,function*(){var t;gn(Lh.prototype,this,"cleanup").call(this),yield this.pluginsManager.cleanup(),yield this.pluginsManager.closeContext(),this.transceiver=void 0,(t=this.processedTrack)==null||t.stop(),this.isPublished=!1,this.destroyAudioLevelMonitor(),bv()&&Kt&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)})}getTrackIDBeingSent(){return this.processedTrack?this.processedTrack.id:this.nativeTrack.id}getTrackBeingSent(){return this.processedTrack||this.nativeTrack}buildNewSettings(t){let{volume:r,codec:n,maxBitrate:i,deviceId:s,advanced:o}=Y(Y({},this.settings),t);return new Lp(r,n,i,s,o)}},Ta=class Fk extends Dp{setEnabled(t){return v(this,null,function*(){t!==this.enabled&&(yield gn(Fk.prototype,this,"setEnabled").call(this,t),yield this.subscribeToAudio(t))})}},jk=class extends Op{constructor(e,t,r){if(super(e,t,r),this.type="video",this.sinkCount=0,this.reTriggerPlay=({videoElement:n,stream:i})=>{setTimeout(()=>{n.paused&&(n.srcObject=i,n.play().catch(console.error))},0)},t.kind!=="video")throw new Error("Expected 'track' kind = 'video'")}setVideoHandler(e){this.videoHandler=e}hasSinks(){return this.sinkCount>0}getSinks(){return this.videoHandler.getVideoElements()||[]}attach(e){this.videoHandler.addVideoElement(e)}detach(e){this.videoHandler.removeVideoElement(e)}addSink(e){this.addSinkInternal(e,this.nativeTrack)}removeSink(e){e.srcObject!==null&&(e.srcObject=null,this.reduceSinkCount())}cleanup(){super.cleanup(),this.videoHandler.cleanup()}addSinkInternal(e,t){let r=e.srcObject;if(r!==null&&r instanceof MediaStream){let i=r.getVideoTracks()[0];if((i==null?void 0:i.id)===t.id)if(!i.muted&&i.readyState==="live"){this.reTriggerPlay({videoElement:e,stream:r});return}else this.reduceSinkCount();else this.reduceSinkCount()}let n=new MediaStream([t]);e.srcObject=n,this.reTriggerPlay({videoElement:e,stream:n}),this.sinkCount++}reduceSinkCount(){this.sinkCount>0&&this.sinkCount--}},yu={none:-1,low:0,medium:1,high:2},MM=.5,NM=(e,t)=>{let r="high",n=t.width>t.height?"width":"height",i=[...e].sort((o,a)=>yu[o.layer]-yu[a.layer]),s=t[n]*((window==null?void 0:window.devicePixelRatio)||1);for(let o=0;o<i.length;o++){let{resolution:a,layer:l}=i[o],u=a[n];if(s<=u){r=l;break}else{let c=i[o+1],d=c?c.resolution[n]:Number.POSITIVE_INFINITY;if((s-u)/(d-u)<MM){r=l;break}}}return r},$M=class{constructor(){this.TAG="[HMSIntersectionObserverWrapper]",this.listeners=new WeakMap,this.observe=(e,t)=>{var r;this.createObserver(),this.unobserve(e),(r=this.intersectionObserver)==null||r.observe(e),this.listeners.set(e,t)},this.unobserve=e=>{var t;(t=this.intersectionObserver)==null||t.unobserve(e),this.listeners.delete(e)},this.createObserver=()=>{this.isSupported()&&!this.intersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.handleIntersection))},this.handleIntersection=e=>{var t;for(let r of e)(t=this.listeners.get(r.target))==null||t(r)},this.createObserver()}isSupported(){let e=Kt&&typeof window.IntersectionObserver<"u";return e||E.w(this.TAG,"IntersectionObserver is not supported, fallback will be used instead"),e}},FM=new $M,jM=class{constructor(){this.TAG="[HMSResizeObserverWrapper]",this.listeners=new WeakMap,this.observe=(e,t,r={box:"border-box"})=>{var n;this.createObserver(),this.unobserve(e),(n=this.resizeObserver)==null||n.observe(e,r),this.listeners.set(e,t)},this.unobserve=e=>{var t;(t=this.resizeObserver)==null||t.unobserve(e),this.listeners.delete(e)},this.createObserver=()=>{this.isSupported()&&!this.resizeObserver&&(this.resizeObserver=new ResizeObserver($k(this.handleResize,300)))},this.handleResize=e=>{var t;for(let r of e)(t=this.listeners.get(r.target))==null||t(r)},this.createObserver()}isSupported(){let e=Kt&&typeof window.ResizeObserver<"u";return e||E.w(this.TAG,"Resize Observer is not supported"),e}},UM=new jM,Uk=class{constructor(e){this.track=e,this.TAG="[VideoElementManager]",this.videoElements=new Set,this.entries=new WeakMap,this.resumeVideoPlayback=t=>{let r=t.target;!document.hidden&&na()&&r.paused&&this.track.addSink(r)},this.handleIntersection=t=>v(this,null,function*(){let r=getComputedStyle(t.target).visibility==="visible";this.track.enabled&&(t.isIntersecting&&r||!document.contains(t.target))?(E.d(this.TAG,"add sink intersection",`${this.track}`,this.id),this.entries.set(t.target,t.boundingClientRect),yield this.selectMaxLayer(),yield this.track.addSink(t.target)):(E.d(this.TAG,"remove sink intersection",`${this.track}`,this.id),yield this.track.removeSink(t.target))}),this.handleResize=t=>v(this,null,function*(){!this.track.enabled||!(this.track instanceof Er)||(this.entries.set(t.target,t.contentRect),yield this.selectMaxLayer())}),this.cleanup=()=>{this.videoElements.forEach(t=>{var r,n;t.srcObject=null,t.removeEventListener("pause",this.resumeVideoPlayback),(r=this.resizeObserver)==null||r.unobserve(t),(n=this.intersectionObserver)==null||n.unobserve(t)}),this.videoElements.clear(),this.resizeObserver=void 0,this.intersectionObserver=void 0},this.init(),this.id=si()}updateSinks(e=!1){for(let t of this.videoElements)this.track.enabled?this.track.addSink(t,e):this.track.removeSink(t,e)}addVideoElement(e){return v(this,null,function*(){var t;this.videoElements.has(e)||(this.init(),E.d(this.TAG,`Adding video element for ${this.track}`,this.id),this.videoElements.add(e),e.addEventListener("pause",this.resumeVideoPlayback),this.videoElements.size>=10&&E.w(this.TAG,`${this.track}`,`the track is added to ${this.videoElements.size} video elements, while this may be intentional, it's likely that there is a bug leading to unnecessary creation of video elements in the UI`),(t=this.intersectionObserver)!=null&&t.isSupported()?this.intersectionObserver.observe(e,this.handleIntersection):Kt&&(this.isElementInViewport(e)?this.track.addSink(e):this.track.removeSink(e)),this.resizeObserver?this.resizeObserver.observe(e,this.handleResize):this.track instanceof Er&&(yield this.track.setPreferredLayer(this.track.getPreferredLayer())))})}removeVideoElement(e){var t,r;this.track.removeSink(e),this.videoElements.delete(e),e.removeEventListener("pause",this.resumeVideoPlayback),this.entries.delete(e),(t=this.resizeObserver)==null||t.unobserve(e),(r=this.intersectionObserver)==null||r.unobserve(e),E.d(this.TAG,`Removing video element for ${this.track}`)}getVideoElements(){return Array.from(this.videoElements)}init(){Kt&&(this.resizeObserver=UM,this.intersectionObserver=FM)}isElementInViewport(e){let t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,i=e.offsetHeight,{hidden:s}=e,{opacity:o,display:a}=getComputedStyle(e);for(;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&r+n>window.pageXOffset&&!s&&(o!==""?parseFloat(o)>0:!0)&&a!=="none"}selectMaxLayer(){return v(this,null,function*(){if(!(this.track instanceof Er)||this.videoElements.size===0)return;let e;for(let t of this.videoElements){let r=this.entries.get(t);if(!r)continue;let{width:n,height:i}=r;if(n===0||i===0)continue;let s=NM(this.track.getSimulcastDefinitions(),{width:n,height:i});e?e=yu[s]>yu[e]?s:e:e=s}e&&(E.d(this.TAG,`selecting max layer ${e} for the track`,`${this.track}`),yield this.track.setPreferredLayer(e))})}},BM=(e=>(e.TRANSFORM="TRANSFORM",e.ANALYZE="ANALYZE",e))(BM||{}),zM=(e=>(e["2D"]="2d",e.WEBGL="webgl",e.WEBGL2="webgl2",e))(zM||{}),xv=class{constructor(){this.total=0,this.count=0}add(e){this.count++,this.total+=e}getAvg(){return Math.floor(this.total/this.count)}reset(){this.total=0,this.count=0}},Bk=class{constructor(e){this.eventBus=e,this.TAG="[VideoPluginsAnalytics]",this.initTime={},this.preProcessingAvgs=new xv,this.addedTimestamps={},this.processingAvgs={},this.pluginAdded={},this.pluginInputFrameRate={},this.pluginFrameRate={}}added(e,t,r){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0,this.processingAvgs[e]=new xv,t&&(this.pluginInputFrameRate[e]=t,this.pluginFrameRate[e]=r||t),this.eventBus.analytics.publish(gs.added(e,this.addedTimestamps[e]))}removed(e){var t;if(this.pluginAdded[e]){let r={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e],avgPreProcessingTime:this.preProcessingAvgs.getAvg(),avgProcessingTime:(t=this.processingAvgs[e])==null?void 0:t.getAvg(),inputFrameRate:this.pluginInputFrameRate[e],pluginFrameRate:this.pluginFrameRate[e]};this.eventBus.analytics.publish(gs.stats(r)),this.clean(e)}}failure(e,t){this.pluginAdded[e]&&(this.eventBus.analytics.publish(gs.failure(e,t)),this.clean(e))}initWithTime(e,t){return v(this,null,function*(){if(this.initTime[e]){E.i(this.TAG,`Plugin Already loaded ${e}, time it took: ${this.initTime[e]}`);return}let r;try{r=yield this.timeInMs(t),E.i(this.TAG,`Time taken for Plugin ${e} initialization : ${r}`)}catch(n){let i=K.MediaPluginErrors.InitFailed("VIDEO_PLUGINS",`failed during initialization of plugin${n.message||n}`);throw E.e(this.TAG,i),this.failure(e,i),i}r&&(this.initTime[e]=r)})}preProcessWithTime(e){return v(this,null,function*(){let t=yield this.timeInMs(e);this.preProcessingAvgs.add(t)})}processWithTime(e,t){return v(this,null,function*(){var r;let n;try{n=yield this.timeInMs(t)}catch(i){let s=K.MediaPluginErrors.ProcessingFailed("VIDEO_PLUGINS",`Failed during processing of plugin${i.message||i}`);throw E.e(this.TAG,s),this.failure(e,s),s}n&&((r=this.processingAvgs[e])==null||r.add(n))})}timeInMs(e){return v(this,null,function*(){let t=Date.now();return yield e(),Math.floor(Date.now()-t)})}clean(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.processingAvgs[e],delete this.pluginAdded[e],delete this.pluginInputFrameRate[e],delete this.pluginFrameRate[e]}},Lv=24,VM=320,GM=240,HM=class{constructor(e,t){this.TAG="[VideoPluginsManager]",this.pluginsLoopRunning=!1,this.pluginsLoopState="paused",this.pluginAddInProgress=!1,this.reusableWorker=bM(),this.hmsTrack=e,this.pluginsMap=new Map,this.pluginNumFramesToSkip={},this.pluginNumFramesSkipped={},this.analytics=new Bk(t),this.canvases=new Array}getPlugins(){return Array.from(this.pluginsMap.keys())}addPlugin(e,t){return v(this,null,function*(){var r;if(this.pluginAddInProgress){let n=(r=e.getName)==null?void 0:r.call(e);if(!n||n===""){E.w("no name provided by the plugin");return}let i=K.MediaPluginErrors.AddAlreadyInProgress("VIDEO_PLUGINS","Add Plugin is already in Progress");throw this.analytics.failure(n,i),E.w("can't add another plugin when previous add is in progress"),i}this.pluginAddInProgress=!0;try{yield this.addPluginInternal(e,t)}finally{this.pluginAddInProgress=!1}})}addPluginInternal(e,t){return v(this,null,function*(){var r,n;let i=(r=e.getName)==null?void 0:r.call(e);if(!i||i===""){E.w("no name provided by the plugin");return}if(this.pluginsMap.has(i)){E.w(this.TAG,`plugin - ${e.getName()} already added.`);return}let s=this.hmsTrack.getMediaTrackSettings().frameRate||Lv,o=0;t&&t>0?(E.i(this.TAG,`adding plugin ${e.getName()} with framerate ${t}`),t<s&&(o=Math.ceil(s/t)-1),this.analytics.added(i,s,t)):(E.i(this.TAG,`adding plugin ${e.getName()}`),this.analytics.added(i,s)),E.i(this.TAG,"numFrames to skip processing",o),this.pluginNumFramesToSkip[i]=o,this.pluginNumFramesSkipped[i]=o,this.validateAndThrow(i,e);try{if(yield this.analytics.initWithTime(i,()=>v(this,null,function*(){return yield e.init()})),this.pluginsMap.set(i,e),this.pluginsMap.size+1>this.canvases.length)for(let a=this.canvases.length;a<=this.pluginsMap.size;a++)this.canvases[a]=document.createElement("canvas");yield this.startPluginsLoop((n=e.getContextType)==null?void 0:n.call(e))}catch(a){throw E.e(this.TAG,"failed to add plugin",a),yield this.removePlugin(e),a}})}validatePlugin(e){return e.checkSupport()}validateAndThrow(e,t){let r=this.validatePlugin(t);if(r.isSupported)E.i(this.TAG,`plugin is supported,- ${t.getName()}`);else{let n;switch(r.errType){case"PLATFORM_NOT_SUPPORTED":throw n=K.MediaPluginErrors.PlatformNotSupported("VIDEO_PLUGINS","platform not supported, see docs"),this.analytics.failure(e,n),n;case"DEVICE_NOT_SUPPORTED":throw n=K.MediaPluginErrors.DeviceNotSupported("VIDEO_PLUGINS","video device not supported, see docs"),this.analytics.failure(e,n),n}}}removePlugin(e){return v(this,null,function*(){let t=e.getName();if(!this.pluginsMap.get(t)){E.w(this.TAG,`plugin - ${t} not found to remove.`);return}E.i(this.TAG,`removing plugin ${t}`),this.removePluginEntry(t),this.pluginsMap.size===0&&(E.i(this.TAG,"No plugins left, stopping plugins loop"),yield this.stopPluginsLoop()),e.stop(),this.analytics.removed(t)})}removePluginEntry(e){this.pluginsMap.delete(e),this.pluginNumFramesToSkip[e]&&delete this.pluginNumFramesToSkip[e],this.pluginNumFramesSkipped[e]&&delete this.pluginNumFramesSkipped[e]}waitForRestart(){return v(this,null,function*(){if(!(!this.pluginsLoopRunning||this.pluginsLoopState==="running"))for(;this.pluginsLoopState==="paused";)yield sc(100)})}cleanup(){return v(this,null,function*(){var e;for(let t of this.pluginsMap.values())yield this.removePlugin(t);(e=this.outputTrack)==null||e.stop()})}initElementsAndStream(e){this.inputCanvas||(this.inputCanvas=document.createElement("canvas")),this.outputCanvas=document.createElement("canvas"),this.inputVideo||(this.inputVideo=document.createElement("video")),this.inputCanvas.getContext("2d"),this.outputCanvas.getContext(e||"2d");let t=this.outputCanvas.captureStream();this.outputTrack=t.getVideoTracks()[0]}startPluginsLoop(e){return v(this,null,function*(){if(!this.pluginsLoopRunning){this.initElementsAndStream(e),this.pluginsLoopRunning=!0;try{yield this.hmsTrack.setProcessedTrack(this.outputTrack)}catch(t){throw this.pluginsLoopRunning=!1,E.e(this.TAG,"error in setting processed track",t),t}this.pluginsLoop().then(()=>{E.d(this.TAG,"processLoop stopped")})}})}stopPluginsLoop(){return v(this,null,function*(){var e;this.pluginsLoopRunning=!1,yield this.hmsTrack.setProcessedTrack(void 0),this.resetCanvases(),(e=this.outputTrack)==null||e.stop(),this.inputVideo&&(this.inputVideo.srcObject=null,this.inputVideo=void 0)})}pluginsLoop(){return v(this,null,function*(){for(;this.pluginsLoopRunning;){let e=this.hmsTrack.getMediaTrackSettings().frameRate||Lv,t=Math.floor(1e3/e);if(!this.hmsTrack.enabled||this.hmsTrack.nativeTrack.readyState==="ended"){this.pluginsLoopState==="running"&&this.resetCanvases(),this.pluginsLoopState="paused",yield this.reusableWorker.sleep(t);continue}let r=0;try{yield this.analytics.preProcessWithTime(()=>v(this,null,function*(){return yield this.doPreProcessing()}));let n=Date.now();yield this.processFramesThroughPlugins(),r=Math.floor(Date.now()-n),r>t&&(r=t)}catch(n){E.e(this.TAG,"error in plugins loop",n)}this.pluginsLoopState="running",yield this.reusableWorker.sleep(t-r)}})}doPreProcessing(){return v(this,null,function*(){yield this.addTrackToVideo(),yield this.updateInputCanvas()})}processFramesThroughPlugins(){return v(this,null,function*(){this.canvases[0]=this.inputCanvas;let e=0;for(let t of this.pluginsMap.values()){let r=t.getName();if(t){try{let n=this.checkIfSkipRequired(r);if(t.getPluginType()==="TRANSFORM"){let i=(s,o)=>v(this,null,function*(){try{yield t.processVideoFrame(s,o,n)}catch(a){E.e(this.TAG,`error in processing plugin ${r}`,a)}});if(n)e===this.pluginsMap.size-1?yield i(this.canvases[e],this.outputCanvas):yield i(this.canvases[e],this.canvases[e+1]);else{let s=this.canvases[e],o=this.canvases[e+1];e===this.pluginsMap.size-1?yield this.analytics.processWithTime(r,()=>v(this,null,function*(){return i(s,this.outputCanvas)})):yield this.analytics.processWithTime(r,()=>v(this,null,function*(){return i(s,o)}))}}else t.getPluginType()==="ANALYZE"&&!n&&(yield this.analytics.processWithTime(r,()=>v(this,null,function*(){return yield t.processVideoFrame(this.inputCanvas)})))}catch(n){E.e(this.TAG,`error in processing plugin ${r}`,n),yield this.removePlugin(t)}e++}}})}addTrackToVideo(){return v(this,null,function*(){var e;if(!this.inputVideo)return;let t=this.inputVideo.srcObject;t!==null&&t instanceof MediaStream&&((e=t.getVideoTracks()[0])==null?void 0:e.id)===this.hmsTrack.nativeTrack.id||(this.inputVideo.pause(),this.inputVideo.srcObject=new MediaStream([this.hmsTrack.nativeTrack]),this.inputVideo.muted=!0,this.inputVideo.playsInline=!0,yield this.inputVideo.play())})}updateInputCanvas(){return v(this,null,function*(){if(!this.inputCanvas||!this.inputVideo)return;let{width:e=VM,height:t=GM}=this.hmsTrack.getMediaTrackSettings();this.inputCanvas.height!==t&&(this.inputCanvas.height=t),this.inputCanvas.width!==e&&(this.inputCanvas.width=e),this.inputCanvas.getContext("2d").drawImage(this.inputVideo,0,0,e,t)})}resetCanvases(){if(!this.outputCanvas||!this.inputCanvas)return;let e=this.inputCanvas.getContext("2d");e&&(e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,this.outputCanvas.width,this.outputCanvas.height)),this.canvases=[]}checkIfSkipRequired(e){let t=!1;return this.pluginNumFramesSkipped[e]<this.pluginNumFramesToSkip[e]?(this.pluginNumFramesSkipped[e]++,t=!0):(t=!1,this.pluginNumFramesSkipped[e]=0),t}},WM=class{constructor(e){this.plugins=new Set,this.analytics=new Bk(e)}addPlugins(e){e.forEach(t=>this.plugins.add(t))}removePlugins(e){e.forEach(t=>{t.stop(),this.analytics.removed(t.getName()),this.plugins.delete(t)})}applyPlugins(e){let t=e;for(let r of this.plugins){let n=r.getName();try{t=r.apply(t),this.analytics.added(n)}catch(i){this.analytics.failure(n,i),E.e("Could not apply plugin",i,n)}}return t}getPlugins(){return Array.from(this.plugins).map(e=>e.getName())}},qM=["init_response_time","ws_connect_time","on_policy_change_time","local_audio_track_time","local_video_track_time","peer_list_time","room_state_time","join_response_time"],KM=class{constructor(){this.eventPerformanceMeasures={}}start(e){performance.mark(e)}end(e){var t;try{this.eventPerformanceMeasures[e]=performance.measure(e,e),E.d("[HMSPerformanceTiming]",e,(t=this.eventPerformanceMeasures[e])==null?void 0:t.duration)}catch(r){E.w("[AnalyticsTimer]",`Error in measuring performance for event ${e}`,{error:r})}}getTimeTaken(e){var t;return(t=this.eventPerformanceMeasures[e])==null?void 0:t.duration}getTimes(...e){return[...qM,...e].reduce((t,r)=>be(Y({},t),{[r]:this.getTimeTaken(r)}),{})}cleanup(){this.eventPerformanceMeasures={}}},ad={isAudioMuted:!1,isVideoMuted:!1,audioInputDeviceId:"default",audioOutputDeviceId:"default",videoDeviceId:"default"},an,rl,Su=class Mh{constructor(t,r,n,i,s){this.store=t,this.observer=r,this.deviceManager=n,this.eventBus=i,this.analyticsTimer=s,this.TAG="[LocalTrackManager]",this.setScreenCaptureHandleConfig()}getTracksToPublish(){return v(this,arguments,function*(t=ad){let r=this.getAVTrackSettings(t);if(!r)return[];let n=!!r.audio,i=!!r.video,s=[],{videoTrack:o,audioTrack:a}=yield this.updateCurrentLocalTrackSettings(r),l=(o==null?void 0:o.stream)||(a==null?void 0:a.stream),u=!!(o&&this.store.getTrackById(o.trackId)),c=!!(a&&this.store.getTrackById(a.trackId));if(u&&c)return[];let d={audio:n&&!a&&(t.isAudioMuted?"empty":!0),video:i&&!o&&(t.isVideoMuted?"empty":!0)};d.audio&&this.analyticsTimer.start("local_audio_track_time"),d.video&&this.analyticsTimer.start("local_video_track_time");try{E.d(this.TAG,"Init Local Tracks",{fetchTrackOptions:d}),s=yield this.getLocalTracks(d,r,l)}catch(h){s=yield this.retryGetLocalTracks(h,r,d,l)}return d.audio&&this.analyticsTimer.end("local_audio_track_time"),d.video&&this.analyticsTimer.end("local_video_track_time"),o&&i&&!u&&s.push(o),a&&n&&!c&&s.push(a),s})}getLocalTracks(){return v(this,arguments,function*(t={audio:!0,video:!0},r,n){try{let i=yield this.getNativeLocalTracks(t,r);return this.createHMSLocalTracks(i,r,n)}catch(i){throw this.eventBus.analytics.publish(Se.publish({devices:this.deviceManager.getDevices(),error:i,settings:r})),i}})}getNativeLocalTracks(){return v(this,arguments,function*(t={audio:!1,video:!1},r){let n=new xh(t.video===!0?r.video:null,t.audio===!0?r.audio:null,r.simulcast),i=[];return(n.audio||n.video)&&i.push(...yield this.getAVTracks(n)),i.push(...this.getEmptyTracks(t)),i})}optimizeScreenShareConstraint(t,r){return v(this,null,function*(){var n,i,s;if(typeof r.video=="boolean"||!((n=r.video)!=null&&n.width)||!((i=r.video)!=null&&i.height))return;let o=this.store.getPublishParams();if(!o||!((s=o.allowed)!=null&&s.includes("screen")))return;let a=document.createElement("video");a.srcObject=t,a.addEventListener("loadedmetadata",()=>v(this,null,function*(){let{videoWidth:l,videoHeight:u}=a,c=o.screen,d=c.width*c.height,h=l/u,f=c.width/c.height;if(h>f){let m=r.video,p=h/f,k=Math.sqrt(p);l*u>d?(m.width=l/k,m.height=u/k):(m.height=u*k,m.width=l*k),yield t.getVideoTracks()[0].applyConstraints(m)}}))})}getLocalScreen(t,r=!1){return v(this,null,function*(){var n;let i=yield this.getOrDefaultScreenshareConfig(t),s=this.getScreenshareSettings(i.videoOnly),o={video:be(Y({},s==null?void 0:s.video.toConstraints(!0)),{displaySurface:i.displaySurface}),preferCurrentTab:i.preferCurrentTab,selfBrowserSurface:i.selfBrowserSurface,surfaceSwitching:i.surfaceSwitching,systemAudio:i.systemAudio};if(s!=null&&s.audio){let f=(n=s==null?void 0:s.audio)==null?void 0:n.toConstraints();delete f.advanced,o.audio=be(Y({},f),{autoGainControl:!1,noiseSuppression:!1,googAutoGainControl:!1,echoCancellation:!1})}let a;try{E.d("retrieving screenshare with ",{config:i},{constraints:o}),a=yield navigator.mediaDevices.getDisplayMedia(o),r&&(yield this.optimizeScreenShareConstraint(a,o))}catch(f){E.w(this.TAG,"error in getting screenshare - ",f);let m=vu(f,"screen");throw this.eventBus.analytics.publish(Se.publish({error:m,devices:this.deviceManager.getDevices(),settings:new xh(s==null?void 0:s.video,s==null?void 0:s.audio,!1)})),m}let l=[],u=new $h(a),c=a.getVideoTracks()[0],d=new Fr(u,c,"screen",this.eventBus,s==null?void 0:s.video);d.setSimulcastDefinitons(this.store.getSimulcastDefinitionsForPeer(this.store.getLocalPeer(),"screen"));try{let f=this.validateCurrentTabCapture(d,i.forceCurrentTab);d.isCurrentTab=f,yield d.cropTo(i.cropTarget)}catch(f){throw a.getTracks().forEach(m=>m.stop()),f}l.push(d);let h=a.getAudioTracks()[0];if(h){let f=new ys(u,h,"screen",this.eventBus,s==null?void 0:s.audio);l.push(f)}return E.v(this.TAG,"getLocalScreen",l),l})}setScreenCaptureHandleConfig(t){var r;!((r=navigator.mediaDevices)!=null&&r.setCaptureHandleConfig)||this.isInIframe()||(t=t||{},Object.assign(t,{handle:si(),exposeOrigin:!1,permittedOrigins:[window.location.origin]}),E.d("setting capture handle - ",t.handle),navigator.mediaDevices.setCaptureHandleConfig(t),this.captureHandleIdentifier=t.handle)}validateCurrentTabCapture(t,r){let n=t.getCaptureHandle(),i=!!(this.captureHandleIdentifier&&(n==null?void 0:n.handle)===this.captureHandleIdentifier);if(r&&!i)throw E.e(this.TAG,"current tab was not shared with forceCurrentTab as true"),K.TracksErrors.CurrentTabNotShared();return i}requestPermissions(){return v(this,null,function*(){try{(yield navigator.mediaDevices.getUserMedia({audio:!0,video:!0})).getTracks().forEach(t=>t.stop())}catch(t){E.e(this.TAG,t)}})}static getEmptyVideoTrack(t){var r,n,i;let s=((r=t==null?void 0:t.getSettings())==null?void 0:r.width)||320,o=((n=t==null?void 0:t.getSettings())==null?void 0:n.height)||240,a=1;an||(an=document.createElement("canvas"),an.width=s,an.height=o,(i=an.getContext("2d"))==null||i.fillRect(0,0,s,o)),rl||(rl=setInterval(()=>{let u=an==null?void 0:an.getContext("2d");u&&u.fillRect(0,0,1,1)},1e3/a));let l=an.captureStream(a).getVideoTracks()[0];return l.enabled=!1,l}static getEmptyAudioTrack(){let t=ic.getAudioContext(),r=t.createOscillator(),n=t.createMediaStreamDestination();r.connect(n),r.start();let i=n.stream.getAudioTracks()[0];return i.enabled=!1,i}static cleanup(){clearInterval(rl),rl=void 0,an=void 0}getAVTracks(t){return v(this,null,function*(){try{let r=yield navigator.mediaDevices.getUserMedia({audio:t.audio?t.audio.toConstraints():!1,video:t.video?t.video.toConstraints():!1});return r.getVideoTracks().concat(r.getAudioTracks())}catch(r){yield this.deviceManager.init();let n=!!(!this.deviceManager.hasWebcamPermission&&t.video),i=!!(!this.deviceManager.hasMicrophonePermission&&t.audio),s=this.getErrorType(n,i);throw vu(r,s)}})}getAVTrackSettings(t){let r=this.getAudioSettings(t),n=this.getVideoSettings(t);return!r&&!n?null:new Ov().video(n).audio(r).build()}isInIframe(){try{return window.self!==window.top}catch{return!0}}retryGetLocalTracks(t,r,n,i){return v(this,null,function*(){if(t instanceof ae&&t.action==="TRACK"){this.observer.onFailure(t);let s=t.code===ue.TracksErrors.OVER_CONSTRAINED,o=t.message.includes("audio"),a=t.message.includes("video");if(s){let l=new Ov().video(new Mp).audio(new Lp).build();E.w(this.TAG,"Fetch AV Tracks failed with overconstrained error",{fetchTrackOptions:n},{error:t});try{return yield this.getLocalTracks(n,l,i)}catch(u){let c=u instanceof ae?u.nativeError:u,d=u;if((c==null?void 0:c.name)==="OverconstrainedError"){let h=K.TracksErrors.GenericTrack("TRACK","Overconstrained error after dropping all constraints");h.addNativeError(c),d=h}return yield this.retryGetLocalTracks(d,r,n,i)}}n.audio=o?"empty":n.audio,n.video=a?"empty":n.video,E.w(this.TAG,"Fetch AV Tracks failed",{fetchTrackOptions:n},t);try{return yield this.getLocalTracks(n,r,i)}catch(l){return E.w(this.TAG,"Fetch empty tacks failed",l),n.audio=n.audio&&"empty",n.video=n.video&&"empty",this.observer.onFailure(l),yield this.getLocalTracks(n,r,i)}}else return E.w(this.TAG,"Fetch AV Tracks failed - unknown exception",t),this.observer.onFailure(t),[]})}getErrorType(t,r){return t&&r?"audio, video":t?"video":r?"audio":"unknown(video or audio)"}getEmptyTracks(t){let r=[];return t.audio==="empty"&&r.push(Mh.getEmptyAudioTrack()),t.video==="empty"&&r.push(Mh.getEmptyVideoTrack()),r}updateCurrentLocalTrackSettings(t){return v(this,null,function*(){let r=this.store.getLocalPeerTracks(),n=r.find(a=>a.type==="video"&&a.source==="regular"),i=r.find(a=>a.type==="audio"&&a.source==="regular"),s=r.find(a=>a.type==="video"&&a.source==="screen");t!=null&&t.video&&(yield n==null?void 0:n.setSettings(t.video)),t!=null&&t.audio&&(yield i==null?void 0:i.setSettings(t.audio));let o=this.getScreenshareSettings(!0);return o!=null&&o.video&&(yield s==null?void 0:s.setSettings(o==null?void 0:o.video)),{videoTrack:n,audioTrack:i}})}getAudioSettings(t){var r;let n=this.store.getPublishParams();if(!n||!((r=n.allowed)!=null&&r.includes("audio")))return null;let i=this.store.getLocalPeer(),s=i==null?void 0:i.audioTrack,o=(s==null?void 0:s.settings.deviceId)||t.audioInputDeviceId;return new ia().codec(n.audio.codec).maxBitrate(n.audio.bitRate).deviceId(o||ad.audioInputDeviceId).build()}getVideoSettings(t){var r;let n=this.store.getPublishParams();if(!n||!((r=n.allowed)!=null&&r.includes("video")))return null;let i=this.store.getLocalPeer(),s=i==null?void 0:i.videoTrack,o=(s==null?void 0:s.settings.deviceId)||t.videoDeviceId,a=n.video;return new Os().codec(a.codec).maxBitrate(a.bitRate).maxFramerate(a.frameRate).setWidth(a.width).setHeight(a.height).deviceId(o||ad.videoDeviceId).build()}getScreenshareSettings(t=!1){var r;let n=this.store.getPublishParams();if(!n||!((r=n.allowed)!=null&&r.includes("screen")))return null;let i=n.screen;return{video:new Os().maxBitrate(i.bitRate,!1).codec(i.codec).maxFramerate(i.frameRate).setWidth(i.width).setHeight(i.height).build(),audio:t?void 0:new ia().build()}}getOrDefaultScreenshareConfig(t){return v(this,null,function*(){var r;let n=Object.assign({videoOnly:!1,audioOnly:!1,forceCurrentTab:!1,preferCurrentTab:!1,selfBrowserSurface:"exclude",surfaceSwitching:"include",systemAudio:"exclude",displaySurface:"monitor"},t||{});return n.forceCurrentTab&&(n.videoOnly=!0,n.preferCurrentTab=!0,n.selfBrowserSurface="include",n.surfaceSwitching="exclude"),n.preferCurrentTab&&(n.selfBrowserSurface="include",n.displaySurface=void 0),n.cropElement&&(r=window.CropTarget)!=null&&r.fromElement&&(n.cropTarget=yield window.CropTarget.fromElement(n.cropElement)),n})}createHMSLocalTracks(t,r,n){let i=t.find(a=>a.kind==="video"),s=t.find(a=>a.kind==="audio");n?t.forEach(a=>n==null?void 0:n.nativeStream.addTrack(a)):n=new $h(new MediaStream(t));let o=[];if(s&&r!=null&&r.audio){let a=new ys(n,s,"regular",this.eventBus,r.audio);o.push(a)}if(i&&r!=null&&r.video){let a=new Fr(n,i,"regular",this.eventBus,r.video);a.setSimulcastDefinitons(this.store.getSimulcastDefinitionsForPeer(this.store.getLocalPeer(),"regular")),o.push(a)}return o}};function Mv(e,t){return function(r){return!MT(e[r],t[r])}}var Fr=class Nh extends jk{constructor(t,r,n,i,s=new Os().build()){super(t,r,n),this.eventBus=i,this._layerDefinitions=[],this.TAG="[HMSLocalVideoTrack]",this.enabledStateBeforeBackground=!1,this.isCurrentTab=!1,this.isPublished=!1,this.replaceSenderTrack=o=>v(this,null,function*(){if(!this.transceiver||this.transceiver.direction!=="sendonly"){E.d(this.TAG,`transceiver for ${this.trackId} not available or not connected yet`);return}yield this.transceiver.sender.replaceTrack(o)}),this.buildNewSettings=o=>{let{width:a,height:l,codec:u,maxFramerate:c,maxBitrate:d,deviceId:h,advanced:f,facingMode:m}=Y(Y({},this.settings),o);return new Mp(a,l,u,c,h,f,d,m)},this.handleSettingsChange=o=>v(this,null,function*(){let a=this.stream,l=Mv(o,this.settings);if(l("maxBitrate")&&o.maxBitrate&&(yield a.setMaxBitrateAndFramerate(this)),l("width")||l("height")||l("advanced"))if(this.source==="video"){let u=yield this.replaceTrackWith(o);yield this.replaceSender(u,this.enabled),this.nativeTrack=u,yield this.processPlugins(),this.videoHandler.updateSinks()}else yield this.nativeTrack.applyConstraints(o.toConstraints())}),this.handleDeviceChange=(o,a=!1)=>v(this,null,function*(){if(Mv(o,this.settings)("deviceId")&&this.source==="regular"){if(this.enabled){delete o.facingMode;let u=yield this.replaceTrackWith(o);yield this.replaceSender(u,this.enabled),this.nativeTrack=u,yield this.processPlugins(),this.videoHandler.updateSinks()}let l=this.nativeTrack.getSettings().groupId;!a&&o.deviceId&&(bn.updateSelection("videoInput",{deviceId:o.deviceId,groupId:l}),this.eventBus.deviceChange.publish({isUserSelection:!0,type:"video",selection:{deviceId:o.deviceId,groupId:l}}))}}),this.removeOrReplaceProcessedTrack=o=>v(this,null,function*(){o?o!==this.processedTrack&&(this.processedTrack=o):this.processedTrack=void 0,yield this.replaceSenderTrack(this.processedTrack||this.nativeTrack)}),this.handleVisibilityChange=()=>v(this,null,function*(){document.visibilityState==="hidden"&&this.source==="regular"?(this.enabledStateBeforeBackground=this.enabled,this.nativeTrack.enabled=!1,this.replaceSenderTrack(this.nativeTrack)):(this.nativeTrack.enabled=this.enabledStateBeforeBackground,this.replaceSenderTrack(this.processedTrack||this.nativeTrack)),this.eventBus.localVideoEnabled.publish({enabled:this.nativeTrack.enabled,track:this})}),t.tracks.push(this),this.setVideoHandler(new Uk(this)),this.settings=s,s.deviceId!==r.getSettings().deviceId&&r.enabled&&(this.settings=this.buildNewSettings({deviceId:r.getSettings().deviceId})),this.pluginsManager=new HM(this,i),this.mediaStreamPluginsManager=new WM(i),this.setFirstTrackId(this.trackId),Kt&&na()&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}setSimulcastDefinitons(t){this._layerDefinitions=t}getSimulcastDefinitions(){return this._layerDefinitions}setEnabled(t){return v(this,null,function*(){var r;if(t!==this.enabled){if(this.source==="regular"){let n;t?n=yield this.replaceTrackWith(this.settings):n=yield this.replaceTrackWithBlank(),yield this.replaceSender(n,t),(r=this.nativeTrack)==null||r.stop(),this.nativeTrack=n,yield gn(Nh.prototype,this,"setEnabled").call(this,t),t&&(yield this.pluginsManager.waitForRestart(),yield this.processPlugins(),this.settings=this.buildNewSettings({deviceId:n.getSettings().deviceId})),this.videoHandler.updateSinks()}this.eventBus.localVideoEnabled.publish({enabled:t,track:this})}})}processPlugins(){return v(this,null,function*(){try{if(this.pluginsManager.getPlugins().length>0)return;if(this.mediaStreamPluginsManager.getPlugins().length>0){let t=this.mediaStreamPluginsManager.applyPlugins(new MediaStream([this.nativeTrack])).getVideoTracks()[0];yield this.setProcessedTrack(t)}else yield this.setProcessedTrack()}catch(t){console.error("error in processing plugin(s)",t)}})}addStreamPlugins(t){return v(this,null,function*(){if(this.pluginsManager.getPlugins().length>0)throw Error("Plugins of type HMSMediaStreamPlugin and HMSVideoPlugin cannot be used together");this.mediaStreamPluginsManager.addPlugins(t),yield this.processPlugins()})}removeStreamPlugins(t){return v(this,null,function*(){this.mediaStreamPluginsManager.removePlugins(t),yield this.processPlugins()})}isPublishedTrackId(t){return this.publishedTrackId===t}addSink(t){this.addSinkInternal(t,this.processedTrack||this.nativeTrack)}setSettings(t,r=!1){return v(this,null,function*(){let n=this.buildNewSettings(t);if(yield this.handleDeviceChange(n,r),!this.enabled||vs(this.nativeTrack)){this.settings=n;return}else yield this.pluginsManager.waitForRestart();yield this.handleSettingsChange(n),this.settings=n})}getPlugins(){return this.mediaStreamPluginsManager.getPlugins().length>0?this.mediaStreamPluginsManager.getPlugins():this.pluginsManager.getPlugins()}addPlugin(t,r){return v(this,null,function*(){if(this.mediaStreamPluginsManager.getPlugins().length>0)throw Error("Plugins of type HMSVideoPlugin and HMSMediaStreamPlugin cannot be used together");return this.pluginsManager.addPlugin(t,r)})}removePlugin(t){return v(this,null,function*(){return this.pluginsManager.removePlugin(t)})}validatePlugin(t){return this.pluginsManager.validatePlugin(t)}cleanup(){return v(this,null,function*(){var t;gn(Nh.prototype,this,"cleanup").call(this),this.transceiver=void 0,yield this.pluginsManager.cleanup(),(t=this.processedTrack)==null||t.stop(),this.isPublished=!1,Kt&&na()&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)})}cropTo(t){return v(this,null,function*(){if(t&&this.source==="screen")try{this.nativeTrack.cropTo&&(yield this.nativeTrack.cropTo(t))}catch(r){throw E.e(this.TAG,"failed to crop screenshare capture - ",r),K.TracksErrors.GenericTrack("TRACK","failed to crop screenshare capture")}})}getCaptureHandle(){if(this.nativeTrack.getCaptureHandle)return this.nativeTrack.getCaptureHandle()}setProcessedTrack(t){return v(this,null,function*(){if(!this.nativeTrack.enabled){this.processedTrack=t;return}yield this.removeOrReplaceProcessedTrack(t),this.videoHandler.updateSinks()})}getTrackIDBeingSent(){return this.getTrackBeingSent().id}getTrackBeingSent(){return this.enabled?this.processedTrack||this.nativeTrack:this.nativeTrack}switchCamera(){return v(this,null,function*(){var t;let r=this.getMediaTrackSettings().facingMode;if(!r||this.source!=="regular"){E.d(this.TAG,"facingMode not supported");return}let n=r==="environment"?"user":"environment";(t=this.nativeTrack)==null||t.stop();let i=yield this.replaceTrackWith(this.buildNewSettings({facingMode:n,deviceId:void 0}));yield this.replaceSender(i,this.enabled),this.nativeTrack=i,yield this.processPlugins(),this.videoHandler.updateSinks(),this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId,facingMode:n}),bn.updateSelection("videoInput",{deviceId:this.settings.deviceId,groupId:this.nativeTrack.getSettings().groupId})})}replaceTrackWith(t){return v(this,null,function*(){let r=this.nativeTrack;r==null||r.stop();try{let n=yield EM(t);return E.d(this.TAG,"replaceTrack, Previous track stopped",r,"newTrack",n),this.settings.deviceId==="default"&&(this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId})),n}catch(n){throw this.isPublished&&this.eventBus.analytics.publish(Se.publish({error:n})),n}})}replaceTrackWithBlank(){return v(this,null,function*(){let t=this.nativeTrack,r=Su.getEmptyVideoTrack(t);return t==null||t.stop(),E.d(this.TAG,"replaceTrackWithBlank, Previous track stopped",t,"newTrack",r),r})}replaceSender(t,r){return v(this,null,function*(){r?yield this.replaceSenderTrack(this.processedTrack||t):yield this.replaceSenderTrack(t),this.stream.replaceStreamTrack(this.nativeTrack,t)})}},lo="renegotiation-callback-id",zk="ion-sfu",uo="SUBSCRIBE_ICE_CONNECTION_CALLBACK_ID",QM="https://event.100ms.live/v2/client/report",YM="https://event-nonprod.100ms.live/v2/client/report",Tu=Math.pow(2,31)-1,mt={DEVICE_CHANGE:"device-change",LOCAL_AUDIO_ENABLED:"local-audio-enabled",LOCAL_VIDEO_ENABLED:"local-video-enabled",STATS_UPDATE:"stats-update",RTC_STATS_UPDATE:"rtc-stats-update",TRACK_DEGRADED:"track-degraded",TRACK_RESTORED:"track-restored",TRACK_AUDIO_LEVEL_UPDATE:"track-audio-level-update",LOCAL_AUDIO_SILENCE:"local-audio-silence",ANALYTICS:"analytics",AUDIO_PLUGIN_FAILED:"audio-plugin-failed",POLICY_CHANGE:"policy-change",LOCAL_ROLE_UPDATE:"local-role-update",AUDIO_TRACK_UPDATE:"audio-track-update",AUDIO_TRACK_ADDED:"audio-track-added",AUDIO_TRACK_REMOVED:"audio-track-removed",AUTOPLAY_ERROR:"autoplay-error",LEAVE:"leave"},JM="2.5",XM="20240521",os="_handraise",Nv=1e3,$v=64,ZM="https://whiteboard.100ms.live",eN="https://whiteboard-qa.100ms.live",Er=class Rl extends jk{constructor(t,r,n){super(t,r,n),this._degraded=!1,this._degradedAt=null,this._layerDefinitions=[],this.history=new tN,this.preferredLayer="high",this.setVideoHandler(new Uk(this))}setTrackId(t){this.bizTrackId=t}get trackId(){return this.bizTrackId||super.trackId}get degraded(){return this._degraded}get degradedAt(){return this._degradedAt}setEnabled(t){return v(this,null,function*(){t!==this.enabled&&(gn(Rl.prototype,this,"setEnabled").call(this,t),this.videoHandler.updateSinks(!0))})}setPreferredLayer(t){return v(this,null,function*(){if(t==="none"){E.w("layer none will be ignored");return}if(this.preferredLayer=t,!!this.shouldSendVideoLayer(t,"preferLayer")){if(!this.hasSinks()){E.d(`[Remote Track] ${this.logIdentifier}
        streamId=${this.stream.id} 
        trackId=${this.trackId}
        saving ${t}, source=${this.source}
        Track does not have any sink`);return}yield this.requestLayer(t,"preferLayer"),this.pushInHistory(`uiPreferLayer-${t}`)}})}getSimulcastLayer(){return this.stream.getSimulcastLayer()}getLayer(){return this.stream.getVideoLayer()}getPreferredLayer(){return this.preferredLayer}getPreferredLayerDefinition(){return this._layerDefinitions.find(t=>t.layer===this.preferredLayer)}replaceTrack(t){this.nativeTrack=t.nativeTrack,t.transceiver&&(this.transceiver=t.transceiver,this.stream.updateId(t.stream.id)),this.videoHandler.updateSinks()}addSink(t,r=!0){return v(this,null,function*(){vs(this.nativeTrack)?yield this.requestLayer(this.preferredLayer,"addSink"):(gn(Rl.prototype,this,"addSink").call(this,t),r&&(yield this.updateLayer("addSink"))),this.pushInHistory("uiSetLayer-high")})}removeSink(t,r=!0){return v(this,null,function*(){gn(Rl.prototype,this,"removeSink").call(this,t),r&&(yield this.updateLayer("removeSink")),this._degraded=!1,this.pushInHistory("uiSetLayer-none")})}getSimulcastDefinitions(){return[...this._layerDefinitions]}setSimulcastDefinitons(t){this._layerDefinitions=t}setLayerFromServer(t){this._degraded=this.enabled&&(t.publisher_degraded||t.subscriber_degraded)&&t.current_layer==="none",this._degradedAt=this._degraded?new Date:this._degradedAt;let r=t.current_layer;return E.d(`[Remote Track] ${this.logIdentifier} 
      streamId=${this.stream.id} 
      trackId=${this.trackId}
      layer update from sfu
      currLayer=${t.current_layer}
      preferredLayer=${t.expected_layer}
      sub_degraded=${t.subscriber_degraded}
      pub_degraded=${t.publisher_degraded}
      isDegraded=${this._degraded}`),this.stream.setVideoLayerLocally(r,this.logIdentifier,"setLayerFromServer"),this.pushInHistory(`sfuLayerUpdate-${r}`),this._degraded}updateLayer(t){return v(this,null,function*(){let r=this.degraded||!this.enabled||!this.hasSinks()?"none":this.preferredLayer;this.shouldSendVideoLayer(r,t)&&(yield this.requestLayer(r,t))})}pushInHistory(t){}requestLayer(t,r){return v(this,null,function*(){try{let n=yield this.stream.setVideoLayer(t,this.trackId,this.logIdentifier,r);return E.d(`[Remote Track] ${this.logIdentifier} 
      streamId=${this.stream.id}
      trackId=${this.trackId}
      Requested layer ${t}, source=${r}`),n}catch(n){throw E.d(`[Remote Track] ${this.logIdentifier} 
      streamId=${this.stream.id}
      trackId=${this.trackId}
      Failed to set layer ${t}, source=${r}
      error=${n.message}`),n}})}shouldSendVideoLayer(t,r){let n=this.getLayer();return this.degraded&&t==="none"?!0:n===t?(E.d(`[Remote Track] ${this.logIdentifier}`,`Not sending update, already on layer ${t}, source=${r}`),!1):!0}},tN=class{constructor(){this.history=[]}push(e){e.time=new Date().toISOString().split("T")[1],this.history.push(e)}},$h=class extends Dk{constructor(){super(...arguments),this.TAG="[HMSLocalStream]",this.connection=null}setConnection(e){this.connection=e}addTransceiver(e,t){let r=this.connection.addTransceiver(e.getTrackBeingSent(),{streams:[this.nativeStream],direction:"sendonly",sendEncodings:this.getTrackEncodings(e,t)});return this.setPreferredCodec(r,e.nativeTrack.kind),e.transceiver=r,r}setMaxBitrateAndFramerate(e){return v(this,null,function*(){var t;yield(t=this.connection)==null?void 0:t.setMaxBitrateAndFramerate(e)})}setPreferredCodec(e,t){}replaceStreamTrack(e,t){this.nativeStream.addTrack(t),this.nativeStream.removeTrack(e)}removeSender(e){var t,r;if(!this.connection||this.connection.connectionState==="closed"){E.d(this.TAG,"publish connection is not initialised or closed");return}let n=(t=e.transceiver)==null?void 0:t.sender;if(!n){E.w(this.TAG,`No sender found for trackId=${e.trackId}`);return}(r=this.connection)==null||r.removeTrack(n);let i=this.tracks.indexOf(e);i!==-1?this.tracks.splice(i,1):E.w(this.TAG,`Cannot find ${e.trackId} in locally stored tracks`)}getTrackEncodings(e,t){let r=[];if(e instanceof Fr)if(t.length>0)E.d(this.TAG,"Simulcast enabled with layers",t),r.push(...t);else{let n={active:this.nativeStream.active};e.settings.maxBitrate&&!Ip&&(n.maxBitrate=e.settings.maxBitrate),r.push(n)}return r}},Np=class extends Dk{constructor(e,t){super(e),this.audio=!0,this.video="none",this.connection=t}setAudio(e,t,r){return v(this,null,function*(){this.audio!==e&&(this.audio=e,E.d(`[Remote stream] ${r||""} 
    streamId=${this.id}
    trackId=${t}
    subscribing audio - ${this.audio}`),yield this.connection.sendOverApiDataChannelWithResponse({params:{subscribed:this.audio,track_id:t},method:"prefer-audio-track-state"}))})}setVideoLayerLocally(e,t,r){this.video=e,E.d(`[Remote stream] ${t}
    streamId=${this.id}
    source: ${r}
    Setting layer field to=${e}`)}setVideoLayer(e,t,r,n){return E.d(`[Remote stream] ${r} 
      streamId=${this.id}
      trackId=${t} 
      source: ${n} request ${e} layer`),this.setVideoLayerLocally(e,r,n),this.connection.sendOverApiDataChannelWithResponse({params:{max_spatial_layer:this.video,track_id:t},method:"prefer-video-track-state"})}getSimulcastLayer(){return this.video}getVideoLayer(){return this.video}isAudioSubscribed(){return this.audio}},rN=(e,t,r,n)=>v(void 0,null,function*(){var i;let s,o={};if((i=t.transceiver)!=null&&i.sender.track){try{s=yield t.transceiver.sender.getStats();let a={},l={},u={};s==null||s.forEach(c=>{switch(c.type){case"outbound-rtp":l[c.id]=c;break;case"remote-inbound-rtp":u[c.ssrc]=c;break;case"codec":a[c.id]=c.mimeType;break;default:break}}),Object.keys(Y({},l)).forEach(c=>{var d,h;let f=(d=l[c])==null?void 0:d.codecId,m=f?a[f]:void 0,p;m&&(p=m.substring(m.indexOf("/")+1));let k=be(Y({},l[c]),{rid:(h=l[c])==null?void 0:h.rid}),T=u[k.ssrc];o[c]=be(Y({},k),{bitrate:$p("bytesSent",k,n==null?void 0:n[c]),packetsLost:T==null?void 0:T.packetsLost,jitter:T==null?void 0:T.jitter,roundTripTime:T==null?void 0:T.roundTripTime,totalRoundTripTime:T==null?void 0:T.totalRoundTripTime,peerName:r,peerID:t.peerId,enabled:t.enabled,codec:p})})}catch(a){e.analytics.publish(Se.rtcStatsFailed(K.WebrtcErrors.StatsFailed("TRACK",`Error getting local track stats ${t.trackId} - ${a.message}`))),E.w("[HMSWebrtcStats]","Error in getting local track stats",t,a,a.name)}return o}}),nN=(e,t,r,n)=>v(void 0,null,function*(){var i;let s;try{s=yield(i=t.transceiver)==null?void 0:i.receiver.getStats()}catch(u){e.analytics.publish(Se.rtcStatsFailed(K.WebrtcErrors.StatsFailed("TRACK",`Error getting remote track stats ${t.trackId} - ${u.message}`))),E.w("[HMSWebrtcStats]","Error in getting remote track stats",t,u)}let o=iN(s),a=$p("bytesReceived",o,n),l=Fh("packetsLost",o,n);return o!=null&&o.remote&&Object.assign(o.remote,{packetsLostRate:Fh("packetsLost",o.remote,n==null?void 0:n.remote)}),o&&be(Y({},o),{bitrate:a,packetsLostRate:l,peerID:t.peerId,enabled:t.enabled,peerName:r,codec:o.codec})}),iN=e=>{let t,r,n={};e==null||e.forEach(o=>{switch(o.type){case"inbound-rtp":t=o;break;case"outbound-rtp":t=o;break;case"remote-inbound-rtp":r=o;break;case"codec":n[o.id]=o.mimeType;break}});let i=t!=null&&t.codecId?n[t.codecId]:void 0,s;return i&&(s=i.substring(i.indexOf("/")+1)),t&&Object.assign(t,{remote:r,codec:s})},Fv=(e,t,r)=>{let n=sN(t),i=$p(e==="publish"?"bytesSent":"bytesReceived",n,r&&r[e]);return n&&Object.assign(n,{bitrate:i})},sN=e=>{let t;return e==null||e.forEach(r=>{r.type==="transport"&&(t=e==null?void 0:e.get(r.selectedCandidatePairId))}),t||e==null||e.forEach(r=>{r.type==="candidate-pair"&&r.selected&&(t=r)}),t},oN=e=>{let t={packetsLost:0,jitter:0};return e==null||e.forEach(r=>{r.packetsLost&&(t.packetsLost+=r.packetsLost),r.jitter>t.jitter&&(t.jitter=r.jitter)}),t},aN=(e,t)=>Array.from(new Set(e.concat(t))),$p=(e,t,r)=>Fh(e,t,r)*8,Fh=(e,t,r)=>{let n=t&&t[e],i=r?r[e]:null;return[t,r,Zn(n),Zn(i)].every(s=>!!s)?Vk(n,i,t==null?void 0:t.timestamp,r==null?void 0:r.timestamp)*1e3:0},Vk=(e,t,r,n)=>Zn(e)&&Zn(t)&&r&&n?(e-t)/(r-n):0,lN=class{constructor(e,t,r){this.getStats=e,this.store=t,this.eventBus=r,this.TAG="[HMSWebrtcStats]",this.peerStats={},this.remoteTrackStats={},this.localTrackStats={},this.getLocalPeerStats=()=>this.peerStats[this.localPeerID],this.getRemoteTrackStats=i=>this.remoteTrackStats[i],this.getAllRemoteTracksStats=()=>this.remoteTrackStats,this.getLocalTrackStats=()=>this.localTrackStats,this.updateStats=()=>v(this,null,function*(){yield this.updateLocalPeerStats(),yield this.updateLocalTrackStats(),yield this.updateRemoteTrackStats()}),this.updateLocalPeerStats=()=>v(this,null,function*(){var i,s,o,a,l,u;let c=this.getLocalPeerStats(),d;try{d=yield(s=(i=this.getStats).publish)==null?void 0:s.call(i)}catch(S){this.eventBus.analytics.publish(Se.rtcStatsFailed(K.WebrtcErrors.StatsFailed("PUBLISH",S.message))),E.w(this.TAG,"Error in getting publish stats",S)}let h=d&&Fv("publish",d,c),f;try{f=yield(a=(o=this.getStats).subscribe)==null?void 0:a.call(o)}catch(S){this.eventBus.analytics.publish(Se.rtcStatsFailed(K.WebrtcErrors.StatsFailed("SUBSCRIBE",S.message))),E.w(this.TAG,"Error in getting subscribe stats",S)}let m=f&&Fv("subscribe",f,c),{packetsLost:p,jitter:k}=oN(f),T=Vk(p,(l=c==null?void 0:c.subscribe)==null?void 0:l.packetsLost,m==null?void 0:m.timestamp,(u=c==null?void 0:c.subscribe)==null?void 0:u.timestamp),y=m&&Object.assign(m,{packetsLostRate:T,jitter:k,packetsLost:p});this.peerStats[this.localPeerID]={publish:h,subscribe:y}}),this.updateRemoteTrackStats=()=>v(this,null,function*(){var i;let s=Array.from(this.store.getTracksMap().values()).filter(a=>a instanceof Er||a instanceof Ta),o=s.map(a=>a.trackId);Object.keys(this.remoteTrackStats).forEach(a=>{o.includes(a)||delete this.remoteTrackStats[a]});for(let a of s){let l=a.peerId&&((i=this.store.getPeerById(a.peerId))==null?void 0:i.name),u=this.getRemoteTrackStats(a.trackId),c=yield nN(this.eventBus,a,l,u);c&&(this.remoteTrackStats[a.trackId]=c)}}),this.updateLocalTrackStats=()=>v(this,null,function*(){var i;let s=this.store.getLocalPeerTracks().reduce((a,l)=>(a[l.getTrackIDBeingSent()]=l,a),{}),o=aN(Object.keys(this.localTrackStats),Object.keys(s));for(let a of o){let l=s[a];if(l){let u=(i=this.store.getLocalPeer())==null?void 0:i.name,c=yield rN(this.eventBus,l,u,this.localTrackStats[a]);c&&(this.localTrackStats[a]=c)}else delete this.localTrackStats[a]}});var n;this.localPeerID=(n=this.store.getLocalPeer())==null?void 0:n.peerId}},uN=class{constructor(e,t,r,n){this.store=e,this.eventBus=t,this.publishConnection=r,this.subscribeConnection=n,this.TAG="[HMSWebrtcInternals]",this.interval=1e3,this.isMonitored=!1,this.handleStatsUpdate=()=>v(this,null,function*(){var i;yield(i=this.hmsStats)==null?void 0:i.updateStats(),this.eventBus.statsUpdate.publish(this.hmsStats)})}getPublishPeerConnection(){return this.publishConnection}getSubscribePeerConnection(){return this.subscribeConnection}getCurrentStats(){return this.hmsStats}onStatsChange(e){return this.eventBus.statsUpdate.subscribe(e),()=>{this.eventBus.statsUpdate.unsubscribe(e)}}setPeerConnections({publish:e,subscribe:t}){var r,n;this.publishConnection=e,this.subscribeConnection=t,this.hmsStats=new lN({publish:(r=this.publishConnection)==null?void 0:r.getStats.bind(this.publishConnection),subscribe:(n=this.subscribeConnection)==null?void 0:n.getStats.bind(this.subscribeConnection)},this.store,this.eventBus)}start(){return v(this,null,function*(){if(this.isMonitored){E.d(this.TAG,"Already started");return}this.stop(),this.isMonitored=!0,E.d(this.TAG,"Starting Webrtc Stats Monitor"),this.startLoop().then(()=>E.d(this.TAG,"Stopping Webrtc Stats Monitor")).catch(e=>{this.eventBus.analytics.publish(Se.rtcStatsFailed(K.WebrtcErrors.StatsFailed("PUBLISH",e.message))),E.e(this.TAG,e.message)})})}stop(){this.isMonitored=!1}startLoop(){return v(this,null,function*(){for(;this.isMonitored;)yield this.handleStatsUpdate(),yield ei(this.interval)})}cleanup(){this.stop(),this.eventBus.statsUpdate.removeAllListeners()}},Gk=class{constructor({peerId:e,name:t,isLocal:r,customerUserId:n,metadata:i,role:s,joinedAt:o,groups:a,realtime:l,type:u}){this.customerUserId="",this.metadata="",this.auxiliaryTracks=[],this.name=t,this.peerId=e,this.isLocal=r,this.customerUserId=n,this.metadata=i,this.joinedAt=o,this.groups=a,this.realtime=l,this.type=u,s&&(this.role=s)}get isHandRaised(){var e;return!!((e=this.groups)!=null&&e.includes(os))}updateRole(e){this.role=e}updateName(e){this.name=e}updateNetworkQuality(e){this.networkQuality=e}updateMetadata(e){this.metadata=e}updateGroups(e){this.groups=e}toString(){var e,t,r,n;return`{
      name: ${this.name};
      role: ${(e=this.role)==null?void 0:e.name};
      peerId: ${this.peerId};
      customerUserId: ${this.customerUserId};
      ${this.audioTrack?`audioTrack: ${(t=this.audioTrack)==null?void 0:t.trackId};`:""}
      ${this.videoTrack?`videoTrack: ${(r=this.videoTrack)==null?void 0:r.trackId};`:""}
      groups: ${(n=this.groups)==null?void 0:n.join()}
    }`}},Hk=class{};Hk.makePeerId=()=>si();var cN=class extends Gk{constructor(e){super(be(Y({},e),{peerId:Hk.makePeerId(),isLocal:!0})),this.isLocal=!0,this.auxiliaryTracks=[],this.asRole=e.asRole}isInPreview(){return!!this.asRole}toString(){var e,t,r;return`{
      name: ${this.name};
      role: ${(e=this.role)==null?void 0:e.name};
      peerId: ${this.peerId};
      customerUserId: ${this.customerUserId};
      ${this.asRole?`asRole: ${this.asRole.name};`:""}
      ${this.audioTrack?`audioTrack: ${(t=this.audioTrack)==null?void 0:t.trackId};`:""}
      ${this.videoTrack?`videoTrack: ${(r=this.videoTrack)==null?void 0:r.trackId};`:""}
    }`}},dN=class extends Gk{constructor(e){super(be(Y({},e),{isLocal:!1})),this.isLocal=!1,this.auxiliaryTracks=[],this.fromRoomState=!1,this.fromRoomState=!!e.fromRoomState}},sa=(e,t)=>new dN({peerId:e.peer_id,name:e.info.name,role:t.getPolicyForRole(e.role),customerUserId:e.info.user_id,metadata:e.info.data,groups:e.groups,type:e.info.type}),hN=class{constructor(e,t,r){this.transport=e,this.store=t,this.options=r,this.isEnd=!1,this.iterator=null,this.total=0,this.defaultPaginationLimit=10}validateConnection(){if(!this.transport||!this.store)throw Error("Use usePaginatedParticipants or hmsActions.getPeerListIterator after preview or join has happened")}hasNext(){return!this.isEnd}getTotal(){return this.total}findPeers(){return v(this,null,function*(){var e;this.validateConnection();let t=yield this.transport.signal.findPeers(be(Y({},this.options||{}),{limit:((e=this.options)==null?void 0:e.limit)||this.defaultPaginationLimit}));return this.updateState(t),this.processPeers(t.peers)})}next(){return v(this,null,function*(){var e;this.validateConnection();let t;return!this.iterator&&!this.isEnd?yield this.findPeers():this.iterator?(t=yield this.transport.signal.peerIterNext({iterator:this.iterator,limit:((e=this.options)==null?void 0:e.limit)||this.defaultPaginationLimit}),this.updateState(t),this.processPeers(t.peers)):[]})}processPeers(e){let t=[];return e.forEach(r=>{let n=sa(r,this.store);t.push(n)}),t}updateState(e){this.isEnd=e.eof,this.total=e.total,e.iterator&&(this.iterator=e.iterator)}},Wk=class{constructor(e){this.TAG="[AudioContextManager]",this.audioContext=new AudioContext,this.source=this.audioContext.createMediaElementSource(e),this.source.connect(this.audioContext.destination)}resumeContext(){return v(this,null,function*(){this.audioContext.state==="suspended"&&(yield this.audioContext.resume(),E.d(this.TAG,"AudioContext is resumed"))})}getAudioTrack(){return this.destinationNode&&this.source.disconnect(this.destinationNode),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.source.connect(this.destinationNode),this.destinationNode.stream.getAudioTracks()[0]}cleanup(){this.audioContext.state!=="closed"&&this.audioContext.close().catch(e=>{E.d(this.TAG,"AudioContext close error",e.message)})}},Fp=class extends rc.EventEmitter2{on(e,t){return super.on(e,t)}off(e,t){return super.off(e,t)}emit(e,t){return super.emit(e,t)}listeners(e){return super.listeners(e)}},fN=class extends Fp{constructor(){super(...arguments),this.audioElement=null,this.TAG="[PlaylistAudioManager]",this.seeked=!1}play(e){return v(this,null,function*(){return this.audioElement=this.getAudioElement(),new Promise((t,r)=>{this.audioElement=this.getAudioElement(),this.audioElement.src=e,this.seeked=!1,this.audioElement.onerror=()=>{let n=`Error loading ${e}`;E.e(this.TAG,n),this.stop(),r(n)},this.audioElement.oncanplaythrough=()=>v(this,null,function*(){try{if(!this.audioElement)return;if(this.audioContextManager.resumeContext(),this.track)this.seeked?this.seeked=!1:(yield this.audioElement.play(),t([this.track]));else{yield this.audioElement.play();let n=this.audioContextManager.getAudioTrack();this.track=n,t([n])}}catch(n){E.e(this.TAG,"Error playing audio",e,n.message),r(n)}}),this.audioElement.onseeked=()=>{this.seeked=!0}})})}getTracks(){return this.track?[this.track.id]:[]}getElement(){return this.audioElement||(this.audioElement=this.getAudioElement()),this.audioElement}stop(){var e,t,r;(e=this.audioElement)==null||e.pause(),(t=this.audioElement)==null||t.removeAttribute("src"),this.audioElement=null,(r=this.audioContextManager)==null||r.cleanup(),this.track=void 0}getAudioElement(){if(this.audioElement)return this.audioElement;let e=document.createElement("audio");return e.crossOrigin="anonymous",e.addEventListener("timeupdate",t=>this.emit("progress",t)),e.addEventListener("ended",()=>{this.emit("ended",null)}),this.audioContextManager=new Wk(e),e}},pN=class extends Fp{constructor(){super(...arguments),this.TAG="[PlaylistVideoManager]",this.videoElement=null,this.canvasContext=null,this.tracks=[],this.DEFAUL_FPS=24,this.seeked=!1,this.drawImage=()=>{var e,t,r;this.videoElement&&!this.videoElement.paused&&!this.videoElement.ended&&((r=this.canvasContext)==null||r.drawImage(this.videoElement,0,0,(e=this.canvas)==null?void 0:e.width,(t=this.canvas)==null?void 0:t.height),this.timer=setTimeout(()=>{this.drawImage()},1e3/this.DEFAUL_FPS))}}play(e){return this.videoElement=this.getVideoElement(),this.createCanvas(),new Promise((t,r)=>{this.videoElement=this.getVideoElement(),this.videoElement.src=e,this.seeked=!1,this.videoElement.onerror=()=>{let n=`Error loading ${e}`;E.e(this.TAG,n),this.stop(),r(n)},this.videoElement.oncanplaythrough=()=>v(this,null,function*(){var n,i,s;try{if(!this.videoElement)return;if(this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,this.tracks.length===0){this.clearCanvasAndTracks();let o=this.canvas.captureStream();if(!o){E.e(this.TAG,"Browser does not support captureStream");return}this.videoElement.onplay=this.drawImage,yield this.audioContextManager.resumeContext(),yield this.videoElement.play();let a=this.audioContextManager.getAudioTrack();o.addTrack(a),o.getTracks().forEach(l=>{this.tracks.push(l)}),t(this.tracks)}else this.seeked?(this.seeked=!1,(s=this.canvasContext)==null||s.drawImage(this.videoElement,0,0,(n=this.canvas)==null?void 0:n.width,(i=this.canvas)==null?void 0:i.height)):(yield this.videoElement.play(),t(this.tracks))}catch(o){E.e(this.TAG,"Error playing video",e,o.message),r(o)}}),this.videoElement.onseeked=()=>{this.seeked=!0}})}getTracks(){return this.tracks.map(e=>e.id)}getElement(){return this.videoElement||(this.videoElement=this.getVideoElement()),this.videoElement}stop(){var e,t,r;(e=this.videoElement)==null||e.pause(),(t=this.videoElement)==null||t.removeAttribute("src"),this.videoElement=null,(r=this.audioContextManager)==null||r.cleanup(),this.clearCanvasAndTracks()}clearCanvasAndTracks(){var e;this.tracks=[],(e=this.canvasContext)==null||e.clearRect(0,0,this.canvas.width,this.canvas.height),clearTimeout(this.timer)}getVideoElement(){if(this.videoElement)return this.videoElement;let e=document.createElement("video");return e.crossOrigin="anonymous",e.addEventListener("timeupdate",t=>this.emit("progress",t)),e.addEventListener("ended",()=>{this.emit("ended",null)}),this.audioContextManager=new Wk(e),e}createCanvas(){this.canvas||(this.canvas=document.createElement("canvas"),this.canvasContext=this.canvas.getContext("2d"))}},nl={audio:{list:[],currentIndex:-1,isAutoplayOn:!0},video:{list:[],currentIndex:-1,isAutoplayOn:!0}},mN=class extends Fp{constructor(e,t){super(),this.sdk=e,this.eventBus=t,this.state={audio:Y({},nl.audio),video:Y({},nl.video)},this.TAG="[PlaylistManager]",this.handlePausePlaylist=r=>v(this,[r],function*({enabled:n,track:i}){var s;if(n)return;let o;i.source==="audioplaylist"&&(o="audio"),i.source==="videoplaylist"&&(o="video"),o&&((s=this.getElement(o))==null||s.pause())}),this.addTrack=(r,n)=>v(this,null,function*(){yield this.sdk.addTrack(r,n),E.d(this.TAG,"Playlist track added",xk(r))}),this.removeTrack=r=>v(this,null,function*(){yield this.sdk.removeTrack(r,!0),E.d(this.TAG,"Playlist track removed",r)}),this.audioManager=new fN,this.videoManager=new pN,this.addListeners()}getList(e="audio"){return this.state[e].list}setList(e){if(!e||e.length===0){E.w(this.TAG,"Please pass in a list of HMSPlaylistItem's");return}e.forEach(t=>{this.state[t.type].list.find(r=>r.id===t.id)||this.state[t.type].list.push(t)})}clearList(e){return v(this,null,function*(){this.isPlaying(e)&&(yield this.stop(e)),this.state[e].list=[]})}removeItem(e,t){return v(this,null,function*(){let{list:r,currentIndex:n}=this.state[t],i=r.findIndex(s=>e===s.id);return i>-1?(n===i&&this.isPlaying(t)&&(yield this.stop(t)),r.splice(i,1),!0):!1})}seek(e,t="audio"){let{currentIndex:r}=this.state[t];if(r===-1)throw K.PlaylistErrors.NoEntryToPlay("PLAYLIST","No item is currently playing");let n=this.getElement(t);if(n){let i=Math.max(n.currentTime+e,0);n.currentTime=Math.min(i,n.duration)}}seekTo(e,t="audio"){let{currentIndex:r}=this.state[t];if(r===-1)throw K.PlaylistErrors.NoEntryToPlay("PLAYLIST","No item is currently playing");if(e<0)throw Error("value cannot be negative");let n=this.getElement(t);n&&(n.currentTime=Math.min(e,n.duration))}setVolume(e,t="audio"){if(e<0||e>100)throw Error("Please pass a valid number between 0-100");let r=this.getElement(t);r&&(r.volume=e*.01)}getVolume(e="audio"){let t=this.getElement(e);return t?Math.floor(t.volume*100):0}getCurrentTime(e="audio"){let t=this.getElement(e);return(t==null?void 0:t.currentTime)||0}getCurrentIndex(e="audio"){return this.state[e].currentIndex}getCurrentProgress(e="audio"){var t;let{list:r,currentIndex:n}=this.state[e],i=(t=r[n])==null?void 0:t.url,s=this.getElement(e);return!i||!s?0:Math.floor(100*(s.currentTime/s.duration))}getCurrentSelection(e="audio"){let{list:t,currentIndex:r}=this.state[e];if(r!==-1)return t[r]}isPlaying(e="audio"){let t=this.getElement(e);return!!t&&!t.paused}setIsAutoplayOn(e="audio",t){this.state[e].isAutoplayOn=t}getPlaybackRate(e="audio"){let t=this.getElement(e);return t?t.playbackRate:1}setPlaybackRate(e="audio",t){if(t<.25||t>2)throw Error("Please pass a value between 0.25 and 2.0");let r=this.getElement(e);r&&(r.playbackRate=t)}setEnabled(e,t){return v(this,arguments,function*(r,{id:n,type:i="audio"}){let s=this.state[i].list.findIndex(a=>a.id===n);if(!n||s===-1){E.w(this.TAG,"Pass a valid id");return}let o=this.state[i].list[s].url;r?yield this.play(o,i):yield this.pause(o,i),this.state[i].currentIndex=s,this.setDuration(i)})}playNext(){return v(this,arguments,function*(e="audio"){let{list:t,currentIndex:r}=this.state[e];if(r>=t.length-1)throw K.PlaylistErrors.NoEntryToPlay("PLAYLIST","Reached end of playlist");yield this.play(t[r+1].url,e),this.state[e].currentIndex=r+1,this.setDuration(e)})}playPrevious(){return v(this,arguments,function*(e="audio"){let{list:t,currentIndex:r}=this.state[e];if(r<=0)throw K.PlaylistErrors.NoEntryToPlay("PLAYLIST","Reached start of playlist");yield this.play(t[r-1].url,e),this.state[e].currentIndex=r-1,this.setDuration(e)})}stop(){return v(this,arguments,function*(e="audio"){var t;let r=e==="audio"?this.audioManager:this.videoManager;(t=r.getElement())==null||t.pause(),yield this.removeTracks(e),r.stop(),this.state[e].currentIndex=-1})}cleanup(){this.state={audio:Y({},nl.audio),video:Y({},nl.video)},this.eventBus.localAudioEnabled.unsubscribe(this.handlePausePlaylist),this.eventBus.localVideoEnabled.unsubscribe(this.handlePausePlaylist),this.audioManager.stop(),this.videoManager.stop()}onProgress(e){this.videoManager.on("progress",()=>{try{e({type:"video",progress:this.getCurrentProgress("video")})}catch{E.e(this.TAG,"Error in onProgress callback")}}),this.audioManager.on("progress",()=>{try{e({type:"audio",progress:this.getCurrentProgress("audio")})}catch{E.e(this.TAG,"Error in onProgress callback")}})}onNewTrackStart(e){this.on("newTrackStart",e)}onPlaylistEnded(e){this.on("playlistEnded",e)}onCurrentTrackEnded(e){this.on("currentTrackEnded",e)}getElement(e="audio"){return e==="audio"?this.audioManager.getElement():this.videoManager.getElement()}removeTracks(){return v(this,arguments,function*(e="audio"){let t=(e==="audio"?this.audioManager:this.videoManager).getTracks();for(let r of t)yield this.removeTrack(r)})}play(e){return v(this,arguments,function*(t,r="audio"){let n=r==="audio"?this.audioManager:this.videoManager,i=n.getElement();if(this.isItemCurrentlyPlaying(t,r)){E.w(this.TAG,`The ${r} is currently playing`);return}if(i!=null&&i.src.includes(t))yield i.play();else{i==null||i.pause();let s=yield n.play(t);for(let o of s)yield this.addTrack(o,r==="audio"?"audioplaylist":"videoplaylist")}})}isItemCurrentlyPlaying(e,t){let r=this.getElement(t);return!!(r&&!r.paused&&r.src.includes(e))}setDuration(e="audio"){let t=this.getElement(e),{list:r,currentIndex:n}=this.state[e];r[n]&&(r[n].duration=(t==null?void 0:t.duration)||0),this.emit("newTrackStart",r[n])}pause(e){return v(this,arguments,function*(t,r="audio"){let n=this.getElement(r);n&&!n.paused&&n.src.includes(t)?(n.pause(),E.d(this.TAG,"paused url",t)):E.w(this.TAG,"The passed in url is not currently playing")})}addListeners(){this.audioManager.on("ended",()=>this.handleEnded("audio")),this.videoManager.on("ended",()=>this.handleEnded("video")),this.eventBus.localAudioEnabled.subscribe(this.handlePausePlaylist),this.eventBus.localVideoEnabled.subscribe(this.handlePausePlaylist)}handleEnded(){return v(this,arguments,function*(e="audio"){let{list:t,currentIndex:r,isAutoplayOn:n}=this.state[e];r===t.length-1?(yield this.stop(e),this.emit("playlistEnded",e)):n?this.playNext(e):yield this.pause(t[r].url,e),this.emit("currentTrackEnded",t[r])})}},ft=e=>e.room,gN=e=>e.errors;Z(gN,e=>e.length===0?null:e.at(-1));Z(ft,e=>e.id);var Ar=e=>e.peers,qk=e=>e.messages.byID,Kk=e=>e.messages.allIDs,it=e=>e.tracks,vN=e=>e.settings,yN=e=>e.appData,SN=e=>e.speakers,Ss=Z([ft],e=>e&&e.isConnected);Z([Ss,ft],(e,t)=>e?t.peerCount!==void 0?t.peerCount||1:t.peers.length:Math.max(t.peerCount!==void 0?t.peerCount:t.peers.length-1,0));var TN=e=>e.hideLocalPeer,jp=Z([ft,Ar,TN],(e,t,r)=>r?e.peers.filter(n=>e.localPeer!==n).map(n=>t[n]):e.peers.map(n=>t[n])),kN=Z(it,e=>Object.values(e)),Cr=Z(ft,Ar,(e,t)=>t[e.localPeer]),Ts=Z(ft,e=>e.localPeer);Z(Cr,e=>e==null?void 0:e.name);Z(Cr,e=>e==null?void 0:e.roleName);var pn=Z(Cr,e=>e==null?void 0:e.audioTrack),Nr=Z(Cr,e=>e==null?void 0:e.videoTrack),EN=Z(Cr,e=>e==null?void 0:e.auxiliaryTracks),bN=Z([pn,Nr,EN],(e,t,r)=>{let n=r?[...r]:[];return e&&n.unshift(e),t&&n.unshift(t),n});Z(jp,e=>e.filter(t=>!t.isLocal));Z(Ar,SN,(e,t)=>{let r=Object.entries(t).sort((n,i)=>{var s,o;let a=((s=n[1])==null?void 0:s.audioLevel)||0;return(((o=i[1])==null?void 0:o.audioLevel)||0)>a?1:-1});if(r.length>0&&r[0][1].audioLevel&&r[0][1].audioLevel>0){let n=r[0][1].peerID;if(n in e)return e[n]}return null});var u3=e=>{let t=Cr(e);return Ik(e,t==null?void 0:t.audioTrack)},jv=e=>{let t=Cr(e);return Ik(e,t==null?void 0:t.videoTrack)},_N=e=>{let t=Cr(e);return tM(e,t==null?void 0:t.videoTrack)},Uv=Z(Cr,it,(e,t)=>{let{video:r,audio:n}=Sa(t,e);return!!(r||n)}),PN=Z(Ar,it,(e,t)=>{let r;for(let n in e){let i=e[n],{video:s,audio:o}=Sa(t,i);if(s)return i;o&&!r&&(r=i)}return r});Z(PN,e=>!!e);Z(Ar,it,(e,t)=>{for(let r in e){let n=e[r],{audio:i,video:s}=Sa(t,n);if(!s&&i)return n}});Z(Ar,it,(e,t)=>{let r=[],n=[];for(let i in e){let s=e[i],{video:o,audio:a}=Sa(t,s);o?r.push(s):a&&n.push(s)}return r.concat(n)});Z(Ar,it,(e,t)=>{for(let r in t){let n=t[r];if(Ap(n)&&Rp(n)&&n.peerId)return e[n.peerId]}});Z(Ar,it,(e,t)=>{for(let r in t){let n=t[r];if(Ak(n)&&n.peerId)return e[n.peerId]}});Z(kN,e=>e.filter(eM));Z(Kk,e=>e.length);Z(qk,e=>Object.values(e).filter(t=>!t.read).length);var oc=Z(Kk,qk,(e,t)=>{let r=[];return e.forEach(n=>{r.push(t[n])}),r}),wN=Z(oc,e=>e.filter(t=>{var r;return!t.recipientPeer&&!(t.recipientRoles&&((r=t.recipientRoles)==null?void 0:r.length)>0)}));Z(wN,e=>e.filter(t=>!t.read).length);var Yr=Z([ft],e=>e&&e.roomState),CN=Z(Yr,e=>e==="Preview");Z(ft,e=>e.roomState!=="Disconnected");Z(ft,e=>!e.transcriptions||e.transcriptions.length<=0?!1:e.transcriptions.some(t=>t.mode==="caption"&&t.state==="started"));var Ds=e=>e.roles;Z([Ds],e=>Object.keys(e));var Up=Z([Cr,Ds],(e,t)=>e!=null&&e.roleName?t[e.roleName]:null),RN=e=>{var t;return(t=e.preview)==null?void 0:t.asRole},AN=Z([RN,Ds],(e,t)=>e?t[e]:null);Z([Up],e=>{var t;return(t=e==null?void 0:e.subscribeParams)!=null&&t.subscribeToRoles?e.subscribeParams.subscribeToRoles.length>0:!1});var IN=Z(Up,e=>e==null?void 0:e.permissions);Z(ft,e=>e.recording);Z(ft,e=>e.rtmp);Z(ft,e=>e.hls);Z(ft,e=>e.transcriptions);Z(ft,e=>e.sessionId);Z(ft,e=>e.startedAt);Z(ft,e=>!!e.isLargeRoom);Z(ft,e=>!!e.isEffectsEnabled);Z(ft,e=>e.effectsKey);var ON=e=>e.polls;Z(jp,e=>e.filter(t=>t.isHandRaised));var DN=e=>e.whiteboards;Z(DN,e=>Object.values(e)[0]);var Qk=(e="audio")=>t=>t.playlist[e].list,Bp=(e="audio")=>t=>t.playlist[e].selection,Yk=(e="audio")=>t=>t.playlist[e].progress,Jk=(e="audio")=>t=>t.playlist[e].currentTime,Xk=(e="audio")=>t=>t.playlist[e].playbackRate,Zk=(e="audio")=>t=>t.playlist[e].volume,eE=(e="audio")=>Z(Qk(e),t=>Object.values(t)),tE=(e="audio")=>Z(Qk(e),Bp(e),(t,r)=>{if(r.id)return t[r.id]}),xN={selection:Bp("audio"),progress:Yk("audio"),currentTime:Jk("audio"),playbackRate:Xk("audio"),volume:Zk("audio"),list:eE("audio"),selectedItem:tE("audio")},LN={selection:Bp("video"),progress:Yk("video"),currentTime:Jk("video"),playbackRate:Xk("video"),volume:Zk("video"),list:eE("video"),selectedItem:tE("video")};function Dt(e){return t=>r=>e(r,t)}var co="HMS-Store:",ye=class{static v(t,...r){this.log(0,t,...r)}static d(...t){this.log(1,...t)}static i(...t){this.log(2,...t)}static w(...t){this.log(3,...t)}static e(...t){this.log(6,...t)}static time(t){this.log(4,"[HMSPerformanceTiming]",t)}static timeEnd(t){this.log(5,"[HMSPerformanceTiming]",t,t)}static cleanup(){performance.clearMarks(),performance.clearMeasures()}static log(t,...r){if(!(this.level.valueOf()>t.valueOf()))switch(t){case 0:{console.log(co,...r);break}case 1:{console.debug(co,...r);break}case 2:{console.info(co,...r);break}case 3:{console.warn(co,...r);break}case 6:{console.error(co,...r);break}case 4:{performance.mark(r[1]);break}case 5:{let n=r[0],i=r[1];try{let s=performance.measure(i,i);this.log(1,n,i,s==null?void 0:s.duration),performance.clearMarks(i),performance.clearMeasures(i)}catch(s){this.log(1,n,i,s)}break}}}};ye.level=0;var zp=(e,t)=>t,ka=(e,t)=>t,rE=(e,t)=>t,MN=(e,t)=>t,NN=(e,t)=>t,oi=Z([Ar,zp],(e,t)=>t?e[t]:null),$N=Z([it,ka],(e,t)=>t?e[t]:null),FN=Z([it,ka],(e,t)=>{if(!t)return null;let r=e[t];return(r==null?void 0:r.type)==="video"?r:null});Z([it,ka],(e,t)=>{if(!t)return null;let r=e[t];return(r==null?void 0:r.type)==="audio"?r:null});Z([it,ka],(e,t)=>{if(!t)return null;let r=e[t];return(r==null?void 0:r.type)==="audio"&&(r==null?void 0:r.source)==="screen"?r:null});Z([it,ka],(e,t)=>{if(!t)return null;let r=e[t];return(r==null?void 0:r.type)==="video"&&(r==null?void 0:r.source)==="screen"?r:null});var jN=Z([ON,NN],(e,t)=>t?e[t]:null),un=Dt(oi);Dt(Z([yN,MN],(e,t)=>{if(e)return t?e[t]:e}));Dt(Z(oi,e=>e==null?void 0:e.name));Dt(Z(oi,e=>e==null?void 0:e.type));var nE=Dt($N),UN=Dt(FN),BN=Dt((e,t)=>{let r=oi(e,t);if(r&&r.audioTrack&&r.audioTrack!=="")return e.tracks[r.audioTrack]}),iE=(e,t)=>t?e.speakers[t]:null;Dt(Z(iE,e=>(e==null?void 0:e.audioLevel)||0));var zN=(e,t)=>{let r=BN(t)(e);return iE(e,r==null?void 0:r.id)};Dt(Z(zN,e=>(e==null?void 0:e.audioLevel)||0));Dt(Z(it,oi,(e,t)=>{let r=t==null?void 0:t.auxiliaryTracks.find(n=>{let i=e[n];return Ap(i)&&Rp(i)});return r?e[r]:void 0}));Dt(Z(it,oi,(e,t)=>{let r=t==null?void 0:t.auxiliaryTracks.find(n=>{let i=e[n];return Ap(i)&&Cp(i)});return r?e[r]:void 0}));Dt(Z(it,oi,(e,t)=>{let r=t==null?void 0:t.auxiliaryTracks.find(n=>{let i=e[n];return Ak(i)&&Cp(i)});return r?e[r]:void 0}));Dt(Z(it,oi,(e,t)=>Sa(e,t)));var VN=Z([oc,Ts,zp],(e,t,r)=>{if(r)return e.filter(n=>{var i;return!n.recipientPeer&&!((i=n.recipientRoles)!=null&&i.length)||n.sender&&![t,r].includes(n.sender)?!1:[t,r].includes(n.recipientPeer)})}),GN=Z([oc,rE],(e,t)=>{if(t)return e.filter(r=>{var n,i;return(n=r.recipientRoles)!=null&&n.length?(i=r.recipientRoles)==null?void 0:i.includes(t):!1})}),HN=Z(oc,e=>e.filter(t=>{var r;return!t.recipientPeer&&!((r=t.recipientRoles)!=null&&r.length)}));Z([GN,rE],e=>e?e.filter(t=>!t.read).length:0);Z([VN,zp],e=>e?e.filter(t=>!t.read).length:0);Z(HN,e=>e.filter(t=>!t.read).length);var WN=Dt(jN);Z([Ar,it],(e,t)=>Object.values(e).map(r=>{var n;return{peer:r,isAudioEnabled:r.audioTrack?(n=t[r.audioTrack])==null?void 0:n.enabled:!1}}));var qN=e=>e.roleChangeRequests[0]||null;Z([qN,Ar,Ds],(e,t,r)=>e?{requestedBy:e.requestedBy?t[e.requestedBy]:void 0,role:r[e.roleName],token:e.token}:null);var d3=Z([Up],e=>Ok(e)),h3=Z([AN],e=>Ok(e));Z([Nr,it],(e,t)=>{let r=null;return e&&(r=t[e]),(r==null?void 0:r.plugins)||[]});Z([pn,it],(e,t)=>{let r=null;return e&&(r=t[e]),(r==null?void 0:r.plugins)||[]});var sE={0:"PEER_JOINED",1:"PEER_LEFT",8:"ROLE_UPDATED",10:"NAME_UPDATED",11:"METADATA_UPDATED",12:"HAND_RAISE_CHANGED"},jh={0:"TRACK_ADDED",1:"TRACK_REMOVED",2:"TRACK_MUTED",3:"TRACK_UNMUTED",5:"TRACK_DEGRADED",6:"TRACK_RESTORED",4:"TRACK_DESCRIPTION_CHANGED"},oE={0:"POLL_CREATED",1:"POLL_STARTED",2:"POLL_STOPPED",4:"POLL_VOTES_UPDATED",3:"POLLS_LIST"},ld="hmsNotification",KN=class{constructor(e){this.id=0,this.onNotification=(t,r)=>{let n=i=>{if(r){let s;if(Array.isArray(r)?s=r.includes(i.type):s=r===i.type,!s)return}t(i)};return this.eventEmitter.addListener(ld,n),()=>{this.eventEmitter.removeListener(ld,n)}},this.store=e,this.eventEmitter=new rc.EventEmitter2({maxListeners:Object.keys(Rk).length})}sendPlaylistTrackEnded(e){let t=this.createNotification("PLAYLIST_TRACK_ENDED",e,"info");this.emitEvent(t)}sendDeviceChange(e){var t;let r=this.createNotification("DEVICE_CHANGE_UPDATE",e,e.error?"error":"info",`Selected ${e.type} device - ${(t=e.selection)==null?void 0:t.label}`);this.emitEvent(r)}sendLeaveRoom(e){var t;let r=(t=e.requestedBy)==null?void 0:t.name,n=this.createNotification(e.roomEnded||!r?"ROOM_ENDED":"REMOVED_FROM_ROOM",e,"info",`${e.roomEnded?"Room ended":"Removed from room"} ${r?`by ${r}`:""}`);this.emitEvent(n)}sendPeerList(e){if(e.length===0)return;let t=this.createNotification("PEER_LIST",e,"info");this.emitEvent(t)}sendPeerUpdate(e,t){let r=this.store.getState(un(t==null?void 0:t.id))||t,n=sE[e];if(n&&r){let i=this.createNotification(n,r,"info");this.emitEvent(i)}}sendTrackUpdate(e,t){let r=this.store.getState(nE(t)),n=jh[e];if(n){let i=this.createNotification(n,r,"info");this.emitEvent(i)}}sendMessageReceived(e){let t=this.createNotification("NEW_MESSAGE",e,"info");this.emitEvent(t)}sendError(e){let t=this.createNotification("ERROR",e,"error");this.emitEvent(t)}sendReconnecting(e){let t=this.createNotification("RECONNECTING",e,"error");this.emitEvent(t)}sendReconnected(){let e=this.createNotification("RECONNECTED",null,"info");this.emitEvent(e)}sendChangeTrackStateRequest(e){let t=this.createNotification("CHANGE_TRACK_STATE_REQUEST",e,"info");this.emitEvent(t)}sendChangeMultiTrackStateRequest(e){let t=this.createNotification("CHANGE_MULTI_TRACK_STATE_REQUEST",e,"info");this.emitEvent(t)}sendPollUpdate(e,t){let r=oE[e],n=this.store.getState(WN(t));if(r){let i=this.createNotification(r,n,"info");this.emitEvent(i)}}emitEvent(e){this.eventEmitter.emit(ld,e)}createNotification(e,t,r,n=""){return this.id++,{id:this.id,type:e,message:n,data:t,severity:r}}},QN=class{constructor(e){this.queuedUpdates={},this.timers={},this.DEFAULT_INTERVAL_MS=50,this.store=e}setState(e,t,r=this.DEFAULT_INTERVAL_MS){this.queuedUpdates[t]=this.queuedUpdates[t]||[],this.queuedUpdates[t].push(e),!this.timers[t]&&(window?this.timers[t]=window.setTimeout(()=>this.setStateBatched(t),r):this.setStateBatched(t))}setStateBatched(e){var t;if(((t=this.queuedUpdates[e])==null?void 0:t.length)>0){let r=n=>{this.queuedUpdates[e].forEach(i=>{try{i(n)}catch(s){ye.w("failed to update store",s)}})};console.time(`timed-${e}`),this.store.namedSetState(r,e),console.timeEnd(`timed-${e}`)}delete this.queuedUpdates[e],window&&this.timers[e]&&(window.clearTimeout(this.timers[e]),delete this.timers[e])}};function YN(e){return e instanceof Ta||e instanceof Er}var JN=(e,t)=>{let r=Ea(Object.keys(e),Object.keys(t));for(let n of r){let i=e[n],s=t[n];xs(i,s)?(jr(i.auxiliaryTracks,s.auxiliaryTracks)&&(s.auxiliaryTracks=i.auxiliaryTracks),i.groups&&jr(i.groups,s.groups)&&(s.groups=i.groups),Object.assign(i,s)):Vp(i,s)?delete e[n]:ac(i,s)&&(e[n]=s)}},XN=(e,t)=>{let r=Ea(Object.keys(e),Object.keys(t));for(let n of r){let i=e[n],s=t[n];xs(i,s)?(aE(i,s),Object.assign(i,s)):Vp(i,s)?delete e[n]:ac(i,s)&&(e[n]=s)}},ZN=(e,t)=>{let r=Ea(Object.keys(e),Object.keys(t));for(let n of r){let i=e[n],s=t[n];xs(i,s)?(i.questions&&jr(i.questions,s.questions)&&(s.questions=i.questions),Object.assign(i,s)):ac(i,s)&&(e[n]=s)}},Bv=(e,t)=>{let r=Ea(Object.keys(e),Object.keys(t));for(let n of r){let i=e[n],s=t[n];xs(i,s)?Object.assign(i,s):Vp(i,s)?delete e[n]:ac(i,s)&&(e[n]=s)}},e$=(e,t,r)=>{let n=r.reduce((s,o)=>(s[o.firstTrackId]=Object.values(t[o.getTrackIDBeingSent()]||{}).sort((a,l)=>!a.rid||!l.rid?0:a.rid<l.rid?-1:1),s),{}),i=Ea(Object.keys(e),Object.keys(n));for(let s of i){if(!n[s]){delete e[s];continue}e[s]=n[s]}},aE=(e,t)=>{e.plugins&&jr(e.plugins,t.plugins)&&(t.plugins=e.plugins),e.type==="video"&&e.layerDefinitions&&jr(e.layerDefinitions,t.layerDefinitions)&&(t.layerDefinitions=e.layerDefinitions)},xs=(e,t)=>e&&t,Vp=(e,t)=>e&&!t,ac=(e,t)=>!e&&t,jr=(e,t)=>{if(e===t||e.length===0&&(t==null?void 0:t.length)===0)return!0;if(!e||!t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},Ea=(e,t)=>{let r=new Set;for(let n of e)r.add(n);for(let n of t)r.add(n);return Array.from(r)},He=class Dn{static convertPeer(t){var r,n,i;return{id:t.peerId,name:t.name,roleName:(r=t.role)==null?void 0:r.name,isLocal:t.isLocal,videoTrack:(n=t.videoTrack)==null?void 0:n.trackId,audioTrack:(i=t.audioTrack)==null?void 0:i.trackId,auxiliaryTracks:t.auxiliaryTracks.map(s=>s.trackId),customerUserId:t.customerUserId,metadata:t.metadata,joinedAt:t.joinedAt,groups:t.groups,isHandRaised:t.isHandRaised,type:t.type}}static convertTrack(t,r){let n={id:t.trackId,source:t.source,type:t.type,enabled:t.enabled,displayEnabled:t.enabled,peerId:t.peerId||r};return this.enrichTrack(n,t),n}static enrichTrack(t,r){let n=r.getMediaTrackSettings();r instanceof Ta&&(t.volume=r.getVolume()||0),Dn.updateDeviceID(t,r),Dn.enrichLocalTrack(t,r),t.type==="video"&&(t.source==="screen"?(t.displaySurface=n.displaySurface,Dn.enrichScreenTrack(t,r)):t.source==="regular"&&(t.facingMode=n.facingMode),t.height=n.height,t.width=n.width,Dn.enrichVideoTrack(t,r)),Dn.enrichPluginsDetails(t,r)}static enrichLocalTrack(t,r){(r instanceof Fr||r instanceof ys)&&(t.isPublished=r.isPublished)}static updateDeviceID(t,r){var n;r instanceof Fr||r instanceof ys?t.deviceID=r.settings.deviceId:t.deviceID=(n=r.getMediaTrackSettings())==null?void 0:n.deviceId}static enrichVideoTrack(t,r){r instanceof Er&&(t.layer=r.getLayer(),t.preferredLayer=r.getPreferredLayer(),t.degraded=r.degraded),(r instanceof Er||r instanceof Fr)&&(jr(r.getSimulcastDefinitions(),t.layerDefinitions)||(t.layerDefinitions=r.getSimulcastDefinitions()))}static enrichScreenTrack(t,r){var n,i;if(r instanceof Fr){let s=(n=r.getCaptureHandle)==null?void 0:n.call(r);(s==null?void 0:s.handle)!==((i=t.captureHandle)==null?void 0:i.handle)&&(t.captureHandle=s),r.isCurrentTab&&(t.displaySurface="selfBrowser")}}static enrichPluginsDetails(t,r){(r instanceof Fr||r instanceof ys)&&(jr(r.getPlugins(),t.plugins)||(t.plugins=r.getPlugins()))}static convertRoom(t,r){let{recording:n,rtmp:i,hls:s,transcriptions:o}=Dn.convertRecordingStreamingState(t.recording,t.rtmp,t.hls,t.transcriptions);return{id:t.id,name:t.name,localPeer:r,recording:n,rtmp:i,hls:s,transcriptions:o,sessionId:t.sessionId,startedAt:t.startedAt,joinedAt:t.joinedAt,peerCount:t.peerCount,isLargeRoom:t.large_room_optimization,isEffectsEnabled:t.isEffectsEnabled,effectsKey:t.effectsKey,isHipaaEnabled:t.isHipaaEnabled,isNoiseCancellationEnabled:t.isNoiseCancellationEnabled}}static convertMessage(t,r){var n,i,s,o;return{sender:(n=t.peer)==null?void 0:n.peer_id,senderName:(i=t.peer)==null?void 0:i.info.name,senderRole:(s=t.peer)==null?void 0:s.role,senderUserId:(o=t.peer)==null?void 0:o.info.user_id,recipientPeer:t.private?r:void 0,recipientRoles:t.roles,time:new Date(t.timestamp),type:t.info.type,message:t.info.message,id:t.message_id}}static convertRoles(t){let r={};return t&&t.forEach(n=>{r[n.name]=n}),r}static convertRoleChangeRequest(t){var r;return{requestedBy:(r=t.requestedBy)==null?void 0:r.peerId,roleName:t.role.name,token:t.token}}static convertException(t){return{code:t.code,action:t.action,name:t.name,message:t.message,description:t.description,isTerminal:t.isTerminal,nativeError:t.nativeError,timestamp:new Date}}static convertDeviceChangeUpdate(t){let r={devices:t.devices,selection:t.selection,type:t.type};return t.error&&(r.error=this.convertException(t.error)),r}static convertPlaylist(t){let r=this.getConvertedPlaylistType(t,"audio"),n=this.getConvertedPlaylistType(t,"video");return{audio:r,video:n}}static convertPlaylistItem(t,r){let n=r.type,i=t.getCurrentSelection(n),s=t.isPlaying(n),o=r.url===(i==null?void 0:i.url);return be(Y({},r),{type:r.type,selected:o,playing:o&&s})}static getConvertedPlaylistType(t,r){let n={},i=t.getCurrentSelection(r),s=t.getCurrentProgress(r),o=t.getVolume(r),a=t.getList(r),l=t.getCurrentIndex(r);return t.getList(r).forEach(u=>{n[u.id]=Dn.convertPlaylistItem(t,u)}),{list:n,selection:{id:i==null?void 0:i.id,hasPrevious:l>0,hasNext:l<a.length-1},progress:s,volume:o,currentTime:t.getCurrentTime(r),playbackRate:t.getPlaybackRate(r)}}static convertRecordingStreamingState(t,r,n,i){var s;return{recording:{browser:Y({running:!1},t==null?void 0:t.browser),server:Y({running:!1},t==null?void 0:t.server),hls:Y({running:!1},t==null?void 0:t.hls)},rtmp:Y({running:!1},r),hls:{variants:((s=n==null?void 0:n.variants)==null?void 0:s.map(o=>o))||[],running:!!(n!=null&&n.running),error:n==null?void 0:n.error},transcriptions:i||[]}}},zv=class{constructor(e,t,r,n){this.playlistManager=e,this.syncPlaylistState=r,this.store=n,this.type=t}play(e){return v(this,null,function*(){if(!e){ye.w("Please pass id to play");return}yield this.playlistManager.setEnabled(!0,{id:e,type:this.type})})}pause(){return v(this,null,function*(){let e=this.type==="audio"?xN:LN,t=this.store.getState(e.selection);if(!t.id){ye.w("No item is currently playing to pause");return}yield this.playlistManager.setEnabled(!1,{id:t.id,type:this.type})})}playNext(){return v(this,null,function*(){yield this.playlistManager.playNext(this.type)})}playPrevious(){return v(this,null,function*(){yield this.playlistManager.playPrevious(this.type)})}seek(e){this.playlistManager.seek(e,this.type),this.syncPlaylistState(`seekOn${this.type}Playlist`)}seekTo(e){this.playlistManager.seekTo(e,this.type),this.syncPlaylistState(`seekToOn${this.type}Playlist`)}setVolume(e){this.playlistManager.setVolume(e,this.type),this.syncPlaylistState(`setVolumeOn${this.type}Playlist`)}setList(e){this.playlistManager.setList(e),this.syncPlaylistState(`setListOn${this.type}Playlist`)}stop(){return v(this,null,function*(){yield this.playlistManager.stop(this.type),this.syncPlaylistState(`stop${this.type}Playlist`)})}setIsAutoplayOn(e){this.playlistManager.setIsAutoplayOn(this.type,e)}setPlaybackRate(e){this.playlistManager.setPlaybackRate(this.type,e),this.syncPlaylistState(`set${this.type}PlaybackRate`)}removeItem(e){return v(this,null,function*(){let t=yield this.playlistManager.removeItem(e,this.type);return t&&this.syncPlaylistState(`remove${this.type}PlaylistItem`),t})}clearList(){return v(this,null,function*(){yield this.playlistManager.clearList(this.type),this.syncPlaylistState(`clear${this.type}Playlist`)})}},t$=class{constructor(e,t){this.sdk=e,this.setLocally=t}get sdkSessionStore(){return this.sdk.getSessionStore()}set(e,t){return v(this,null,function*(){let{value:r}=yield this.sdkSessionStore.set(String(e),t);this.setLocally({key:e,value:r})})}observe(e){return v(this,null,function*(){let t=Array.isArray(e)?e.map(r=>String(r)):[String(e)];yield this.sdkSessionStore.observe(t)})}unobserve(e){return v(this,null,function*(){let t=Array.isArray(e)?e.map(r=>String(r)):[String(e)];yield this.sdkSessionStore.unobserve(t)})}},r$=class{constructor(e,t){this.intervalMs=100,this.shouldMonitor=!1,this.hasStarted=!1,this.unsubs=[],this.analysers={},this.store=e,this.actions=t}start(){return v(this,null,function*(){if(this.hasStarted)return;this.hasStarted=!0,ye.d("starting audio level monitor for remote peers",this.store);let e=this.store.getState(Ss);ye.d("starting audio levels is connected to room",e),e&&(yield this.monitorAudioLevels());let t=this.store.subscribe(this.monitorAudioLevels.bind(this),Ss);this.unsubs.push(t)})}stop(){return v(this,null,function*(){this.hasStarted&&(this.hasStarted=!1,this.shouldMonitor=!1,this.unsubs.forEach(e=>e()),ye.d("stopped audio level monitor for remote peers"))})}monitorAudioLevels(){return v(this,null,function*(){if(!this.store.getState(Ss)){this.shouldMonitor&&(ye.i("room no longer connected, stopping audio level monitoring for remote"),this.shouldMonitor=!1);return}if(this.shouldMonitor)return;ye.i("monitoring audio levels"),this.shouldMonitor=!0;let e=()=>{this.shouldMonitor?(this.logAllPeersAudioLevels(),setTimeout(e,this.intervalMs)):ye.i("stopped monitoring audio levels")};setTimeout(e,1e3)})}logAllPeersAudioLevels(){return v(this,null,function*(){var e;if(!window.__triggerBeamEvent__)return;let t=this.store.getState(jp).filter(n=>!!n.audioTrack),r=[];for(let n of t){let i=this.actions.getTrackById(n.audioTrack||""),s=(e=i==null?void 0:i.stream)==null?void 0:e.nativeStream;if(n.joinedAt&&s){let o=yield this.getAudioLevel(n,s);o.level>0&&r.push(o)}}if(r.length>0){let n={event:"app-audio-level",data:r};ye.d("logging audio levels",r),window.__triggerBeamEvent__(JSON.stringify(n))}})}getAudioLevel(e,t){return v(this,null,function*(){this.analysers[t.id]||(this.analysers[t.id]=this.createAnalyserNode(t));let r=this.analysers[t.id],n=this.calculateAudioLevel(r);return{peerId:e.id,peerName:e.name,level:n}})}createAnalyserNode(e){this.audioContext||(this.audioContext=new AudioContext);let t=this.audioContext.createAnalyser();return this.audioContext.createMediaStreamSource(e).connect(t),t}calculateAudioLevel(e){let t=new Uint8Array(e.fftSize);e.getByteTimeDomainData(t);let r=.009,n=r;for(let s of t)n=Math.max(n,(s-128)/128);let i=(Math.log(r)-Math.log(n))/Math.log(r);return Math.ceil(Math.min(Math.max(i*100,0),100))}},n$=class{constructor(e,t,r){this.isRoomJoinCalled=!1,this.ignoredMessageTypes=[],this.setProgress=({type:n,progress:i})=>{this.setState(s=>{s.playlist[n].progress=i,s.playlist[n].currentTime=this.sdk.getPlaylistManager().getCurrentTime(n)},"playlistProgress")},this.syncPlaylistState=n=>{this.setState(i=>{Object.assign(i.playlist,He.convertPlaylist(this.sdk.getPlaylistManager()))},n)},this.sendPeerUpdateNotification=(n,i)=>{let s=this.store.getState(un(i.peerId)),o=sE[n]||"peerUpdate";if(n===8)this.syncRoomState(o),this.updateMidCallPreviewRoomState(n,i);else if([0,1].includes(n))this.syncRoomState(o),s||(s=this.store.getState(un(i.peerId)));else if([12,13,14].includes(n))this.syncRoomState(o),s||(s=this.store.getState(un(i.peerId)));else{let a=He.convertPeer(i);this.setState(l=>{let u=l.peers[a.id];xs(u,a)&&(jr(u.auxiliaryTracks,a.auxiliaryTracks)&&(u.auxiliaryTracks=a.auxiliaryTracks),Object.assign(u,a)),s=a},o)}this.hmsNotifications.sendPeerUpdate(n,s)},this.getSDKHMSPeer=n=>this.sdk.getPeerMap()[n],this.setState=(n,i)=>this.store.namedSetState(n,i),this.store=e,this.sdk=t,this.hmsNotifications=r,this.sessionStore=new t$(this.sdk,this.setSessionStoreValueLocally.bind(this)),this.actionBatcher=new QN(e)}getLocalTrack(e){return this.sdk.store.getLocalPeerTracks().find(t=>t.trackId===e)}get interactivityCenter(){return this.sdk.getInteractivityCenter()}setPlaylistSettings(e){this.sdk.updatePlaylistSettings(e)}refreshDevices(){return v(this,null,function*(){yield this.sdk.refreshDevices()})}unblockAudio(){return v(this,null,function*(){yield this.sdk.getAudioOutput().unblockAutoplay()})}setVolume(e,t){return v(this,null,function*(){t?yield this.setTrackVolume(e,t):(yield this.sdk.getAudioOutput().setVolume(e),this.syncRoomState("setOutputVolume"))})}setAudioOutputDevice(e){return v(this,null,function*(){(yield this.sdk.getAudioOutput().setDevice(e))&&this.setState(t=>{t.settings.audioOutputDeviceId=e},"setAudioOutputDevice")})}setPreferredLayer(e,t){return v(this,null,function*(){var r;let n=this.getTrackById(e);if(n)if(n instanceof Er){if(t==="none"){ye.d("layer none will be ignored");return}if(((r=this.store.getState(UN(e)))==null?void 0:r.preferredLayer)===t){ye.d(`preferred layer is already ${t}`);return}this.setState(i=>{let s=i.tracks[e];s&&(s.preferredLayer=t)},"setPreferredLayer"),yield n.setPreferredLayer(t)}else ye.d(`track ${e} is not a remote video track`);else this.logPossibleInconsistency(`track ${e} not present, unable to set preffer layer`)})}getNativeTrackById(e){var t;return(t=this.sdk.store.getTrackById(e))==null?void 0:t.nativeTrack}getTrackById(e){return this.sdk.store.getTrackById(e)}getAuthTokenByRoomCode(e,t){return this.sdk.getAuthTokenByRoomCode(e,t)}preview(e){return v(this,null,function*(){let t=this.store.getState(Yr);if(t==="Preview"||t==="Connecting"){this.logPossibleInconsistency("attempting to call preview while room is in preview/connecting");return}try{t!=="Connected"&&this.setState(r=>{r.room.roomState="Connecting"},"connecting"),yield this.sdkPreviewWithListeners(e)}catch(r){throw ye.e("Cannot show preview. Failed to connect to room - ",r),r}})}cancelMidCallPreview(){return v(this,null,function*(){return this.sdk.cancelMidCallPreview()})}join(e){return v(this,null,function*(){if(this.isRoomJoinCalled){this.logPossibleInconsistency("room join is called again");return}try{this.isRoomJoinCalled=!0,this.setState(t=>{t.room.roomState="Connecting"},"join"),yield this.sdkJoinWithListeners(e)}catch(t){throw this.isRoomJoinCalled=!1,ye.e("Failed to connect to room - ",t),t}})}leave(){return v(this,null,function*(){let e=this.store.getState(Ss),t=!0;e||(t=!1,this.logPossibleInconsistency("room leave is called when no room is connected"));let r=this.store.getState(Yr);return this.setState(n=>{n.room.roomState="Disconnecting"},"leaving"),this.sdk.leave(t).then(()=>{this.resetState("leave"),this.beamSpeakerLabelsLogger&&this.beamSpeakerLabelsLogger.stop().catch(ye.e),ye.i("left room")}).catch(n=>{ye.e("error in leaving room - ",n),this.setState(i=>{i.room.roomState=r},"revertLeave")})})}setScreenShareEnabled(e,t){return v(this,null,function*(){typeof t=="boolean"&&(t={audioOnly:t});try{e?yield this.startScreenShare(t):yield this.stopScreenShare()}catch(r){throw this.hmsNotifications.sendError(He.convertException(r)),r}})}addTrack(e,t="regular"){return v(this,null,function*(){yield this.sdk.addTrack(e,t),this.syncRoomState("addTrack")})}removeTrack(e){return v(this,null,function*(){yield this.sdk.removeTrack(e),this.syncRoomState("removeTrack")})}setLocalAudioEnabled(e){return v(this,null,function*(){let t=this.store.getState(pn);t&&(yield this.setEnabledTrack(t,e))})}setLocalVideoEnabled(e){return v(this,null,function*(){let t=this.store.getState(Nr);t&&(yield this.setEnabledTrack(t,e))})}setEnabledTrack(e,t){return v(this,null,function*(){var r;if(((r=this.store.getState().tracks[e])==null?void 0:r.enabled)===t){this.logPossibleInconsistency(`local track[${e}] enabled state - ${t}`);return}this.setState(i=>{i.tracks[e]?i.tracks[e].displayEnabled=t:this.logPossibleInconsistency("track id not found for setEnabled")},"displayEnabled");try{yield this.setEnabledSDKTrack(e,t),this.syncRoomState("setEnabled")}catch(i){throw this.setState(s=>{s.tracks[e].displayEnabled=!t},"rollbackDisplayEnabled"),this.hmsNotifications.sendError(He.convertException(i)),i}let n=t?3:2;this.hmsNotifications.sendTrackUpdate(n,e)})}setAudioSettings(e){return v(this,null,function*(){let t=this.store.getState(pn);t&&(yield this.setSDKLocalAudioTrackSettings(t,e),this.syncRoomState("setAudioSettings"))})}setVideoSettings(e){return v(this,null,function*(){let t=this.store.getState(Nr);t&&(yield this.setSDKLocalVideoTrackSettings(t,e),this.syncRoomState("setVideoSettings"))})}switchCamera(){return v(this,null,function*(){let e=this.store.getState(Nr);if(e){let t=this.sdk.store.getLocalPeerTracks().find(r=>r.trackId===e);t&&(yield t.switchCamera(),this.syncRoomState("switchCamera"))}})}sendMessage(e){this.sendBroadcastMessage(e)}sendBroadcastMessage(e,t){return v(this,null,function*(){let{message_id:r,timestamp:n}=yield this.sdk.sendBroadcastMessage(e,t);this.updateMessageInStore({message:e,type:t,id:r,time:n})})}sendGroupMessage(e,t,r){return v(this,null,function*(){let n=this.store.getState(Ds),i=t.map(a=>n[a]),{message_id:s,timestamp:o}=yield this.sdk.sendGroupMessage(e,i,r);this.updateMessageInStore({message:e,recipientRoles:t,type:r,id:s,time:o})})}sendDirectMessage(e,t,r){return v(this,null,function*(){let{message_id:n,timestamp:i}=yield this.sdk.sendDirectMessage(e,t,r);this.updateMessageInStore({message:e,recipientPeer:t,type:r,id:n,time:i})})}updateMessageInStore(e){var t;if(!e.message)throw ye.w("sendMessage","Failed to send message",e),Error(`sendMessage Failed - ${JSON.stringify(e)}`);if(e.type&&this.ignoredMessageTypes.includes(e.type))return;let r=this.sdk.getLocalPeer(),n={read:!0,id:e.id,time:new Date(e.time),message:e.message,type:e.type||"chat",recipientPeer:e.recipientPeer,recipientRoles:e.recipientRoles,senderName:r==null?void 0:r.name,sender:r==null?void 0:r.peerId,senderRole:(t=r==null?void 0:r.role)==null?void 0:t.name,ignored:!1};this.setState(i=>{i.messages.byID[n.id]=n,i.messages.allIDs.push(n.id)},"newMessage")}setMessageRead(e,t){this.setState(r=>{t?r.messages.byID[t]?r.messages.byID[t].read=e:this.logPossibleInconsistency("no message with id is found"):r.messages.allIDs.forEach(n=>{r.messages.byID[n].read=e})},"setMessageRead")}attachVideo(e,t){return v(this,null,function*(){if(this.localAndVideoUnmuting(e))return new Promise(r=>{let n=this.store.subscribe(i=>v(this,null,function*(){i&&(yield this.attachVideoInternal(e,t),n(),r())}),jv)});yield this.attachVideoInternal(e,t)})}detachVideo(e,t){return v(this,null,function*(){let r=this.getTrackById(e);(r==null?void 0:r.type)==="video"?yield this.sdk.detachVideo(r,t):(t&&(t.srcObject=null),ye.d("possible inconsistency detected - no video track found to remove sink"))})}addPluginToVideoTrack(e,t){return v(this,null,function*(){return this.addRemoveVideoPlugin(e,"add",t)})}addPluginsToVideoStream(e){return v(this,null,function*(){return this.addRemoveMediaStreamVideoPlugins(e,"add")})}removePluginsFromVideoStream(e){return v(this,null,function*(){return this.addRemoveMediaStreamVideoPlugins(e,"remove")})}addPluginToAudioTrack(e){return v(this,null,function*(){return this.addRemoveAudioPlugin(e,"add")})}validateVideoPluginSupport(e){let t={};if(t.isSupported=!1,!e)return ye.w("no plugin passed in for checking support"),t.errMsg="no plugin passed in for checking support",t;let r=this.store.getState(Nr);if(!r)return ye.w("video Track not added to local peer yet"),t.errMsg="call this function only after local peer has video track",t;let n=this.getTrackById(r);return n?t=n.validatePlugin(e):(ye.w(`track ${r} not present, unable to validate plugin`),t.errMsg=`track ${r} not present, unable to validate plugin`),t}validateAudioPluginSupport(e){let t={};if(t.isSupported=!1,!e)return ye.w('no plugin passed in for checking support"'),t.errMsg='no plugin passed in for checking support"',t;let r=this.store.getState(pn);if(!r)return ye.w("audio track not added to local peer yet"),t.errMsg="call this function only after local peer has audio track",t;let n=this.getTrackById(r);return n?t=n.validatePlugin(e):(ye.w(`track ${r} not present, unable to validate plugin`),t.errMsg=`track ${r} not present, unable to validate plugin`),t}removePluginFromVideoTrack(e){return v(this,null,function*(){return this.addRemoveVideoPlugin(e,"remove")})}removePluginFromAudioTrack(e){return v(this,null,function*(){return this.addRemoveAudioPlugin(e,"remove")})}changeRole(e,t,r=!1){return v(this,null,function*(){yield this.sdk.changeRoleOfPeer(e,t,r)})}changeRoleOfPeer(e,t,r=!1){return v(this,null,function*(){yield this.sdk.changeRoleOfPeer(e,t,r)})}changeRoleOfPeersWithRoles(e,t){return v(this,null,function*(){let r=this.sdk.getRoles().filter(n=>e.includes(n.name));yield this.sdk.changeRoleOfPeersWithRoles(r,t)})}acceptChangeRole(e){return v(this,null,function*(){let t=e.requestedBy?this.getSDKHMSPeer(e.requestedBy.id):void 0;t||ye.w(`peer for which role change is requested no longer available - ${e.requestedBy}`);let r={requestedBy:t,role:e.role,token:e.token};yield this.sdk.acceptChangeRole(r),this.removeRoleChangeRequest(e)})}raiseLocalPeerHand(){return v(this,null,function*(){yield this.sdk.raiseLocalPeerHand()})}lowerLocalPeerHand(){return v(this,null,function*(){yield this.sdk.lowerLocalPeerHand()})}raiseRemotePeerHand(e){return v(this,null,function*(){yield this.sdk.raiseRemotePeerHand(e)})}lowerRemotePeerHand(e){return v(this,null,function*(){yield this.sdk.lowerRemotePeerHand(e)})}getPeer(e){return v(this,null,function*(){let t=yield this.sdk.getPeer(e);if(t)return He.convertPeer(t)})}getPeerListIterator(e){let t=this.sdk.getPeerListIterator(e);return{hasNext:()=>t.hasNext(),next:()=>v(this,null,function*(){return(yield t.next()).map(r=>He.convertPeer(r))}),findPeers:()=>v(this,null,function*(){return(yield t.findPeers()).map(r=>He.convertPeer(r))}),getTotal:()=>t.getTotal()}}initAppData(e){this.setState(t=>{t.appData=e},"initAppData")}setAppData(e,t,r){let n=(t==null?void 0:t.constructor.name)==="Object";this.setState(i=>{if(i.appData)r&&n?Object.assign(i.appData[e],t):i.appData[e]=t;else{let s={[e]:t};i.appData=s}},`setAppData-${e}`)}rejectChangeRole(e){this.removeRoleChangeRequest(e)}endRoom(e,t){return v(this,null,function*(){let r=this.store.getState(IN);if(!(r!=null&&r.endRoom)){ye.w("You are not allowed to perform this action - endRoom");return}let n=this.store.getState(Yr);this.setState(i=>{i.room.roomState="Disconnecting"},"endingRoom");try{yield this.sdk.endRoom(e,t),this.resetState("endRoom")}catch(i){ye.e("error in ending room - ",i),this.setState(s=>{s.room.roomState=n},"revertEndRoom")}})}removePeer(e,t){return v(this,null,function*(){var r;let n=(r=this.sdk.getLocalPeer())==null?void 0:r.peerId;e!==n&&(yield this.sdk.removePeer(e,t))})}startRTMPOrRecording(e){return v(this,null,function*(){yield this.sdk.startRTMPOrRecording(e)})}stopRTMPAndRecording(){return v(this,null,function*(){yield this.sdk.stopRTMPAndRecording()})}startHLSStreaming(e){return v(this,null,function*(){yield this.sdk.startHLSStreaming(e)})}stopHLSStreaming(e){return v(this,null,function*(){yield this.sdk.stopHLSStreaming(e)})}startTranscription(e){return v(this,null,function*(){yield this.sdk.startTranscription(e)})}stopTranscription(e){return v(this,null,function*(){yield this.sdk.stopTranscription(e)})}sendHLSTimedMetadata(e){return v(this,null,function*(){yield this.sdk.sendHLSTimedMetadata(e)})}changeName(e){return v(this,null,function*(){yield this.sdk.changeName(e)})}changeMetadata(e){return v(this,null,function*(){typeof e!="string"&&(e=JSON.stringify(e)),yield this.sdk.changeMetadata(e)})}setSessionMetadata(e){return v(this,null,function*(){yield this.sdk.setSessionMetadata(e),this.setState(t=>{t.sessionMetadata=e},"setSessionMetadata"),this.setSessionStoreValueLocally({key:"default",value:e},"setSessionMetadata")})}populateSessionMetadata(){return v(this,null,function*(){let e=yield this.sdk.getSessionMetadata();this.setState(t=>{t.sessionMetadata=e},"populateSessionMetadata"),this.setSessionStoreValueLocally({key:"default",value:e},"populateSessionmetadata")})}setRemoteTrackEnabled(e,t){return v(this,null,function*(){if(typeof e=="string"){let r=this.getTrackById(e);r&&YN(r)?yield this.sdk.changeTrackState(r,t):this.logPossibleInconsistency(`No remote track with ID ${e} found for change track state`)}else Array.isArray(e)&&e.forEach(r=>this.setRemoteTrackEnabled(r,t))})}setRemoteTracksEnabled(e){return v(this,null,function*(){let t={enabled:e.enabled,type:e.type,source:e.source};if(e.roles){let r=this.store.getState(Ds);t.roles=e.roles.map(n=>r[n])}yield this.sdk.changeMultiTrackState(t)})}setLogLevel(e){ye.level=e,this.sdk.setLogLevel(e)}setFrameworkInfo(e){this.sdk.setFrameworkInfo(e)}ignoreMessageTypes(e,t=!1){if(t)this.ignoredMessageTypes=e;else for(let r of e)this.ignoredMessageTypes.includes(r)||this.ignoredMessageTypes.push(r)}enableBeamSpeakerLabelsLogging(){return v(this,null,function*(){this.beamSpeakerLabelsLogger||(ye.i("enabling beam speaker labels logging"),this.beamSpeakerLabelsLogger=new r$(this.store,this),yield this.beamSpeakerLabelsLogger.start())})}resetState(e="resetState"){this.isRoomJoinCalled=!1,ye.cleanup(),this.setState(t=>{Object.assign(t,wk())},e)}sdkJoinWithListeners(e){return v(this,null,function*(){yield this.sdk.join(e,{onJoin:this.onJoin.bind(this),onPreview:this.onPreview.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this),onTrackUpdate:this.onTrackUpdate.bind(this),onMessageReceived:this.onMessageReceived.bind(this),onError:this.onError.bind(this),onReconnected:this.onReconnected.bind(this),onReconnecting:this.onReconnecting.bind(this),onRoleChangeRequest:this.onRoleChangeRequest.bind(this),onRoleUpdate:this.onRoleUpdate.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onChangeTrackStateRequest:this.onChangeTrackStateRequest.bind(this),onChangeMultiTrackStateRequest:this.onChangeMultiTrackStateRequest.bind(this),onRemovedFromRoom:this.onRemovedFromRoom.bind(this),onNetworkQuality:this.onNetworkQuality.bind(this),onSessionStoreUpdate:this.onSessionStoreUpdate.bind(this),onPollsUpdate:this.onPollsUpdate.bind(this),onWhiteboardUpdate:this.onWhiteboardUpdate.bind(this)}),this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)}),this.sdk.addConnectionQualityListener({onConnectionQualityUpdate:this.onConnectionQualityUpdate.bind(this)})})}onRemovedFromRoom(e){var t;let r=this.store.getState(un((t=e.requestedBy)==null?void 0:t.peerId));this.hmsNotifications.sendLeaveRoom(be(Y({},e),{requestedBy:r||void 0}));let n=e.roomEnded||!r?"roomEnded":"removedFromRoom";ye.i(`resetting state after peer removed ${n}`,e),this.resetState(n)}onDeviceChange(e){let t=e.devices;if(!t)return;let r=this.store.getState(Cr);if(this.setState(n=>{jr(n.devices.audioInput,t.audioInput)||(n.devices.audioInput=t.audioInput),jr(n.devices.videoInput,t.videoInput)||(n.devices.videoInput=t.videoInput),jr(n.devices.audioOutput,t.audioOutput)||(n.devices.audioOutput=t.audioOutput);let i=this.sdk.getLocalPeer();r!=null&&r.id&&i&&Object.assign(n.settings,this.getMediaSettings(i))},"deviceChange"),e.selection){let n=He.convertDeviceChangeUpdate(e);this.hmsNotifications.sendDeviceChange(n)}}sdkPreviewWithListeners(e){return v(this,null,function*(){yield this.sdk.preview(e,{onPreview:this.onPreview.bind(this),onError:this.onError.bind(this),onReconnected:this.onReconnected.bind(this),onReconnecting:this.onReconnecting.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this),onNetworkQuality:this.onNetworkQuality.bind(this)}),this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)})})}onNetworkQuality(e){this.setState(t=>{var r;let n=t.room.localPeer||((r=this.sdk.getLocalPeer())==null?void 0:r.peerId);n&&(t.connectionQualities[n]={peerID:n,downlinkQuality:e})},"ConnectionQuality")}onSessionStoreUpdate(e){this.setSessionStoreValueLocally(e,"sessionStoreUpdate")}onPollsUpdate(e,t){let r=oE[e];this.setState(n=>{let i=t.reduce((s,o)=>{var a;return s[o.id]=be(Y({},o),{questions:(a=o.questions)==null?void 0:a.map(l=>{var u,c;return be(Y({},l),{answer:l.answer?Y({},l.answer):void 0,options:(u=l.options)==null?void 0:u.map(d=>Y({},d)),responses:(c=l.responses)==null?void 0:c.map(d=>Y({},d))})})}),s},{});ZN(n.polls,i)},r),t.forEach(n=>this.hmsNotifications.sendPollUpdate(e,n.id))}onWhiteboardUpdate(e){this.setState(t=>{t.whiteboards[e.id]=e},"whiteboardUpdate")}startScreenShare(e){return v(this,null,function*(){this.store.getState(Uv)?this.logPossibleInconsistency("start screenshare is called while it's on"):(yield this.sdk.startScreenShare(()=>this.syncRoomState("screenshareStopped"),e),this.syncRoomState("startScreenShare"))})}stopScreenShare(){return v(this,null,function*(){this.store.getState(Uv)?(yield this.sdk.stopScreenShare(),this.syncRoomState("stopScreenShare")):this.logPossibleInconsistency("stop screenshare is called while it's not on")})}attachVideoInternal(e,t){return v(this,null,function*(){let r=this.getTrackById(e);r||(r=this.getLocalTrack(e)),r&&r.type==="video"?yield this.sdk.attachVideo(r,t):this.logPossibleInconsistency("no video track found to add sink")})}syncRoomState(e){e=`${e}_fullSync`,ye.time(`store-sync-${e}`);let t={},r=[],n={},i={},s={},o,a=this.sdk.getPeers();for(let h of a){let f=He.convertPeer(h);t[f.id]=f,r.push(f.id),s[f.id]={peerID:f.id,downlinkQuality:h.networkQuality||-1};let m=[h.audioTrack,h.videoTrack,...h.auxiliaryTracks];for(let p of m){if(!p)continue;let k=He.convertTrack(p);n[k.id]=k}if(h.isLocal){let p=h;o=this.getPreviewFields(p),Object.assign(i,this.getMediaSettings(p))}}let l=this.sdk.getRecordingState(),u=this.sdk.getRTMPState(),c=this.sdk.getHLSState(),d=this.sdk.getTranscriptionState();this.setState(h=>{var f;h.room.peers=r;let m=h.peers,p=h.tracks;JN(m,t),XN(p,n),Object.assign(h.settings,i),h.room.isConnected&&Object.assign(h.connectionQualities,s),(f=h.preview)!=null&&f.localPeer&&o!=null&&o.localPeer?Object.assign(h.preview,o):h.preview=o,Object.assign(h.roles,He.convertRoles(this.sdk.getRoles())),Object.assign(h.playlist,He.convertPlaylist(this.sdk.getPlaylistManager())),Object.assign(h.room,He.convertRecordingStreamingState(l,u,c,d)),Object.assign(h.templateAppData,this.sdk.getTemplateAppData())},e),ye.timeEnd(`store-sync-${e}`)}onPreview(e){this.setState(t=>{var r;Object.assign(t.room,He.convertRoom(e,(r=this.sdk.getLocalPeer())==null?void 0:r.peerId)),t.room.roomState="Preview"},"previewStart"),this.syncRoomState("previewSync")}onJoin(e){let t=this.sdk.getPlaylistManager();this.audioPlaylist=new zv(t,"audio",this.syncPlaylistState.bind(this),this.store),this.videoPlaylist=new zv(t,"video",this.syncRoomState.bind(this),this.store),this.syncRoomState("joinSync"),this.setState(r=>{var n;Object.assign(r.room,He.convertRoom(e,(n=this.sdk.getLocalPeer())==null?void 0:n.peerId)),r.room.isConnected=!0,r.room.roomState="Connected"},"joined"),t.onProgress(this.setProgress),t.onNewTrackStart(r=>{this.syncPlaylistState(`${r.type}PlaylistUpdate`)}),t.onPlaylistEnded(r=>{this.syncPlaylistState(`${r}PlaylistEnded`)}),t.onCurrentTrackEnded(r=>{this.hmsNotifications.sendPlaylistTrackEnded(He.convertPlaylistItem(t,r)),this.syncPlaylistState(`${r.type}PlaylistItemEnded`)})}onRoomUpdate(e,t){this.setState(r=>{var n;Object.assign(r.room,He.convertRoom(t,(n=this.sdk.getLocalPeer())==null?void 0:n.peerId))},e)}onPeerUpdate(e,t){if(![4,5].includes(e)){if(Array.isArray(t)){let r=this.store.getState(Ar),n=t.filter(i=>!r[i.peerId]);if(this.syncRoomState("peersJoined"),this.store.getState(Ss)){let i=[];for(let s of t){let o=this.store.getState(un(s.peerId));o&&i.push(o)}this.hmsNotifications.sendPeerList(i)}else n.forEach(i=>{let s=this.store.getState(un(i.peerId));s&&this.hmsNotifications.sendPeerUpdate(0,s)});return}this.sendPeerUpdateNotification(e,t)}}onTrackUpdate(e,t,r){if(e===1)this.hmsNotifications.sendTrackUpdate(e,t.trackId),this.handleTrackRemove(t,r);else if([0,1].includes(e)){let n=jh[e];this.syncRoomState(n),this.hmsNotifications.sendTrackUpdate(e,t.trackId)}else{let n=jh[e]||"trackUpdate",i=He.convertTrack(t);this.setState(s=>{let o=s.tracks[i.id];xs(o,i)&&(aE(o,i),Object.assign(o,i))},n),this.hmsNotifications.sendTrackUpdate(e,t.trackId)}}onMessageReceived(e){let t=He.convertMessage(e,this.store.getState(Ts));t.read=!1,t.ignored=this.ignoredMessageTypes.includes(t.type),t.type==="hms_transcript"&&(t.ignored=!0),this.putMessageInStore(t),this.hmsNotifications.sendMessageReceived(t)}putMessageInStore(e){e.ignored||this.actionBatcher.setState(t=>{t.messages.byID[e.id]=e,t.messages.allIDs.push(e.id)},"newMessage",150)}onAudioLevelUpdate(e){this.setState(t=>{let r={};e.forEach(i=>{if(!i.track||!i.peer)return;let s=i.track.trackId;r[s]=i.audioLevel,t.speakers[s]||(t.speakers[s]={audioLevel:i.audioLevel,peerID:i.peer.peerId,trackID:s})});let n=Object.entries(t.speakers);for(let[i,s]of n)s.audioLevel=r[i]||0,s.audioLevel===0&&delete t.speakers[i]},"audioLevel")}onConnectionQualityUpdate(e){this.setState(t=>{e.forEach(r=>{let n=r.peerID;n&&(t.connectionQualities[n]?Object.assign(t.connectionQualities[n],r):t.connectionQualities[n]=r)})},"connectionQuality")}onChangeTrackStateRequest(e){var t;let r=this.store.getState(un((t=e.requestedBy)==null?void 0:t.peerId)),n=this.getStoreLocalTrackIDfromSDKTrack(e.track),i=this.store.getState(nE(n));if(!i)return this.logPossibleInconsistency(`Not found track for which track state change was requested, ${e.track}`);e.enabled||this.syncRoomState("changeTrackStateRequest"),this.hmsNotifications.sendChangeTrackStateRequest({requestedBy:r||void 0,track:i,enabled:e.enabled})}onChangeMultiTrackStateRequest(e){var t;let r=this.store.getState(un((t=e.requestedBy)==null?void 0:t.peerId));e.enabled||this.syncRoomState("changeMultiTrackStateRequest");let n=[],i=this.store.getState(it);for(let s of e.tracks){let o=this.getStoreLocalTrackIDfromSDKTrack(s);o&&i[o]&&n.push(i[o])}this.hmsNotifications.sendChangeMultiTrackStateRequest({requestedBy:r||void 0,tracks:n,enabled:e.enabled,type:e.type,source:e.source})}onReconnected(){this.syncRoomState("reconnectedSync"),this.hmsNotifications.sendReconnected(),this.setState(e=>{e.room.roomState=e.room.isConnected?"Connected":"Preview"},"reconnected")}onReconnecting(e){let t=He.convertException(e);ye.e("Reconnection: received error from sdk",t),this.hmsNotifications.sendReconnecting(t),this.setState(r=>{r.room.roomState="Reconnecting",r.errors.push(t)},"reconnecting")}onError(e){let t=He.convertException(e);t.isTerminal?(this.leave().then(()=>ye.e("error from SDK, left room.")),this.setState(r=>{r.room.roomState="Failed",r.errors.push(t)},"errorTerminal")):this.store.getState().errors.length<50&&this.setState(r=>{r.errors.push(t)},"error"),this.syncRoomState("errorSync"),this.hmsNotifications.sendError(t),ye.e("received error from sdk",t instanceof ae?`${t}`:t)}handleTrackRemove(e,t){this.setState(r=>{let n=r.peers[t.peerId],i=r.tracks,s=e.trackId;if(n)if(s===n.audioTrack)delete n.audioTrack;else if(s===n.videoTrack)delete n.videoTrack;else{let o=n.auxiliaryTracks.indexOf(s);o>-1&&n.auxiliaryTracks.splice(o,1)}delete i[s]},"trackRemoved")}setEnabledSDKTrack(e,t){return v(this,null,function*(){let r=this.getLocalTrack(e);r?yield r.setEnabled(t):this.logPossibleInconsistency(`track ${e} not present, unable to enabled/disable`)})}setSDKLocalVideoTrackSettings(e,t){return v(this,null,function*(){let r=this.getLocalTrack(e);r?yield r.setSettings(t):this.logPossibleInconsistency(`local track ${e} not present, unable to set settings`)})}setSDKLocalAudioTrackSettings(e,t){return v(this,null,function*(){let r=this.getLocalTrack(e);r?yield r.setSettings(t):this.logPossibleInconsistency(`local track ${e} not present, unable to set settings`)})}getMediaSettings(e){var t;let r=this.store.getState(vN),n=e.audioTrack,i=e.videoTrack;return{audioInputDeviceId:(n==null?void 0:n.settings.deviceId)||r.audioInputDeviceId,videoInputDeviceId:(i==null?void 0:i.settings.deviceId)||r.videoInputDeviceId,audioOutputDeviceId:(t=this.sdk.getAudioOutput().getDevice())==null?void 0:t.deviceId}}getPreviewFields(e){var t,r;if(!e.isInPreview())return;let n=He.convertPeer(e);return{localPeer:n.id,audioTrack:n.audioTrack,videoTrack:n.videoTrack,asRole:((t=e.asRole)==null?void 0:t.name)||((r=e.role)==null?void 0:r.name)}}setTrackVolume(e,t){return v(this,null,function*(){let r=this.getTrackById(t);r?r instanceof Dp?(yield r.setVolume(e),this.setState(n=>{let i=n.tracks[t];i&&i.type==="audio"&&(i.volume=e)},"trackVolume")):ye.w(`track ${t} is not an audio track`):this.logPossibleInconsistency(`track ${t} not present, unable to set volume`)})}localAndVideoUnmuting(e){let t=this.store.getState(Cr);if((t==null?void 0:t.videoTrack)!==e)return!1;let r=this.store.getState(_N),n=this.store.getState(jv);return r&&!n}logPossibleInconsistency(e){ye.w("possible inconsistency detected - ",e)}addRemoveVideoPlugin(e,t,r){return v(this,null,function*(){if(!e){ye.w("Invalid plugin received in store");return}let n=this.store.getState(Nr);if(n){let i=this.getLocalTrack(n);i?(t==="add"?yield i.addPlugin(e,r):t==="remove"&&(yield i.removePlugin(e)),this.syncRoomState(`${t}VideoPlugin`)):this.logPossibleInconsistency(`track ${n} not present, unable to ${t} plugin`)}})}addRemoveMediaStreamVideoPlugins(e,t){return v(this,null,function*(){if(e.length===0){ye.w("Invalid plugin received in store");return}let r=this.store.getState(Nr);if(r){let n=this.getLocalTrack(r);n?(t==="add"?yield n.addStreamPlugins(e):t==="remove"&&(yield n.removeStreamPlugins(e)),this.syncRoomState(`${t}MediaStreamPlugin`)):this.logPossibleInconsistency(`track ${r} not present, unable to ${t} plugin`)}})}addRemoveAudioPlugin(e,t){return v(this,null,function*(){if(!e){ye.w("Invalid plugin received in store");return}let r=this.store.getState(pn);if(r){let n=this.getLocalTrack(r);n?(t==="add"?yield n.addPlugin(e):t==="remove"&&(yield n.removePlugin(e)),this.syncRoomState(`${t}AudioPlugin`)):this.logPossibleInconsistency(`track ${r} not present, unable to ${t} plugin`)}})}onRoleChangeRequest(e){this.setState(t=>{t.roleChangeRequests.length===0&&t.roleChangeRequests.push(He.convertRoleChangeRequest(e))},"roleChangeRequest")}removeRoleChangeRequest(e){this.setState(t=>{let r=t.roleChangeRequests.findIndex(n=>n.token===e.token);r!==-1&&t.roleChangeRequests.splice(r,1)},"removeRoleChangeRequest")}onRoleUpdate(){this.syncRoomState("roleUpdate")}getStoreLocalTrackIDfromSDKTrack(e){return this.store.getState(bN).find(t=>{var r;return((r=this.getTrackById(t))==null?void 0:r.trackId)===e.trackId})}updateMidCallPreviewRoomState(e,t){t.isLocal&&e===8&&this.store.getState(CN)&&this.setState(r=>{r.room.roomState="Connected"},"midCallPreviewCompleted")}setSessionStoreValueLocally(e,t="setSessionStore"){let r=Array.isArray(e)?e:[e];this.setState(n=>{r.forEach(i=>{n.sessionStore[i.key]=i.value})},t)}},lE=e=>Kt?`${e} ${document.title}`:e,i$=class{constructor(e){this.recording={server:{running:!1},browser:{running:!1},hls:{running:!1}},this.rtmp={running:!1},this.hls={running:!1,variants:[]},this.transcriptions=[],this.id=e}},s$=class{constructor(e,t){this.eventBus=e,this.listener=t,this.TAG="[NetworkTestManager]",this.controller=new AbortController,this.start=r=>v(this,null,function*(){var n;if(!r)return;let{url:i,timeout:s,scoreMap:o}=r,a=this.controller.signal,l=Date.now(),u=0,c=ei(s).then(()=>{this.controller.abort()});try{let d=(n=(yield fetch(`${i}?${Date.now()}`,{signal:a})).body)==null?void 0:n.getReader();if(!d)throw Error("unable to process request");let h=()=>v(this,null,function*(){if(d)try{let f=!1;for(;!f;){let{value:m,done:p}=yield d.read();f=p,m&&(u+=m.byteLength,this.sendScore({scoreMap:o,downloadedSize:u,startTime:l}))}}catch(f){f.name!=="AbortError"&&E.d(this.TAG,f)}});return Promise.race([h(),c]).then(()=>{this.sendScore({scoreMap:o,downloadedSize:u,startTime:l,finished:!0})}).catch(f=>{E.d(this.TAG,f),this.updateScoreToListener(0),this.eventBus.analytics.publish(Se.previewNetworkQuality({error:f.message}))})}catch(d){d.name!=="AbortError"?(E.d(this.TAG,d),this.updateScoreToListener(0),this.eventBus.analytics.publish(Se.previewNetworkQuality({error:d.message}))):E.d(this.TAG,d)}}),this.stop=()=>{this.controller.signal.aborted||this.controller.abort()},this.sendScore=({scoreMap:r,downloadedSize:n,startTime:i,finished:s=!1})=>{let o=(Date.now()-i)/1e3,a=n/1024/o*8,l=-1;for(let u in r){let c=r[u];a>=c.low&&(!c.high||a<=c.high)&&(l=Number(u))}this.updateScoreToListener(l),s&&this.eventBus.analytics.publish(Se.previewNetworkQuality({score:l,downLink:a.toFixed(2)}))}}updateScoreToListener(e){var t,r;e!==this.score&&(this.score=e,(r=(t=this.listener)==null?void 0:t.onNetworkQuality)==null||r.call(t,e))}},o$=class{constructor(e,t,r,n,i,s){this.store=e,this.transport=t,this.deviceManager=r,this.publish=n,this.removeAuxiliaryTrack=i,this.listener=s,this.handleLocalPeerRoleUpdate=o=>v(this,[o],function*({oldRole:a,newRole:l}){var u;let c=this.store.getLocalPeer();c&&(yield this.diffRolesAndPublishTracks({oldRole:a,newRole:l}),(u=this.listener)==null||u.onPeerUpdate(8,c))}),this.diffRolesAndPublishTracks=o=>v(this,[o],function*({oldRole:a,newRole:l}){var u,c,d,h,f,m;let p=new Set(a.publishParams.allowed),k=new Set(l.publishParams.allowed),T=this.removeTrack(p,k,"video"),y=this.removeTrack(p,k,"audio"),S=this.removeTrack(p,k,"screen"),w=this.hasSimulcastDifference((u=a.publishParams.simulcast)==null?void 0:u.video,(c=l.publishParams.simulcast)==null?void 0:c.video),F=this.hasSimulcastDifference((d=a.publishParams.simulcast)==null?void 0:d.screen,(h=l.publishParams.simulcast)==null?void 0:h.screen),U=(m=(f=this.store.getLocalPeer())==null?void 0:f.videoTrack)==null?void 0:m.enabled;yield this.removeAudioTrack(y),yield this.removeVideoTracks(T||w),yield this.removeScreenTracks(S||F);let L=this.getSettings();w&&(L.isVideoMuted=!U),yield this.publish(L),yield this.syncDevices(L,l)})}syncDevices(e,t){return v(this,null,function*(){(!e.isAudioMuted||!e.isVideoMuted)&&t.publishParams.allowed.length>0&&(yield this.deviceManager.init(!0))})}removeVideoTracks(e){return v(this,null,function*(){var t;if(!e)return;let r=this.store.getLocalPeer();r!=null&&r.videoTrack&&(r.videoTrack.isPublished?yield this.transport.unpublish([r.videoTrack]):yield r.videoTrack.cleanup(),(t=this.listener)==null||t.onTrackUpdate(1,r.videoTrack,r),r.videoTrack=void 0),yield this.removeAuxTracks(n=>n.source!=="screen"&&n.type==="video")})}removeAudioTrack(e){return v(this,null,function*(){var t;if(!e)return;let r=this.store.getLocalPeer();r!=null&&r.audioTrack&&(r.audioTrack.isPublished?yield this.transport.unpublish([r.audioTrack]):yield r.audioTrack.cleanup(),(t=this.listener)==null||t.onTrackUpdate(1,r.audioTrack,r),r.audioTrack=void 0),yield this.removeAuxTracks(n=>n.source!=="screen"&&n.type==="audio")})}removeScreenTracks(e){return v(this,null,function*(){e&&(yield this.removeAuxTracks(t=>t.source==="screen"))})}removeAuxTracks(e){return v(this,null,function*(){let t=this.store.getLocalPeer();if(t!=null&&t.auxiliaryTracks){let r=[...t.auxiliaryTracks];for(let n of r)e(n)&&(yield this.removeAuxiliaryTrack(n.trackId))}})}removeTrack(e,t,r){return e.has(r)&&!t.has(r)}hasSimulcastDifference(e,t){var r,n,i;return!e&&!t?!1:((r=e==null?void 0:e.layers)==null?void 0:r.length)!==((n=t==null?void 0:t.layers)==null?void 0:n.length)?!0:!!((i=e==null?void 0:e.layers)!=null&&i.some(s=>{var o;let a=(o=t==null?void 0:t.layers)==null?void 0:o.find(l=>l.rid===s.rid);return(a==null?void 0:a.maxBitrate)!==s.maxBitrate||(a==null?void 0:a.maxFramerate)!==s.maxFramerate}))}getSettings(){var e,t,r;let n=(e=this.store.getConfig())==null?void 0:e.settings;return{isAudioMuted:(t=n==null?void 0:n.isAudioMuted)!=null?t:!0,isVideoMuted:(r=n==null?void 0:n.isVideoMuted)!=null?r:!0,audioInputDeviceId:(n==null?void 0:n.audioInputDeviceId)||"default",audioOutputDeviceId:(n==null?void 0:n.audioOutputDeviceId)||"default",videoDeviceId:(n==null?void 0:n.videoDeviceId)||"default"}}},a$=class{constructor(){this.TAG="[HTTPAnalyticsTransport]",this.failedEvents=new nc("client-events"),this.isConnected=!0,this.env=null,this.websocketURL=""}setEnv(e){this.env=e,this.flushFailedEvents()}setWebsocketEndpoint(e){this.websocketURL=e}sendEvent(e){if(!this.env){this.addEventToStorage(e);return}let t={event:e.name,payload:e.properties,event_id:String(e.timestamp),peer:e.metadata.peer,timestamp:e.timestamp,device_id:e.device_id,cluster:{websocket_url:this.websocketURL}},r=this.env==="prod"?QM:YM;fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.metadata.token}`,user_agent_v2:e.metadata.userAgent},body:JSON.stringify(t)}).then(n=>{if(n.status===401){this.removeFromStorage(e);return}if(n.status!==200)throw Error(n.statusText);this.removeFromStorage(e)}).catch(n=>{E.v(this.TAG,"Failed to send event",n,e),this.addEventToStorage(e)})}flushFailedEvents(){let e=this.failedEvents.get();e==null||e.forEach(t=>this.sendEvent(t))}addEventToStorage(e){let t=this.failedEvents.get()||[];t.find(r=>r.timestamp===e.timestamp)||(t.length===100&&t.shift(),t.push(e),this.failedEvents.set(t))}removeFromStorage(e){let t=this.failedEvents.get()||[],r=t.findIndex(n=>n.timestamp===e.timestamp);r>-1&&(t.splice(r,1),this.failedEvents.set(t))}},oa=new a$,l$=class{constructor(){this.TAG="[Store]:",this.knownRoles={},this.peers={},this.tracks=new Map,this.peerTrackStates={},this.speakers=[],this.roleDetailsArrived=!1,this.env="prod",this.simulcastEnabled=!1,this.userAgent=Dh(this.env),this.polls=new Map,this.whiteboards=new Map}getConfig(){return this.config}setSimulcastEnabled(e){this.simulcastEnabled=e}getEnv(){return this.env}getPublishParams(){let e=this.getLocalPeer(),t=(e==null?void 0:e.asRole)||(e==null?void 0:e.role);return t==null?void 0:t.publishParams}getRoom(){return this.room}getPolicyForRole(e){return this.knownRoles[e]}getKnownRoles(){return this.knownRoles}getTemplateAppData(){return this.templateAppData}getLocalPeer(){if(this.localPeerId&&this.peers[this.localPeerId])return this.peers[this.localPeerId]}getRemotePeers(){return Object.values(this.peers).filter(e=>!e.isLocal)}getPeers(){return Object.values(this.peers)}getPeerMap(){return this.peers}getPeerById(e){if(this.peers[e])return this.peers[e]}getTracksMap(){return this.tracks}getTracks(){return Array.from(this.tracks.values())}getVideoTracks(){return this.getTracks().filter(e=>e.type==="video")}getRemoteVideoTracks(){return this.getTracks().filter(e=>e instanceof Er)}getAudioTracks(){return this.getTracks().filter(e=>e.type==="audio")}getPeerTracks(e){let t=e?this.peers[e]:void 0,r=[];return t!=null&&t.videoTrack&&r.push(t.videoTrack),t!=null&&t.audioTrack&&r.push(t.audioTrack),r.concat((t==null?void 0:t.auxiliaryTracks)||[])}getLocalPeerTracks(){return this.getPeerTracks(this.localPeerId)}hasTrack(e){return this.tracks.has(e)}getTrackById(e){var t,r;let n=Array.from(this.tracks.values()).find(s=>s.trackId===e);if(n)return n;let i=this.getLocalPeer();if(i){if((t=i.audioTrack)!=null&&t.isPublishedTrackId(e))return i.audioTrack;if((r=i.videoTrack)!=null&&r.isPublishedTrackId(e))return i.videoTrack}}getPeerByTrackId(e){let t=Array.from(this.tracks.values()).find(r=>r.trackId===e);return t!=null&&t.peerId?this.peers[t.peerId]:void 0}getSpeakers(){return this.speakers}getSpeakerPeers(){return this.speakers.map(e=>e.peer)}getUserAgent(){return this.userAgent}createAndSetUserAgent(e){this.userAgent=Dh(this.env,e)}setRoom(e){this.room=e}setKnownRoles(e){var t,r;if(this.knownRoles=e.known_roles,this.addPluginsToRoles(e.plugins),this.roleDetailsArrived=!0,this.templateAppData=e.app_data,!this.simulcastEnabled)return;let n=(t=this.knownRoles[e.name])==null?void 0:t.publishParams;this.videoLayers=this.convertSimulcastLayers((r=n.simulcast)==null?void 0:r.video),this.updatePeersPolicy()}hasRoleDetailsArrived(){return this.roleDetailsArrived}setConfig(e){var t,r,n;if(bn.rememberDevices(!!e.rememberDeviceSelection),e.rememberDeviceSelection){let i=bn.getSelection();i&&(e.settings||(e.settings={}),(t=i.audioInput)!=null&&t.deviceId&&(e.settings.audioInputDeviceId=e.settings.audioInputDeviceId||i.audioInput.deviceId),(r=i.audioOutput)!=null&&r.deviceId&&(e.settings.audioOutputDeviceId=e.settings.audioOutputDeviceId||i.audioOutput.deviceId),(n=i.videoInput)!=null&&n.deviceId&&(e.settings.videoDeviceId=e.settings.videoDeviceId||i.videoInput.deviceId))}e.autoManageVideo=e.autoManageVideo!==!1,e.autoManageWakeLock=e.autoManageWakeLock!==!1,this.config=e,this.setEnv()}addPeer(e){this.peers[e.peerId]=e,e.isLocal&&(this.localPeerId=e.peerId)}addTrack(e){this.tracks.set(e,e)}getTrackState(e){return this.peerTrackStates[e]}setTrackState(e){this.peerTrackStates[e.trackInfo.track_id]=e}removePeer(e){this.localPeerId===e&&(this.localPeerId=void 0),delete this.peers[e]}removeTrack(e){this.tracks.delete(e)}updateSpeakers(e){this.speakers=e}updateAudioOutputVolume(e){return v(this,null,function*(){for(let t of this.getAudioTracks())yield t.setVolume(e)})}updateAudioOutputDevice(e){return v(this,null,function*(){let t=[];this.getAudioTracks().forEach(r=>{r instanceof Ta&&t.push(r.setOutputDevice(e))}),yield Promise.all(t)})}getSimulcastLayers(e){var t;return!this.simulcastEnabled||!["screen","regular"].includes(e)?[]:e==="screen"?[]:((t=this.videoLayers)==null?void 0:t.layers)||[]}convertSimulcastLayers(e){if(e)return be(Y({},e),{layers:(e.layers||[]).map(t=>be(Y({},t),{maxBitrate:t.maxBitrate*1e3}))})}getSimulcastDefinitionsForPeer(e,t){var r,n,i;if([!e||!e.role,t==="screen",!this.simulcastEnabled].some(u=>!!u))return[];let s=this.getPolicyForRole(e.role.name).publishParams,o,a,l;return t==="regular"?(o=(r=s.simulcast)==null?void 0:r.video,a=s.video.width,l=s.video.height):t==="screen"&&(o=(n=s.simulcast)==null?void 0:n.screen,a=s.screen.width,l=s.screen.height),((i=o==null?void 0:o.layers)==null?void 0:i.map(u=>{let c=xM[u.rid],d={width:Math.floor(a/u.scaleResolutionDownBy),height:Math.floor(l/u.scaleResolutionDownBy)};return{layer:c,resolution:d}}))||[]}setPoll(e){this.polls.set(e.id,e)}getPoll(e){return this.polls.get(e)}setWhiteboard(e){this.whiteboards.set(e.id,e)}getWhiteboards(){return this.whiteboards}getWhiteboard(e){return e?this.whiteboards.get(e):this.whiteboards.values().next().value}getErrorListener(){return this.errorListener}cleanup(){let e=this.getTracks();for(let t of e)t.cleanup();this.room=void 0,this.config=void 0,this.localPeerId=void 0,this.roleDetailsArrived=!1}setErrorListener(e){this.errorListener=e}updatePeersPolicy(){this.getPeers().forEach(e=>{var t;if(!e.role){(t=this.errorListener)==null||t.onError(K.GenericErrors.InvalidRole("VALIDATION",""));return}e.role=this.getPolicyForRole(e.role.name)})}addPluginsToRoles(e){if(!e)return;let t=(r,n,i)=>{var s;if(!this.knownRoles[r]){E.d(this.TAG,`role ${r} is not present in given roles`,this.knownRoles);return}let o=this.knownRoles[r].permissions;o[n]||(o[n]=[]),(s=o[n])==null||s.push(i)};Object.keys(e).forEach(r=>{var n,i,s;let o=r;if(!e[o])return;let a=e[o].permissions;(n=a==null?void 0:a.admin)==null||n.forEach(l=>t(l,o,"admin")),(i=a==null?void 0:a.reader)==null||i.forEach(l=>t(l,o,"read")),(s=a==null?void 0:a.writer)==null||s.forEach(l=>t(l,o,"write"))})}setEnv(){var e;let t=((e=this.config)==null?void 0:e.initEndpoint).split("https://")[1],r="prod";t.startsWith("prod")?r="prod":t.startsWith("qa")?r="qa":t.startsWith("dev")&&(r="dev"),this.env=r,oa.setEnv(r)}},u$=class{constructor(){this.TAG="[WakeLockManager]",this.wakeLock=null,this.acquireLock=()=>v(this,null,function*(){yield this.requestWakeLock(),document==null||document.addEventListener("visibilitychange",this.visibilityHandler)}),this.cleanup=()=>v(this,null,function*(){if(this.wakeLock&&!this.wakeLock.released)try{yield this.wakeLock.release(),E.d(this.TAG,"Wake lock released")}catch(e){let t=e;E.w(this.TAG,"Error while releasing wake lock",`name=${t.name}, message=${t.message}`)}this.wakeLock=null}),this.visibilityHandler=()=>v(this,null,function*(){(document==null?void 0:document.visibilityState)==="visible"&&(!this.wakeLock||this.wakeLock.released)&&(E.d(this.TAG,"Re-acquiring wake lock due to visibility change"),yield this.requestWakeLock())}),this.requestWakeLock=()=>v(this,null,function*(){try{if(!("wakeLock"in navigator)){E.d(this.TAG,"Wake lock feature not supported");return}this.wakeLock=yield navigator.wakeLock.request("screen"),E.d(this.TAG,"Wake lock acquired")}catch(e){let t=e;E.w(this.TAG,"Error acquiring wake lock",`name=${t.name}, message=${t.message}`)}})}},c$=class{constructor(e){this.store=e,this.bufferSize=100,this.TAG="[AnalyticsEventsService]",this.transport=null,this.pendingEvents=[],this.level=1}setTransport(e){this.transport=e}reset(){this.transport=null,this.pendingEvents=[]}queue(e){if(e.level>=this.level&&(this.pendingEvents.push(e),this.pendingEvents.length>this.bufferSize)){let t=this.pendingEvents.shift();E.d(this.TAG,"Max buffer size reached","Removed event to accommodate new events",t)}return this}flushFailedClientEvents(){oa.flushFailedEvents()}flush(){var e;try{for(;this.pendingEvents.length>0;){let t=this.pendingEvents.shift();t&&(t.metadata.peer.peer_id=(e=this.store.getLocalPeer())==null?void 0:e.peerId,t.metadata.userAgent=this.store.getUserAgent(),this.transport&&this.transport.transportProvider.isConnected?this.transport.sendEvent(t):this.sendClientEventOnHTTP(t))}}catch(t){E.w(this.TAG,"Flush Failed",t)}}sendClientEventOnHTTP(e){var t,r,n,i;let s=this.store.getRoom(),o=this.store.getLocalPeer();e.metadata.token=(t=this.store.getConfig())==null?void 0:t.authToken,e.metadata.peer={session_id:s==null?void 0:s.sessionId,room_id:s==null?void 0:s.id,room_name:s==null?void 0:s.name,template_id:s==null?void 0:s.templateId,joined_at:(r=s==null?void 0:s.joinedAt)==null?void 0:r.getTime(),session_started_at:(n=s==null?void 0:s.startedAt)==null?void 0:n.getTime(),role:(i=o==null?void 0:o.role)==null?void 0:i.name,user_name:o==null?void 0:o.name,user_data:o==null?void 0:o.metadata,peer_id:o==null?void 0:o.peerId},oa.sendEvent(e)}},Vv={autoplayFailed:void 0,initialized:!1,autoplayCheckPromise:void 0},d$=class{constructor(e,t,r){this.store=e,this.deviceManager=t,this.eventBus=r,this.autoPausedTracks=new Set,this.TAG="[AudioSinkManager]:",this.volume=100,this.state=Y({},Vv),this.timer=null,this.autoUnpauseTimer=null,this.earpieceSelected=!1,this.handleAudioPaused=n=>v(this,null,function*(){E.d(this.TAG,"Audio Paused",n.target.id);let i=this.store.getTrackById(n.target.id);i&&this.autoPausedTracks.add(i)}),this.handleTrackUpdate=({track:n})=>{E.d(this.TAG,"Track updated",`${n}`)},this.handleTrackAdd=n=>v(this,[n],function*({track:i,peer:s,callListener:o=!0}){var a,l;let u=document.createElement("audio");u.style.display="none",u.id=i.trackId,u.addEventListener("pause",this.handleAudioPaused),u.onerror=()=>v(this,null,function*(){var c,d;E.e(this.TAG,"error on audio element",u.error);let h=K.TracksErrors.AudioPlaybackError(`Audio playback error for track - ${i.trackId} code - ${(c=u==null?void 0:u.error)==null?void 0:c.code}`);this.eventBus.analytics.publish(Se.audioPlaybackError(h)),((d=u==null?void 0:u.error)==null?void 0:d.code)===MediaError.MEDIA_ERR_DECODE&&(this.removeAudioElement(u,i),yield ei(500),yield this.handleTrackAdd({track:i,peer:s,callListener:!1}))}),i.setAudioElement(u),i.setVolume(this.volume),E.d(this.TAG,"Audio track added",`${i}`),this.init(),(a=this.audioSink)==null||a.append(u),this.outputDevice&&(yield i.setOutputDevice(this.outputDevice)),u.srcObject=new MediaStream([i.nativeTrack]),o&&((l=this.listener)==null||l.onTrackUpdate(0,i,s)),yield this.handleAutoplayError(i)}),this.handleAutoplayError=n=>v(this,null,function*(){if(this.state.autoplayFailed===void 0&&(this.state.autoplayCheckPromise||(this.state.autoplayCheckPromise=new Promise(i=>{this.playAudioFor(n).then(i)})),yield this.state.autoplayCheckPromise),this.state.autoplayFailed){this.autoPausedTracks.add(n);return}yield this.playAudioFor(n)}),this.handleAudioDeviceChange=n=>{n.selection||(E.d(this.TAG,"device change called"),this.autoSelectAudioOutput()),!(n.isUserSelection||n.error||!n.selection||n.type==="video")&&this.unpauseAudioTracks()},this.handleTrackRemove=n=>{this.autoPausedTracks.delete(n);let i=document.getElementById(n.trackId);i&&this.removeAudioElement(i,n),this.audioSink&&this.audioSink.childElementCount===0&&(this.state.autoplayCheckPromise=void 0,this.state.autoplayFailed=void 0),E.d(this.TAG,"Audio track removed",`${n}`)},this.unpauseAudioTracks=()=>v(this,null,function*(){let n=[];this.autoPausedTracks.forEach(i=>{n.push(this.playAudioFor(i))}),yield Promise.all(n)}),this.removeAudioElement=(n,i)=>{n&&(E.d(this.TAG,"removing audio element",`${i}`),n.removeEventListener("pause",this.handleAudioPaused),n.srcObject=null,n.remove(),i.setAudioElement(null))},this.startPollingToCheckPausedAudio=()=>{na()&&(this.autoUnpauseTimer=setInterval(()=>{this.unpauseAudioTracks()},5e3))},this.startPollingForDevices=()=>{"ondevicechange"in navigator.mediaDevices||(this.timer=setInterval(()=>{v(this,null,function*(){yield this.deviceManager.init(!0,!1),yield this.autoSelectAudioOutput(),this.unpauseAudioTracks()})},5e3))},this.autoSelectAudioOutput=()=>v(this,null,function*(){var n;if("ondevicechange"in navigator.mediaDevices)return;let i=null,s=null,o=null,a=null;for(let u of this.deviceManager.audioInput){let c=u.label.toLowerCase();c.includes("speakerphone")?s=u:c.includes("wired")?o=u:c.includes("bluetooth")?i=u:c.includes("earpiece")&&(a=u)}let l=(n=this.store.getLocalPeer())==null?void 0:n.audioTrack;if(l&&a){let u=(i==null?void 0:i.deviceId)||(o==null?void 0:o.deviceId)||(s==null?void 0:s.deviceId);if(E.d(this.TAG,"externalDeviceID",u),l.settings.deviceId===u)return;this.earpieceSelected||(yield l.setSettings({deviceId:a==null?void 0:a.deviceId},!0),this.earpieceSelected=!0),yield l.setSettings({deviceId:u},!0)}}),this.eventBus.audioTrackAdded.subscribe(this.handleTrackAdd),this.eventBus.audioTrackRemoved.subscribe(this.handleTrackRemove),this.eventBus.audioTrackUpdate.subscribe(this.handleTrackUpdate),this.eventBus.deviceChange.subscribe(this.handleAudioDeviceChange),this.startPollingForDevices(),this.startPollingToCheckPausedAudio()}setListener(e){this.listener=e}get outputDevice(){return this.deviceManager.outputDevice}getVolume(){return this.volume}setVolume(e){return v(this,null,function*(){yield this.store.updateAudioOutputVolume(e),this.volume=e})}unblockAutoplay(){return v(this,null,function*(){this.autoPausedTracks.size>0&&this.unpauseAudioTracks()})}init(e){if(this.state.initialized||this.audioSink)return;this.state.initialized=!0;let t=document.createElement("div");t.id=`HMS-SDK-audio-sink-${si()}`,(e&&document.getElementById(e)||document.body).append(t),this.audioSink=t,E.d(this.TAG,"audio sink created",this.audioSink)}cleanup(){var e;(e=this.audioSink)==null||e.remove(),this.audioSink=void 0,this.timer&&(clearInterval(this.timer),this.timer=null),this.autoUnpauseTimer&&(clearInterval(this.autoUnpauseTimer),this.autoUnpauseTimer=null),this.eventBus.audioTrackAdded.unsubscribe(this.handleTrackAdd),this.eventBus.audioTrackRemoved.unsubscribe(this.handleTrackRemove),this.eventBus.audioTrackUpdate.unsubscribe(this.handleTrackUpdate),this.eventBus.deviceChange.unsubscribe(this.handleAudioDeviceChange),this.autoPausedTracks=new Set,this.state=Y({},Vv)}playAudioFor(e){return v(this,null,function*(){let t=e.getAudioElement();if(!t){E.w(this.TAG,"No audio element found on track",e.trackId);return}try{yield t.play(),this.state.autoplayFailed=!1,this.autoPausedTracks.delete(e),E.d(this.TAG,"Played track",`${e}`)}catch(r){this.autoPausedTracks.add(e),E.w(this.TAG,"Failed to play track",`${e}`,r);let n=r;if(!this.state.autoplayFailed&&n.name==="NotAllowedError"){this.state.autoplayFailed=!0;let i=K.TracksErrors.AutoplayBlocked("AUTOPLAY","");i.addNativeError(n),this.eventBus.analytics.publish(Se.autoplayError()),this.eventBus.autoplayError.publish(i)}}})}},h$=class{constructor(e){this.eventBus=e,this.pluginUsage=new Map,this.pluginLastAddedAt=new Map,this.getPluginUsage=t=>{if(this.pluginUsage.has(t)||this.pluginUsage.set(t,0),this.pluginLastAddedAt.has(t)){let r=this.pluginLastAddedAt.get(t)||0,n=r?Date.now()-r:0;this.pluginUsage.set(t,(this.pluginUsage.get(t)||0)+n),this.pluginLastAddedAt.delete(t)}return this.pluginUsage.get(t)},this.updatePluginUsageData=t=>{var r;let n=((r=t.properties)==null?void 0:r.plugin_name)||"";switch(t.name){case"mediaPlugin.toggled.on":case"mediaPlugin.added":{let i=t.properties.added_at||Date.now();this.pluginLastAddedAt.set(n,i);break}case"mediaPlugin.toggled.off":case"mediaPlugin.stats":{if(this.pluginLastAddedAt.has(n)){let i=t.properties.duration||(Date.now()-(this.pluginLastAddedAt.get(n)||0))/1e3;this.pluginUsage.set(n,(this.pluginUsage.get(n)||0)+Math.max(i,0)*1e3),this.pluginLastAddedAt.delete(n)}break}}},this.cleanup=()=>{this.pluginLastAddedAt.clear(),this.pluginUsage.clear()},this.eventBus.analytics.subscribe(t=>this.updatePluginUsageData(t))}},f$=class{constructor(e,t){this.store=e,this.eventBus=t,this.audioInput=[],this.audioOutput=[],this.videoInput=[],this.hasWebcamPermission=!1,this.hasMicrophonePermission=!1,this.TAG="[Device Manager]:",this.initialized=!1,this.videoInputChanged=!1,this.audioInputChanged=!1,this.updateOutputDevice=(n,i)=>v(this,null,function*(){let s=this.audioOutput.find(o=>o.deviceId===n);return s&&(this.outputDevice=s,yield this.store.updateAudioOutputDevice(s),this.eventBus.analytics.publish(Se.deviceChange({isUserSelection:i,selection:{audioOutput:s},devices:this.getDevices(),type:"audioOutput"})),bn.updateSelection("audioOutput",{deviceId:s.deviceId,groupId:s.groupId})),s}),this.getCurrentSelection=()=>{var n,i;let s=this.store.getLocalPeer(),o=this.createIdentifier((n=s==null?void 0:s.audioTrack)==null?void 0:n.getMediaTrackSettings()),a=this.createIdentifier((i=s==null?void 0:s.videoTrack)==null?void 0:i.getMediaTrackSettings()),l=this.audioInput.find(c=>this.createIdentifier(c)===o),u=this.videoInput.find(c=>this.createIdentifier(c)===a);return{audioInput:l,videoInput:u,audioOutput:this.outputDevice}},this.computeChange=(n,i)=>n.length!==i.length?!0:i.some(s=>!n.includes(this.createIdentifier(s))),this.enumerateDevices=()=>v(this,null,function*(){try{let n=yield navigator.mediaDevices.enumerateDevices(),i=this.videoInput.map(this.createIdentifier),s=this.audioInput.map(this.createIdentifier);this.audioInput=[],this.audioOutput=[],this.videoInput=[],n.forEach(o=>{o.kind==="audioinput"&&o.label?(this.hasMicrophonePermission=!0,this.audioInput.push(o)):o.kind==="audiooutput"?this.audioOutput.push(o):o.kind==="videoinput"&&o.label&&(this.hasWebcamPermission=!0,this.videoInput.push(o))}),this.videoInputChanged=this.computeChange(i,this.videoInput),this.audioInputChanged=this.computeChange(s,this.audioInput),bn.setDevices({videoInput:[...this.videoInput],audioInput:[...this.audioInput],audioOutput:[...this.audioOutput]}),this.logDevices("Enumerate Devices")}catch(n){E.e(this.TAG,"Failed enumerating devices",n)}}),this.updateToActualDefaultDevice=()=>v(this,null,function*(){var n,i,s,o,a,l;let u=this.store.getLocalPeer();!((i=(n=this.store.getConfig())==null?void 0:n.settings)!=null&&i.videoDeviceId)&&u!=null&&u.videoTrack&&(yield u.videoTrack.setSettings({deviceId:(s=this.videoInput[0])==null?void 0:s.deviceId},!0)),!((a=(o=this.store.getConfig())==null?void 0:o.settings)!=null&&a.audioInputDeviceId)&&u!=null&&u.audioTrack&&(yield u.audioTrack.setSettings({deviceId:(l=this.audioInput[0])==null?void 0:l.deviceId},!0))}),this.handleDeviceChange=$k(()=>v(this,null,function*(){yield this.enumerateDevices(),this.logDevices("After Device Change");let n=this.store.getLocalPeer();yield this.setOutputDevice(!0),yield this.handleAudioInputDeviceChange(n==null?void 0:n.audioTrack),yield this.handleVideoInputDeviceChange(n==null?void 0:n.videoTrack),this.eventBus.analytics.publish(Se.deviceChange({selection:this.getCurrentSelection(),type:"change",devices:this.getDevices()}))}),500).bind(this),this.handleAudioInputDeviceChange=n=>v(this,null,function*(){if(!n){E.d(this.TAG,"No Audio track on local peer");return}if(!this.audioInputChanged){E.d(this.TAG,"No Change in AudioInput Device");return}let i=this.getNewAudioInputDevice();if(!i||!i.deviceId){this.eventBus.analytics.publish(Se.deviceChange({selection:{audioInput:i},error:K.TracksErrors.SelectedDeviceMissing("audio"),devices:this.getDevices(),type:"audioInput"})),E.e(this.TAG,"Audio device not found");return}let{settings:s}=n,o=new ia().codec(s.codec).maxBitrate(s.maxBitrate).deviceId(i.deviceId).build();try{yield n.setSettings(o,!0),this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:i,type:"audioInput"}),this.logDevices("Audio Device Change Success")}catch(a){E.e(this.TAG,"[Audio Device Change]",a),this.eventBus.analytics.publish(Se.deviceChange({selection:{audioInput:i},devices:this.getDevices(),type:"audioInput",error:a})),this.eventBus.deviceChange.publish({error:a,selection:i,type:"audioInput",devices:this.getDevices()})}}),this.handleVideoInputDeviceChange=n=>v(this,null,function*(){if(!n){E.d(this.TAG,"No video track on local peer");return}if(!this.videoInputChanged){E.d(this.TAG,"No Change in VideoInput Device");return}let i=this.videoInput[0];if(!i||!i.deviceId){this.eventBus.analytics.publish(Se.deviceChange({selection:{videoInput:i},error:K.TracksErrors.SelectedDeviceMissing("video"),devices:this.getDevices(),type:"video"})),E.e(this.TAG,"Video device not found");return}let{settings:s}=n,o=new Os().codec(s.codec).maxBitrate(s.maxBitrate).maxFramerate(s.maxFramerate).setWidth(s.width).setHeight(s.height).deviceId(i.deviceId).build();try{yield n.setSettings(o,!0),this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:i,type:"video"}),this.logDevices("Video Device Change Success")}catch(a){E.e(this.TAG,"[Video Device Change]",a),this.eventBus.analytics.publish(Se.deviceChange({selection:{videoInput:i},devices:this.getDevices(),type:"video",error:a})),this.eventBus.deviceChange.publish({error:a,type:"video",selection:i,devices:this.getDevices()})}});let r=({enabled:n,track:i})=>n&&i.source==="regular";this.eventBus.localVideoEnabled.waitFor(r).then(()=>v(this,null,function*(){yield this.enumerateDevices(),this.videoInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()})})),this.eventBus.localAudioEnabled.waitFor(r).then(()=>v(this,null,function*(){yield this.enumerateDevices(),this.audioInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()})})),this.eventBus.deviceChange.subscribe(({type:n,isUserSelection:i,selection:s})=>{if(i){let o=n==="video"?"videoInput":n,a=this[o].find(l=>this.createIdentifier(l)===this.createIdentifier(s));this.eventBus.analytics.publish(Se.deviceChange({selection:{[o]:a},devices:this.getDevices(),type:n,isUserSelection:i}))}})}init(e=!1,t=!0){return v(this,null,function*(){this.initialized&&!e||(!this.initialized&&navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange),this.initialized=!0,yield this.enumerateDevices(),e||(yield this.updateToActualDefaultDevice()),this.logDevices("Init"),yield this.setOutputDevice(),this.eventBus.deviceChange.publish({devices:this.getDevices()}),t&&this.eventBus.analytics.publish(Se.deviceChange({selection:this.getCurrentSelection(),type:"list",devices:this.getDevices()})))})}getDevices(){return{audioInput:this.audioInput,audioOutput:this.audioOutput,videoInput:this.videoInput}}cleanup(){this.initialized=!1,this.audioInput=[],this.audioOutput=[],this.videoInput=[],this.outputDevice=void 0,navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceChange)}createIdentifier(e){return e?`${e.deviceId}${e.groupId}`:""}getNewAudioInputDevice(){let e=this.store.getLocalPeer(),t=e==null?void 0:e.audioTrack,r=this.audioInput.find(i=>i.deviceId===(t==null?void 0:t.getManuallySelectedDeviceId()));if(r)return r;t==null||t.resetManuallySelectedDeviceId();let n=this.audioInput.find(i=>i.deviceId==="default");return n?this.audioInput.find(i=>i.deviceId!=="default"&&n.label.includes(i.label)):this.audioInput[0]}setOutputDevice(e=!1){return v(this,null,function*(){let t=this.getNewAudioInputDevice(),r=this.createIdentifier(this.outputDevice);this.outputDevice=this.getAudioOutputDeviceMatchingInput(t),this.outputDevice||(this.outputDevice=this.audioOutput.find(n=>this.createIdentifier(n)===r),this.outputDevice||(this.outputDevice=this.audioOutput.find(n=>n.deviceId==="default")||this.audioOutput[0])),yield this.store.updateAudioOutputDevice(this.outputDevice),e&&r!==this.createIdentifier(this.outputDevice)&&(this.eventBus.analytics.publish(Se.deviceChange({selection:{audioOutput:this.outputDevice},devices:this.getDevices(),type:"audioOutput"})),this.eventBus.deviceChange.publish({selection:this.outputDevice,type:"audioOutput",devices:this.getDevices()}))})}getAudioOutputDeviceMatchingInput(e){var t,r;let n=((r=(t=this.store.getConfig())==null?void 0:t.settings)==null?void 0:r.speakerAutoSelectionBlacklist)||[];if(n==="all"||!e)return;let i=e.label.toLowerCase()||"";if(n.some(a=>i.includes(a.toLowerCase())))return;let s=this.audioOutput.find(a=>e.deviceId!=="default"&&a.label===e.label);if(s)return s;let o=this.audioOutput.find(a=>a.groupId===e.groupId);if(o&&this.audioOutput[0].deviceId==="default"&&o.groupId===this.audioOutput[0].groupId)return o}logDevices(e=""){E.d(this.TAG,e,JSON.stringify({videoInput:[...this.videoInput],audioInput:[...this.audioInput],audioOutput:[...this.audioOutput],selected:this.getCurrentSelection()},null,4))}},p$=class{constructor(e,t){this.deviceManager=e,this.audioSinkManager=t}getVolume(){return this.audioSinkManager.getVolume()}setVolume(e){if(e<0||e>100)throw Error("Please pass a valid number between 0-100");this.audioSinkManager.setVolume(e)}getDevice(){return this.deviceManager.outputDevice}setDevice(e){return this.deviceManager.updateOutputDevice(e,!0)}unblockAutoplay(){return v(this,null,function*(){yield this.audioSinkManager.unblockAutoplay(),yield ic.resumeContext()})}},gt=class{constructor(e,t){this.eventName=e,this.eventEmitter=t,this.publish=r=>{this.eventEmitter.emit(this.eventName,r)},this.subscribe=r=>{this.eventEmitter.on(this.eventName,r)},this.subscribeOnce=r=>{this.eventEmitter.once(this.eventName,r)},this.unsubscribe=r=>{this.eventEmitter.off(this.eventName,r)},this.waitFor=r=>this.eventEmitter.waitFor(this.eventName,{filter:r}),this.removeAllListeners=()=>{this.eventEmitter.removeAllListeners(this.eventName)}}},m$=class{constructor(){this.eventEmitter=new rc.EventEmitter2,this.deviceChange=new gt(mt.DEVICE_CHANGE,this.eventEmitter),this.localAudioEnabled=new gt(mt.LOCAL_AUDIO_ENABLED,this.eventEmitter),this.localVideoEnabled=new gt(mt.LOCAL_VIDEO_ENABLED,this.eventEmitter),this.statsUpdate=new gt(mt.STATS_UPDATE,this.eventEmitter),this.trackDegraded=new gt(mt.TRACK_DEGRADED,this.eventEmitter),this.trackRestored=new gt(mt.TRACK_RESTORED,this.eventEmitter),this.trackAudioLevelUpdate=new gt(mt.TRACK_AUDIO_LEVEL_UPDATE,this.eventEmitter),this.audioPluginFailed=new gt(mt.AUDIO_PLUGIN_FAILED,this.eventEmitter),this.localAudioSilence=new gt(mt.LOCAL_AUDIO_SILENCE,this.eventEmitter),this.analytics=new gt(mt.ANALYTICS,this.eventEmitter),this.policyChange=new gt(mt.POLICY_CHANGE,this.eventEmitter),this.localRoleUpdate=new gt(mt.LOCAL_ROLE_UPDATE,this.eventEmitter),this.audioTrackUpdate=new gt(mt.AUDIO_TRACK_UPDATE,this.eventEmitter),this.audioTrackAdded=new gt(mt.AUDIO_TRACK_ADDED,this.eventEmitter),this.audioTrackRemoved=new gt(mt.AUDIO_TRACK_REMOVED,this.eventEmitter),this.autoplayError=new gt(mt.AUTOPLAY_ERROR,this.eventEmitter),this.leave=new gt(mt.LEAVE,this.eventEmitter)}},Gv=class{constructor(e){this.type=e.type,this.source=e.source||"regular",this.description="",e instanceof Op?(this.mute=!e.enabled,this.track_id=e.publishedTrackId,this.stream_id=e.stream.id):(this.mute=e.mute,this.track_id=e.track_id,this.stream_id=e.stream_id)}},g$=class{constructor(e,t,r){this.store=e,this.listener=t,this.audioListener=r}handleActiveSpeakers(e){var t,r,n;let i=e["speaker-list"],s=i.map(a=>({audioLevel:a.level,peer:this.store.getPeerById(a.peer_id),track:this.store.getTrackById(a.track_id)}));(t=this.audioListener)==null||t.onAudioLevelUpdate(s),this.store.updateSpeakers(s);let o=i[0];if(o){let a=this.store.getPeerById(o.peer_id);(r=this.listener)==null||r.onPeerUpdate(4,a)}else(n=this.listener)==null||n.onPeerUpdate(5,null)}},v$=class{constructor(e){this.listener=e,this.TAG="[BroadcastManager]"}handleNotification(e,t){e==="on-broadcast"&&this.handleBroadcast(t)}handleBroadcast(e){var t,r;E.d(this.TAG,`Received Message from sender=${(t=e==null?void 0:e.peer)==null?void 0:t.peer_id}: ${e}`),(r=this.listener)==null||r.onMessageReceived(e)}},y$=class{constructor(e,t){this.store=e,this.listener=t}handleQualityUpdate(e){var t;let r=e.peers.map(n=>{let i=this.store.getPeerById(n.peer_id);return i&&i.updateNetworkQuality(n.downlink_score),{peerID:n.peer_id,downlinkQuality:n.downlink_score}});(t=this.listener)==null||t.onConnectionQualityUpdate(r)}},uE=class{constructor(e,t,r){this.store=e,this.eventBus=t,this.listener=r,this.TAG="[TrackManager]",this.tracksToProcess=new Map,this.handleTrackAdd=n=>{E.d(this.TAG,"ONTRACKADD",`${n}`),this.tracksToProcess.set(n.trackId,n),this.processPendingTracks()},this.handleTrackRemovedPermanently=n=>{E.d(this.TAG,"ONTRACKREMOVE",n),Object.keys(n.tracks).forEach(i=>{var s;let o=this.store.getTrackState(i);if(!o)return;let a=this.store.getTrackById(i);if(!a){E.d(this.TAG,"Track not found in store");return}a.type==="audio"&&this.eventBus.audioTrackRemoved.publish(a),this.store.removeTrack(a);let l=this.store.getPeerById(o.peerId);l&&(this.removePeerTracks(l,a),(s=this.listener)==null||s.onTrackUpdate(1,a,l))})},this.handleTrackLayerUpdate=n=>{for(let i in n.tracks){let s=n.tracks[i],o=this.store.getTrackById(i);!o||!this.store.getPeerByTrackId(i)||o instanceof Er&&this.setLayer(o,s)}},this.handleTrackUpdate=(n,i=!0)=>{var s,o;let a=this.store.getPeerById(n.peer.peer_id),l=n.peer;if(!a&&!l){E.d(this.TAG,"Track Update ignored - Peer not added to store");return}a||(a=sa(l,this.store),this.store.addPeer(a));for(let u in n.tracks){let c=Object.assign({},(s=this.store.getTrackState(u))==null?void 0:s.trackInfo),d=n.tracks[u],h=this.store.getTrackById(u);if(this.store.setTrackState({peerId:n.peer.peer_id,trackInfo:Y(Y({},c),d)}),!h||this.tracksToProcess.has(u))this.processTrackInfo(d,n.peer.peer_id,i),this.processPendingTracks();else{h.setEnabled(!d.mute);let f=this.processTrackUpdate(h,c,d);f&&((o=this.listener)==null||o.onTrackUpdate(f,h,a))}}},this.processTrackInfo=(n,i,s)=>{},this.processPendingTracks=()=>{new Map(this.tracksToProcess).forEach(n=>{var i;let s=this.store.getTrackState(n.trackId);if(!s){E.d(this.TAG,"TrackState not added to store",`peerId - ${n.peerId}`,`trackId -${n.trackId}`);return}let o=this.store.getPeerById(s.peerId);if(!o){E.d(this.TAG,"Peer not added to store, peerId",s.peerId);return}n.source=s.trackInfo.source,n.peerId=o.peerId,n.logIdentifier=o.name,n.setEnabled(!s.trackInfo.mute),this.addAudioTrack(o,n),this.addVideoTrack(o,n),n.type==="audio"?this.eventBus.audioTrackAdded.publish({track:n,peer:o}):(i=this.listener)==null||i.onTrackUpdate(0,n,o),this.tracksToProcess.delete(n.trackId)})}}handleTrackMetadataAdd(e){E.d(this.TAG,"TRACK_METADATA_ADD",JSON.stringify(e,null,2));for(let t in e.tracks){let r=e.tracks[t];this.store.setTrackState({peerId:e.peer.peer_id,trackInfo:r})}this.processPendingTracks()}handleTrackRemove(e,t=!0){var r;E.d(this.TAG,"ONTRACKREMOVE",`${e}`);let n=this.store.getTrackState(e.trackId);if(n){if(!this.store.hasTrack(e)){E.d(this.TAG,"Track not found in store");return}if(t){this.store.removeTrack(e);let i=this.store.getPeerById(n.peerId);if(!i)return;this.removePeerTracks(i,e),(r=this.listener)==null||r.onTrackUpdate(1,e,i),e.type==="audio"&&this.eventBus.audioTrackRemoved.publish(e)}}}setLayer(e,t){var r,n;let i=this.store.getPeerByTrackId(e.trackId);i&&(e.setLayerFromServer(t)?(r=this.listener)==null||r.onTrackUpdate(5,e,i):(n=this.listener)==null||n.onTrackUpdate(6,e,i))}removePeerTracks(e,t){let r=e.auxiliaryTracks.indexOf(t);r>-1?(e.auxiliaryTracks.splice(r,1),E.d(this.TAG,"auxiliary track removed",`${t}`)):t.type==="audio"&&e.audioTrack===t?(e.audioTrack=void 0,E.d(this.TAG,"audio track removed",`${t}`)):t.type==="video"&&e.videoTrack===t&&(e.videoTrack=void 0,E.d(this.TAG,"video track removed",`${t}`))}addAudioTrack(e,t){var r;t.type==="audio"&&(t.source==="regular"&&(!e.audioTrack||((r=e.audioTrack)==null?void 0:r.trackId)===t.trackId)?e.audioTrack=t:e.auxiliaryTracks.push(t),this.store.addTrack(t),E.d(this.TAG,"audio track added",`${t}`))}addVideoTrack(e,t){if(t.type!=="video")return;let r=t,n=this.store.getSimulcastDefinitionsForPeer(e,r.source);if(r.setSimulcastDefinitons(n),this.addAsPrimaryVideoTrack(e,r))e.videoTrack?e.videoTrack.replaceTrack(r):e.videoTrack=r,this.store.addTrack(e.videoTrack);else{let i=e.auxiliaryTracks.findIndex(s=>s.trackId===r.trackId);i===-1?(e.auxiliaryTracks.push(r),this.store.addTrack(r)):(e.auxiliaryTracks[i].replaceTrack(r),this.store.addTrack(e.auxiliaryTracks[i]))}E.d(this.TAG,"video track added",`${t}`)}addAsPrimaryVideoTrack(e,t){var r;return t.source==="regular"&&(!e.videoTrack||((r=e.videoTrack)==null?void 0:r.trackId)===t.trackId)}processTrackUpdate(e,t,r){let n;return t.mute!==r.mute?(n=r.mute?2:3,e.type==="audio"&&this.eventBus.audioTrackUpdate.publish({track:e,enabled:!r.mute})):t.description!==r.description&&(n=4),n}},S$=class extends uE{constructor(e,t,r,n){super(e,t,n),this.transport=r,this.TAG="[OnDemandTrackManager]",this.processTrackInfo=(i,s,o=!0)=>{var a;if(i.type!=="video")return;let l=this.store.getPeerById(s);if(!l||!this.isPeerRoleSubscribed(s)){E.d(this.TAG,`no peer in store for peerId: ${s}`);return}let u=new Np(new MediaStream,this.transport.getSubscribeConnection()),c=Su.getEmptyVideoTrack();c.enabled=!i.mute;let d=new Er(u,c,i.source);d.setTrackId(i.track_id),d.peerId=l.peerId,d.logIdentifier=l.name,this.addVideoTrack(l,d),o&&((a=this.listener)==null||a.onTrackUpdate(0,l.videoTrack,l))}}handleTrackMetadataAdd(e){super.handleTrackMetadataAdd(e);for(let t in e.tracks)e.tracks[t].type==="video"&&this.processTrackInfo(e.tracks[t],e.peer.peer_id)}handleTrackRemove(e){let t=e.type==="video"&&e.source==="regular";super.handleTrackRemove(e,!t),t&&this.processTrackInfo({track_id:e.trackId,mute:!e.enabled,type:e.type,source:e.source,stream_id:e.stream.id},e.peerId,!1)}addAsPrimaryVideoTrack(e,t){return t.source!=="regular"?!1:!e.videoTrack||e.videoTrack.trackId===t.trackId?!0:e.videoTrack.enabled&&vs(e.videoTrack.nativeTrack)}isPeerRoleSubscribed(e){var t,r,n,i;if(!e)return!0;let s=this.store.getLocalPeer(),o=this.store.getPeerById(e);return o&&((i=(r=(t=s==null?void 0:s.role)==null?void 0:t.subscribeParams)==null?void 0:r.subscribeToRoles)==null?void 0:i.includes((n=o.role)==null?void 0:n.name))}},T$=class{constructor(e,t,r,n){this.store=e,this.peerManager=t,this.trackManager=r,this.listener=n,this.TAG="[PeerListManager]",this.handleInitialPeerList=i=>{let s=Object.values(i.peers);this.peerManager.handlePeerList(s)},this.handleReconnectPeerList=i=>{this.handleRepeatedPeerList(i.peers)},this.handlePreviewRoomState=i=>{if(!this.store.hasRoleDetailsArrived())return;let s=i.peers;if(s==null){i.peer_count===0&&this.handleRepeatedPeerList({});return}Object.keys(s).forEach(o=>{s[o].tracks={},s[o].is_from_room_state=!0}),this.handleRepeatedPeerList(s)},this.handleRepeatedPeerList=i=>{let s=this.store.getRemotePeers(),o=Object.values(i),a=s.filter(u=>!i[u.peerId]);a.length>0&&E.d(this.TAG,`${a}`),a.forEach(u=>{var c;let d={peer_id:u.peerId,role:((c=u.role)==null?void 0:c.name)||"",info:{name:u.name,data:u.metadata||"",user_id:u.customerUserId||"",type:u.type},tracks:{},groups:[],realtime:u.realtime};this.peerManager.handlePeerLeave(d)});let l=[];o.forEach(u=>{let c=this.store.getPeerById(u.peer_id),d=Object.values(u.tracks);c&&(this.store.getPeerTracks(c.peerId).forEach(h=>{var f;u.tracks[h.trackId]||(this.removePeerTrack(c,h.trackId),(f=this.listener)==null||f.onTrackUpdate(1,h,c))}),d.forEach(h=>{this.store.getTrackById(h.track_id)||this.store.setTrackState({peerId:c.peerId,trackInfo:h})}),this.trackManager.handleTrackUpdate({peer:u,tracks:u.tracks},!1),this.peerManager.handlePeerUpdate(u)),l.push(u)}),l.length>0&&this.peerManager.handlePeerList(l)}}handleNotification(e,t,r){if(e==="peer-list"){let n=t;r?(E.d(this.TAG,"RECONNECT_PEER_LIST event",JSON.stringify(n,null,2)),this.handleReconnectPeerList(n)):(E.d(this.TAG,"PEER_LIST event",JSON.stringify(n,null,2)),this.handleInitialPeerList(n))}else if(e==="room-state"){let n=t;this.handlePreviewRoomState(n)}}removePeerTrack(e,t){var r,n;if(E.d(this.TAG,`removing track - ${t} from ${e}`),((r=e.audioTrack)==null?void 0:r.trackId)===t)e.audioTrack=void 0;else if(((n=e.videoTrack)==null?void 0:n.trackId)===t)e.videoTrack=void 0;else{let i=e.auxiliaryTracks.findIndex(s=>s.trackId===t);i>=0&&e.auxiliaryTracks.splice(i,1)}}},Le=e=>e?new Date(e):void 0,k$=class{constructor(e,t,r){this.store=e,this.trackManager=t,this.listener=r,this.TAG="[PeerManager]",this.handlePeerList=n=>{var i,s;if(n.length===0){(i=this.listener)==null||i.onPeerUpdate(9,[]);return}let o=[],a=new Set(n.map(l=>l.peer_id));this.store.getRemotePeers().forEach(({peerId:l,fromRoomState:u})=>{!a.has(l)&&u&&this.store.removePeer(l)});for(let l of n)o.push(this.makePeer(l));(s=this.listener)==null||s.onPeerUpdate(9,o),this.trackManager.processPendingTracks()},this.handlePeerJoin=n=>{var i;let s=this.makePeer(n);(i=this.listener)==null||i.onPeerUpdate(0,s),this.trackManager.processPendingTracks()},this.handlePeerLeave=n=>{var i,s,o,a;let l=this.store.getPeerById(n.peer_id);this.store.removePeer(n.peer_id),E.d(this.TAG,"PEER_LEAVE",n.peer_id,`remainingPeers=${this.store.getPeers().length}`),l&&(l.audioTrack&&((i=this.listener)==null||i.onTrackUpdate(1,l.audioTrack,l)),l.videoTrack&&((s=this.listener)==null||s.onTrackUpdate(1,l.videoTrack,l)),(o=l.auxiliaryTracks)==null||o.forEach(u=>{var c;(c=this.listener)==null||c.onTrackUpdate(1,u,l)}),(a=this.listener)==null||a.onPeerUpdate(1,l))}}handleNotification(e,t){switch(e){case"on-peer-join":{let r=t;this.handlePeerJoin(r);break}case"on-peer-leave":{let r=t;this.handlePeerLeave(r);break}case"on-peer-update":this.handlePeerUpdate(t);break}}handlePeerUpdate(e){var t,r,n,i,s;let o=this.store.getPeerById(e.peer_id);if(!o&&e.realtime){o=this.makePeer(e),(t=this.listener)==null||t.onPeerUpdate(o.isHandRaised?12:14,o);return}if(o&&!o.isLocal&&!e.realtime){this.store.removePeer(o.peerId),(r=this.listener)==null||r.onPeerUpdate(13,o);return}if(!o){E.d(this.TAG,`peer ${e.peer_id} not found`);return}if(o.role&&o.role.name!==e.role){let u=this.store.getPolicyForRole(e.role);o.updateRole(u),this.updateSimulcastLayersForPeer(o),(n=this.listener)==null||n.onPeerUpdate(8,o)}let a=o.isHandRaised;o.updateGroups(e.groups);let l=(i=e.groups)==null?void 0:i.includes(os);a!==l&&((s=this.listener)==null||s.onPeerUpdate(12,o)),this.handlePeerInfoUpdate(Y({peer:o},e.info))}handlePeerInfoUpdate({peer:e,name:t,data:r}){var n,i;e&&(t&&e.name!==t&&(e.updateName(t),(n=this.listener)==null||n.onPeerUpdate(10,e)),r&&e.metadata!==r&&(e.updateMetadata(r),(i=this.listener)==null||i.onPeerUpdate(11,e)))}makePeer(e){let t=this.store.getPeerById(e.peer_id);t||(t=sa(e,this.store),t.realtime=e.realtime,t.joinedAt=Le(e.joined_at),t.fromRoomState=!!e.is_from_room_state,this.store.addPeer(t),E.d(this.TAG,"adding to the peerList",`${t}`));for(let r in e.tracks){let n=e.tracks[r];this.store.setTrackState({peerId:e.peer_id,trackInfo:n}),n.type==="video"&&this.trackManager.processTrackInfo(n,e.peer_id,!1)}return t}updateSimulcastLayersForPeer(e){this.store.getPeerTracks(e.peerId).forEach(t=>{if(t.type==="video"&&["regular","screen"].includes(t.source)){let r=t,n=this.store.getSimulcastDefinitionsForPeer(e,r.source);r.setSimulcastDefinitons(n)}})}},E$=class{constructor(e,t){this.store=e,this.eventBus=t}handlePolicyChange(e){let t=this.store.getLocalPeer();if(t&&!t.role){let n=e.known_roles[e.name];t.updateRole(n)}this.store.setKnownRoles(e);let r=this.store.getRoom();r?r.templateId=e.template_id:E.w("[PolicyChangeManager]","on policy change - room not present"),this.updateLocalPeerRole(e),this.eventBus.policyChange.publish(e)}updateLocalPeerRole(e){var t;let r=this.store.getLocalPeer();if(r!=null&&r.role&&r.role.name!==e.name){let n=this.store.getPolicyForRole(e.name),i=r.role;r.updateRole(n),n.name===((t=r.asRole)==null?void 0:t.name)&&delete r.asRole,this.eventBus.localRoleUpdate.publish({oldRole:i,newRole:n})}}},Uh=(e,t,r)=>{let n=r==="qa"?eN:ZM,i=new URL(n);return i.searchParams.set("endpoint",`https://${t}`),i.searchParams.set("token",e),i.toString()},b$=class{constructor(e,t,r){this.transport=e,this.store=t,this.listener=r,this.TAG="[HMSWhiteboardInteractivityCenter]"}get isEnabled(){return this.transport.isFlagEnabled("whiteboardEnabled")}open(e){return v(this,null,function*(){var t;if(!this.isEnabled)return E.w(this.TAG,"Whiteboard is not enabled for customer");let r=this.store.getWhiteboard(e==null?void 0:e.id),n=r==null?void 0:r.id;if(r||(n=(yield this.transport.signal.createWhiteboard(this.getCreateOptionsWithDefaults(e))).id),!n)throw new Error(`Whiteboard ID: ${n} not found`);let i=yield this.transport.signal.getWhiteboard({id:n}),s=be(Y({},r),{title:e==null?void 0:e.title,attributes:e==null?void 0:e.attributes,id:i.id,url:Uh(i.token,i.addr,this.store.getEnv()),token:i.token,addr:i.addr,owner:i.owner,permissions:i.permissions||[],open:!0});this.store.setWhiteboard(s),(t=this.listener)==null||t.onWhiteboardUpdate(s)})}close(e){return v(this,null,function*(){var t;if(!this.isEnabled)return E.w(this.TAG,"Whiteboard is not enabled for customer");let r=this.store.getWhiteboard(e);if(!r)throw new Error(`Whiteboard ID: ${e} not found`);let n={id:r.id,title:r.title,open:!1};this.store.setWhiteboard(n),(t=this.listener)==null||t.onWhiteboardUpdate(n)})}setListener(e){this.listener=e}handleLocalRoleUpdate(){return v(this,null,function*(){var e,t,r;let n=this.store.getWhiteboards();for(let i of n.values())if(i.url){let s=yield this.transport.signal.getWhiteboard({id:i.id}),o=this.store.getLocalPeer(),a=(o==null?void 0:o.customerUserId)===s.owner?(t=(e=o.role)==null?void 0:e.permissions.whiteboard)==null?void 0:t.includes("admin"):s.permissions.length>0,l=be(Y({},i),{id:s.id,url:Uh(s.token,s.addr,this.store.getEnv()),token:s.token,addr:s.addr,owner:s.owner,permissions:s.permissions,open:a});this.store.setWhiteboard(l),(r=this.listener)==null||r.onWhiteboardUpdate(l)}})}getCreateOptionsWithDefaults(e){var t;let r=Object.values(this.store.getKnownRoles()),n=[],i=[],s=[];return r.forEach(o=>{var a,l,u;(a=o.permissions.whiteboard)!=null&&a.includes("read")&&n.push(o.name),(l=o.permissions.whiteboard)!=null&&l.includes("write")&&i.push(o.name),(u=o.permissions.whiteboard)!=null&&u.includes("admin")&&s.push(o.name)}),{title:(e==null?void 0:e.title)||`${(t=this.store.getRoom())==null?void 0:t.id} Whiteboard`,reader:(e==null?void 0:e.reader)||n,writer:(e==null?void 0:e.writer)||i,admin:(e==null?void 0:e.admin)||s}}},_$=class{constructor(e,t,r){this.transport=e,this.store=t,this.listener=r,this.whiteboard=new b$(e,t,r)}setListener(e){this.listener=e,this.whiteboard.setListener(e)}createPoll(e){return v(this,null,function*(){var t,r;let n={customerID:"userid",peerID:"peerid",userName:"username"},{poll_id:i}=yield this.transport.signal.setPollInfo(be(Y({},e),{mode:e.mode?n[e.mode]:void 0,poll_id:e.id,vote:e.rolesThatCanVote,responses:e.rolesThatCanViewResponses}));e.id||(e.id=i),Array.isArray(e.questions)&&(yield this.addQuestionsToPoll(e.id,e.questions));let s=yield this.transport.signal.getPollQuestions({poll_id:e.id,index:0,count:50}),o=Bh(be(Y({},e),{poll_id:e.id,state:"created",created_by:(t=this.store.getLocalPeer())==null?void 0:t.peerId}));o.questions=s.questions.map(({question:a,options:l,answer:u})=>be(Y({},a),{options:l,answer:u})),(r=this.listener)==null||r.onPollsUpdate(0,[o])})}startPoll(e){return v(this,null,function*(){typeof e=="string"?yield this.transport.signal.startPoll({poll_id:e}):(yield this.createPoll(e),yield this.transport.signal.startPoll({poll_id:e.id}))})}addQuestionsToPoll(e,t){return v(this,null,function*(){t.length>0&&(yield this.transport.signal.setPollQuestions({poll_id:e,questions:t.map((r,n)=>this.createQuestionSetParams(r,n))}))})}stopPoll(e){return v(this,null,function*(){yield this.transport.signal.stopPoll({poll_id:e})})}addResponsesToPoll(e,t){return v(this,null,function*(){let r=this.store.getPoll(e);if(!r)throw new Error("Invalid poll ID - Poll not found");let n=t.map(i=>{var s,o;let a=this.getQuestionInPoll(r,i.questionIndex);return a.type==="single-choice"?(i.option=i.option||((s=i.options)==null?void 0:s[0])||-1,delete i.text,delete i.options):a.type==="multiple-choice"?((o=i.options)==null||o.sort(),delete i.text,delete i.option):(delete i.option,delete i.options),i.skipped&&(delete i.option,delete i.options,delete i.text),Y({duration:0,type:a.type,question:i.questionIndex},i)});yield this.transport.signal.setPollResponses({poll_id:e,responses:n})})}fetchLeaderboard(e,t,r){return v(this,null,function*(){var n,i;let s=this.store.getPoll(e);if(!s)throw new Error("Invalid poll ID - Poll not found");let o=(i=(n=this.store.getLocalPeer())==null?void 0:n.role)==null?void 0:i.permissions,a=!!(o!=null&&o.pollRead||o!=null&&o.pollWrite);if(s.anonymous||s.state!=="stopped"||!a)return{entries:[],hasNext:!1};let l=yield this.transport.signal.fetchPollLeaderboard({poll_id:s.id,count:r,offset:t}),u={avgScore:l.avg_score,avgTime:l.avg_time,votedUsers:l.voted_users,totalUsers:l.total_users,correctUsers:l.correct_users};return{entries:l.questions.map(c=>({position:c.position,totalResponses:c.total_responses,correctResponses:c.correct_responses,duration:c.duration,peer:c.peer,score:c.score})),hasNext:!l.last,summary:u}})}getPollResponses(e,t){return v(this,null,function*(){var r,n;let i=yield this.transport.signal.getPollResponses({poll_id:e.id,index:0,count:50,self:t}),s=JSON.parse(JSON.stringify(e));(r=i.responses)==null||r.forEach(({response:o,peer:a,final:l})=>{var u,c;let d=(u=e==null?void 0:e.questions)==null?void 0:u.find(h=>h.index===o.question);if(d){let h={id:o.response_id,questionIndex:o.question,option:o.option,options:o.options,text:o.text,responseFinal:l,peer:{peerid:a.peerid,userHash:a.hash,userid:a.userid,username:a.username},skipped:o.skipped,type:o.type,update:o.update},f=d.responses&&!t?[...d.responses]:[];(c=s.questions)!=null&&c[o.question-1]&&(s.questions[o.question-1].responses=[...f,h])}}),this.store.setPoll(s),(n=this.listener)==null||n.onPollsUpdate(4,[s])})}getPolls(){return v(this,null,function*(){var e,t,r;let n=yield this.transport.signal.getPollsList({count:50,state:"started"}),i=[],s=(t=(e=this.store.getLocalPeer())==null?void 0:e.role)==null?void 0:t.permissions.pollWrite,o=[...n.polls];if(s){let a=yield this.transport.signal.getPollsList({count:50,state:"created"}),l=yield this.transport.signal.getPollsList({count:50,state:"stopped"});o=[...a.polls,...o,...l.polls]}for(let a of o){let l=yield this.transport.signal.getPollQuestions({poll_id:a.poll_id,index:0,count:50}),u=Bh(a),c=this.store.getPoll(a.poll_id);u.questions=l.questions.map(({question:d,options:h,answer:f},m)=>{var p,k;return be(Y({},d),{options:h,answer:f,responses:(k=(p=c==null?void 0:c.questions)==null?void 0:p[m])==null?void 0:k.responses})}),i.push(u),this.store.setPoll(u)}return(r=this.listener)==null||r.onPollsUpdate(3,i),i})}createQuestionSetParams(e,t){var r,n;if(e.index){let a=(r=e.options)==null?void 0:r.map((l,u)=>be(Y({},l),{index:u+1}));return{question:be(Y({},e),{index:t+1}),options:a,answer:e.answer}}let i=be(Y({},e),{index:t+1}),s,o=e.answer||{hidden:!1};return Array.isArray(e.options)&&["single-choice","multiple-choice"].includes(e.type)?(s=(n=e.options)==null?void 0:n.map((a,l)=>({index:l+1,text:a.text,weight:a.weight})),e.type==="single-choice"?o.option=e.options.findIndex(a=>a.isCorrectAnswer)+1||void 0:o.options=e.options.map((a,l)=>a.isCorrectAnswer?l+1:void 0).filter(a=>!!a)):(o==null||delete o.options,o==null||delete o.option),{question:i,options:s,answer:o}}getQuestionInPoll(e,t){var r;let n=(r=e==null?void 0:e.questions)==null?void 0:r.find(i=>i.index===t);if(!n)throw new Error("Invalid question index - Question not found in poll");return n}},Bh=e=>{let t={userid:"customerID",peerid:"peerID",username:"userName"};return{id:e.poll_id,title:e.title,startedBy:e.started_by,createdBy:e.created_by,anonymous:e.anonymous,type:e.type,duration:e.duration,locked:e.locked,mode:e.mode?t[e.mode]:void 0,visibility:e.visibility,rolesThatCanVote:e.vote||[],rolesThatCanViewResponses:e.responses||[],state:e.state,stoppedBy:e.stopped_by,startedAt:Le(e.started_at),stoppedAt:Le(e.stopped_at),createdAt:Le(e.created_at)}},P$=class{constructor(e,t,r){this.store=e,this.transport=t,this.listener=r}handleNotification(e,t){switch(e){case"on-poll-start":{this.handlePollStart(t);break}case"on-poll-stop":{this.handlePollStop(t);break}case"on-poll-stats":this.handlePollStats(t);break}}handlePollStart(e){return v(this,null,function*(){var t,r;let n=[];for(let i of e.polls){let s=this.store.getPoll(i.poll_id);if(s&&s.state==="started"){(t=this.listener)==null||t.onPollsUpdate(1,[s]);return}let o=yield this.transport.signal.getPollQuestions({poll_id:i.poll_id,index:0,count:50}),a=Bh(i);a.questions=o.questions.map(({question:l,options:u,answer:c})=>be(Y({},l),{options:u,answer:c})),yield this.updatePollResponses(a,!0),n.push(a),this.store.setPoll(a)}(r=this.listener)==null||r.onPollsUpdate(1,n)})}handlePollStop(e){return v(this,null,function*(){var t;let r=[];for(let n of e.polls){let i=this.store.getPoll(n.poll_id);if(i){i.state="stopped",i.stoppedAt=Le(n.stopped_at),i.stoppedBy=n.stopped_by;let s=yield this.transport.signal.getPollResult({poll_id:n.poll_id});this.updatePollResult(i,s),r.push(i)}}r.length>0&&((t=this.listener)==null||t.onPollsUpdate(2,r))})}handlePollStats(e){return v(this,null,function*(){var t;let r=[];for(let n of e.polls){let i=this.store.getPoll(n.poll_id);if(!i)return;this.updatePollResult(i,n),r.push(i)}r.length>0&&((t=this.listener)==null||t.onPollsUpdate(4,r))})}updatePollResult(e,t){var r;e.result=Y({},e.result),e.result.totalUsers=t.user_count,e.result.maxUsers=t.max_user,e.result.totalResponses=t.total_response,(r=t.questions)==null||r.forEach(n=>{var i,s;let o=(i=e.questions)==null?void 0:i.find(a=>a.index===n.question);o&&(o.result=Y({},o.result),o.result.correctResponses=n.correct,o.result.skippedCount=n.skipped,o.result.totalResponses=n.total,(s=n.options)==null||s.forEach((a,l)=>{var u;let c=(u=o.options)==null?void 0:u[l];c&&c.voteCount!==a&&(c.voteCount=a)}))})}updatePollResponses(e,t){return v(this,null,function*(){var r;(r=(yield this.transport.signal.getPollResponses({poll_id:e.id,index:0,count:50,self:t})).responses)==null||r.forEach(({response:n,peer:i,final:s})=>{var o;let a=(o=e==null?void 0:e.questions)==null?void 0:o.find(u=>u.index===n.question);if(!a)return;let l={id:n.response_id,questionIndex:n.question,option:n.option,options:n.options,text:n.text,responseFinal:s,peer:{peerid:i.peerid,userHash:i.hash,userid:i.userid,username:i.username},skipped:n.skipped,type:n.type,update:n.update};Array.isArray(a.responses)&&a.responses.length>0?a.responses.find(({id:u})=>u===l.id)||a.responses.push(l):a.responses=[l]})})}},w$=class{constructor(e,t){this.store=e,this.listener=t}handleNotification(e,t){switch(e){case"on-role-change-request":this.handleRoleChangeRequest(t);break;case"on-track-update-request":this.handleTrackUpdateRequest(t);break;case"on-change-track-mute-state-request":this.handleChangeTrackStateRequest(t);break;default:return}}handleRoleChangeRequest(e){var t;let r={requestedBy:e.requested_by?this.store.getPeerById(e.requested_by):void 0,role:this.store.getPolicyForRole(e.role),token:e.token};(t=this.listener)==null||t.onRoleChangeRequest(r)}handleTrackUpdateRequest(e){let{requested_by:t,track_id:r,mute:n}=e,i=t?this.store.getPeerById(t):void 0,s=this.store.getLocalPeerTracks().find(a=>a.publishedTrackId===r);if(!s)return;let o=()=>{var a;(a=this.listener)==null||a.onChangeTrackStateRequest({requestedBy:i,track:s,enabled:!n})};if(n){if(s.enabled===!n)return;s.setEnabled(!n).then(o)}else o()}handleChangeTrackStateRequest(e){var t;let{type:r,source:n,value:i,requested_by:s}=e,o=s?this.store.getPeerById(s):void 0,a=!i,l=this.getTracksToBeUpdated({type:r,source:n,enabled:a});if(l.length!==0)if(a)(t=this.listener)==null||t.onChangeMultiTrackStateRequest({requestedBy:o,tracks:l,type:r,source:n,enabled:!0});else{let u=[];for(let c of l)u.push(c.setEnabled(!1));Promise.all(u).then(()=>{var c;(c=this.listener)==null||c.onChangeMultiTrackStateRequest({requestedBy:o,tracks:l,enabled:!1})})}}getTracksToBeUpdated({type:e,source:t,enabled:r}){let n=this.store.getLocalPeerTracks();return e&&(n=n.filter(i=>i.type===e)),t&&(n=n.filter(i=>i.source===t)),n.filter(i=>i.enabled!==r)}},C$=class{constructor(e,t){this.store=e,this.listener=t,this.TAG="[RoomUpdateManager]"}handleNotification(e,t){switch(e){case"peer-list":this.onRoomState(t.room);break;case"on-rtmp-update":this.updateRTMPStatus(t);break;case"on-record-update":this.updateRecordingStatus(t);break;case"room-state":this.handlePreviewRoomState(t);break;case"room-info":this.handleRoomInfo(t);break;case"session-info":this.handleSessionInfo(t);break;case"on-hls-update":this.updateHLSStatus(t);break;case"on-transcription-update":this.handleTranscriptionStatus([t]);break}}handleRoomInfo(e){let t=this.store.getRoom();if(!t){E.w(this.TAG,"on session info - room not present");return}t.description=e.description,t.large_room_optimization=e.large_room_optimization,t.max_size=e.max_size,t.name=e.name}handleSessionInfo(e){var t;let r=this.store.getRoom();if(!r){E.w(this.TAG,"on session info - room not present");return}r.sessionId=e.session_id,r.peerCount!==e.peer_count&&(r.peerCount=e.peer_count,(t=this.listener)==null||t.onRoomUpdate("ROOM_PEER_COUNT_UPDATED",r))}handlePreviewRoomState(e){let{room:t}=e;this.onRoomState(t)}onRoomState(e){var t,r,n,i;let{recording:s,streaming:o,transcriptions:a,session_id:l,started_at:u,name:c}=e,d=this.store.getRoom();if(!d){E.w(this.TAG,"on room state - room not present");return}d.name=c,d.rtmp.running=this.isStreamingRunning((t=o==null?void 0:o.rtmp)==null?void 0:t.state),d.rtmp.startedAt=Le((r=o==null?void 0:o.rtmp)==null?void 0:r.started_at),d.rtmp.state=(n=o==null?void 0:o.rtmp)==null?void 0:n.state,d.recording.server=this.getPeerListSFURecording(s),d.recording.browser=this.getPeerListBrowserRecording(s),d.recording.hls=this.getPeerListHLSRecording(s),d.hls=this.convertHls(o==null?void 0:o.hls),d.transcriptions=this.addTranscriptionDetail(a),d.sessionId=l,d.startedAt=Le(u),(i=this.listener)==null||i.onRoomUpdate("RECORDING_STATE_UPDATED",d)}addTranscriptionDetail(e){return e?e.map(t=>({state:t.state,mode:t.mode,initialised_at:Le(t.initialised_at),started_at:Le(t.started_at),stopped_at:Le(t.stopped_at),updated_at:Le(t.updated_at),error:this.toSdkError(t==null?void 0:t.error)})):[]}isRecordingRunning(e){return e?!["none","paused","stopped","failed"].includes(e):!1}isStreamingRunning(e){return e?!["none","stopped","failed"].includes(e):!1}initHLS(e){let t=this.store.getRoom(),r={running:!0,variants:[]};return t?(e!=null&&e.variants&&e.variants.forEach((n,i)=>{var s,o,a;n.state!=="initialised"?r.variants.push({meetingURL:n==null?void 0:n.meetingURL,url:n==null?void 0:n.url,metadata:n==null?void 0:n.metadata,playlist_type:n==null?void 0:n.playlist_type,startedAt:Le((s=e==null?void 0:e.variants)==null?void 0:s[i].started_at),initialisedAt:Le((o=e==null?void 0:e.variants)==null?void 0:o[i].initialised_at),state:n.state,stream_type:n==null?void 0:n.stream_type}):r.variants.push({initialisedAt:Le((a=e==null?void 0:e.variants)==null?void 0:a[i].initialised_at),url:""})}),r):(E.w(this.TAG,"on hls - room not present"),r)}updateHLSStatus(e){var t;let r=this.store.getRoom(),n=e.variants&&e.variants.length>0?e.variants.some(i=>this.isStreamingRunning(i.state)):!1;if(!r){E.w(this.TAG,"on hls - room not present");return}e.enabled=n,r.hls=this.convertHls(e),(t=this.listener)==null||t.onRoomUpdate("HLS_STREAMING_STATE_UPDATED",r)}handleTranscriptionStatus(e){var t;let r=this.store.getRoom();if(!r){E.w(this.TAG,"on transcription - room not present");return}r.transcriptions=this.addTranscriptionDetail(e)||[],(t=this.listener)==null||t.onRoomUpdate("TRANSCRIPTION_STATE_UPDATED",r)}convertHls(e){var t;if(e!=null&&e.variants&&e.variants.length>0&&e.variants.some(n=>n.state==="initialised"))return this.initHLS(e);let r={running:!!(e!=null&&e.enabled),variants:[],error:this.toSdkError(e==null?void 0:e.error)};return(t=e==null?void 0:e.variants)==null||t.forEach(n=>{r.variants.push({meetingURL:n==null?void 0:n.meeting_url,url:n==null?void 0:n.url,metadata:n==null?void 0:n.metadata,playlist_type:n==null?void 0:n.playlist_type,startedAt:Le(n==null?void 0:n.started_at),initialisedAt:Le(n==null?void 0:n.initialised_at),state:n.state,stream_type:n==null?void 0:n.stream_type})}),r}getHLSRecording(e){var t,r;let n={running:!1},i=this.isRecordingRunning(e==null?void 0:e.state);return(i||(e==null?void 0:e.state)==="paused")&&(n={running:i,singleFilePerLayer:!!((t=e==null?void 0:e.hls_recording)!=null&&t.single_file_per_layer),hlsVod:!!((r=e==null?void 0:e.hls_recording)!=null&&r.hls_vod),startedAt:Le(e==null?void 0:e.started_at),initialisedAt:Le(e==null?void 0:e.initialised_at),state:e==null?void 0:e.state,error:this.toSdkError(e==null?void 0:e.error)}),n}getPeerListHLSRecording(e){var t,r;let n=e==null?void 0:e.hls;return{running:this.isRecordingRunning(n==null?void 0:n.state),startedAt:Le(n==null?void 0:n.started_at),initialisedAt:Le(n==null?void 0:n.initialised_at),state:n==null?void 0:n.state,singleFilePerLayer:(t=n==null?void 0:n.config)==null?void 0:t.single_file_per_layer,hlsVod:(r=n==null?void 0:n.config)==null?void 0:r.hls_vod}}getPeerListBrowserRecording(e){let t=e==null?void 0:e.browser;return{running:this.isRecordingRunning(t==null?void 0:t.state),startedAt:Le(t==null?void 0:t.started_at),state:t==null?void 0:t.state}}getPeerListSFURecording(e){let t=e==null?void 0:e.sfu;return{running:this.isRecordingRunning(t==null?void 0:t.state),startedAt:Le(t==null?void 0:t.started_at),state:t==null?void 0:t.state}}updateRecordingStatus(e){var t;let r=this.store.getRoom(),n=this.isRecordingRunning(e.state);if(!r){E.w(this.TAG,`set recording status running=${n} - room not present`);return}let i;e.type==="sfu"?(r.recording.server={running:n,startedAt:n?Le(e.started_at):void 0,error:this.toSdkError(e.error),state:e.state},i="SERVER_RECORDING_STATE_UPDATED"):e.type==="HLS"?(r.recording.hls=this.getHLSRecording(e),i="RECORDING_STATE_UPDATED"):(r.recording.browser={running:n,startedAt:n?Le(e.started_at):void 0,error:this.toSdkError(e.error),state:e==null?void 0:e.state},i="BROWSER_RECORDING_STATE_UPDATED"),(t=this.listener)==null||t.onRoomUpdate(i,r)}updateRTMPStatus(e){var t,r;let n=this.store.getRoom(),i=this.isStreamingRunning(e.state);if(!n){E.w(this.TAG,"on policy change - room not present");return}if(!i){n.rtmp={running:i,state:e.state,error:this.toSdkError(e.error)},(t=this.listener)==null||t.onRoomUpdate("RTMP_STREAMING_STATE_UPDATED",n);return}n.rtmp={running:i,startedAt:i?Le(e.started_at):void 0,state:e.state,error:this.toSdkError(e.error)},(r=this.listener)==null||r.onRoomUpdate("RTMP_STREAMING_STATE_UPDATED",n)}toSdkError(e){if(!(e!=null&&e.code))return;let t=e.message||"error in streaming/recording",r=new ae(e.code,"ServerErrors","NONE",t,t);return E.e(this.TAG,"error in streaming/recording",r),r}},R$=class{constructor(e,t){this.store=e,this.listener=t}handleNotification(e,t){e==="on-metadata-change"&&this.handleMetadataChange(t)}handleMetadataChange(e){var t;let r=e.values.map(n=>({key:n.key,value:n.data,updatedAt:Le(n.updated_at),updatedBy:n.updated_by?this.store.getPeerById(n.updated_by):void 0}));(t=this.listener)==null||t.onSessionStoreUpdate(r)}},A$=class{constructor(e,t,r){this.store=e,this.transport=t,this.listener=r}handleNotification(e,t){switch(e){case"on-whiteboard-update":{this.handleWhiteboardUpdate(t);break}}}handleWhiteboardUpdate(e){return v(this,null,function*(){var t;let r=this.store.getLocalPeer(),n=this.store.getWhiteboard(e.id),i=e.owner===(r==null?void 0:r.peerId)||e.owner===(r==null?void 0:r.customerUserId),s=e.state==="open",o={id:e.id,title:e.title,attributes:e.attributes};if(o.open=i?n==null?void 0:n.open:s,o.owner=o.open?e.owner:void 0,o.open)if(i)o.url=n==null?void 0:n.url,o.token=n==null?void 0:n.token,o.addr=n==null?void 0:n.addr,o.permissions=n==null?void 0:n.permissions;else{let a=yield this.transport.signal.getWhiteboard({id:e.id});o.url=Uh(a.token,a.addr,this.store.getEnv()),o.token=a.token,o.addr=a.addr,o.permissions=a.permissions,o.open=a.permissions.length>0}this.store.setWhiteboard(o),(t=this.listener)==null||t.onWhiteboardUpdate(o)})}},I$=class{constructor(e,t,r,n,i,s){this.store=e,this.transport=r,this.listener=n,this.audioListener=i,this.connectionQualityListener=s,this.TAG="[HMSNotificationManager]",this.hasConsistentRoomStateArrived=!1,this.ignoreNotification=a=>{if(a==="peer-list")this.hasConsistentRoomStateArrived=!0;else if(a==="room-state")return this.hasConsistentRoomStateArrived;return!1},this.handleTrackAdd=a=>{this.trackManager.handleTrackAdd(a)},this.handleTrackRemove=a=>{this.trackManager.handleTrackRemove(a)},this.updateLocalPeer=({name:a,metadata:l})=>{let u=this.store.getLocalPeer();this.peerManager.handlePeerInfoUpdate({peer:u,name:a,data:l})};let o=this.transport.isFlagEnabled("onDemandTracks");this.trackManager=o?new S$(this.store,t,this.transport,this.listener):new uE(this.store,t,this.listener),this.peerManager=new k$(this.store,this.trackManager,this.listener),this.peerListManager=new T$(this.store,this.peerManager,this.trackManager,this.listener),this.broadcastManager=new v$(this.listener),this.policyChangeManager=new E$(this.store,t),this.requestManager=new w$(this.store,this.listener),this.activeSpeakerManager=new g$(this.store,this.listener,this.audioListener),this.connectionQualityManager=new y$(this.store,this.connectionQualityListener),this.roomUpdateManager=new C$(this.store,this.listener),this.sessionMetadataManager=new R$(this.store,this.listener),this.pollsManager=new P$(this.store,this.transport,this.listener),this.whiteboardManager=new A$(this.store,this.transport,this.listener)}setListener(e){this.listener=e,this.trackManager.listener=e,this.peerManager.listener=e,this.peerListManager.listener=e,this.broadcastManager.listener=e,this.requestManager.listener=e,this.activeSpeakerManager.listener=e,this.roomUpdateManager.listener=e,this.sessionMetadataManager.listener=e,this.pollsManager.listener=e,this.whiteboardManager.listener=e}setAudioListener(e){this.audioListener=e,this.activeSpeakerManager.audioListener=e}setConnectionQualityListener(e){this.connectionQualityListener=e,this.connectionQualityManager.listener=e}handleNotification(e,t=!1){var r,n;let i=e.method,s=e.params;["active-speakers","sfu-stats","on-connection-quality-update",void 0].includes(i)||E.d(this.TAG,`Received notification - ${i}`,{notification:s}),i==="sfu-stats"&&(r=window.HMS)!=null&&r.ON_SFU_STATS&&typeof((n=window.HMS)==null?void 0:n.ON_SFU_STATS)=="function"&&window.HMS.ON_SFU_STATS(e.params),!this.ignoreNotification(i)&&(this.roomUpdateManager.handleNotification(i,s),this.peerManager.handleNotification(i,s),this.requestManager.handleNotification(i,s),this.peerListManager.handleNotification(i,s,t),this.broadcastManager.handleNotification(i,s),this.sessionMetadataManager.handleNotification(i,s),this.pollsManager.handleNotification(i,s),this.whiteboardManager.handleNotification(i,s),this.handleIsolatedMethods(i,s))}handleIsolatedMethods(e,t){switch(e){case"on-track-add":{this.trackManager.handleTrackMetadataAdd(t);break}case"on-track-update":{this.trackManager.handleTrackUpdate(t);break}case"on-track-remove":{if(!t.peer){E.d(this.TAG,`Ignoring sfu notification - ${e}`,{notification:t});return}this.trackManager.handleTrackRemovedPermanently(t);break}case"on-track-layer-update":{this.trackManager.handleTrackLayerUpdate(t);break}case"active-speakers":this.activeSpeakerManager.handleActiveSpeakers(t);break;case"on-connection-quality-update":this.connectionQualityManager.handleQualityUpdate(t);break;case"on-policy-change":this.policyChangeManager.handlePolicyChange(t);break}}},O$=class{constructor(e){this.transport=e,this.observedKeys=new Set}get(e){return v(this,null,function*(){let{data:t,updated_at:r}=yield this.transport.signal.getSessionMetadata(e);return{value:t,updatedAt:Le(r)}})}set(e,t){return v(this,null,function*(){let{data:r,updated_at:n}=yield this.transport.signal.setSessionMetadata({key:e,data:t}),i=Le(n);return{value:r,updatedAt:i}})}observe(e){return v(this,null,function*(){let t=new Set(this.observedKeys);if(e.forEach(r=>this.observedKeys.add(r)),this.observedKeys.size!==t.size)try{yield this.transport.signal.listenMetadataChange(Array.from(this.observedKeys))}catch(r){throw this.observedKeys=t,r}})}unobserve(e){return v(this,null,function*(){let t=new Set(this.observedKeys);if(this.observedKeys=new Set([...this.observedKeys].filter(r=>!e.includes(r))),this.observedKeys.size!==t.size)try{yield this.transport.signal.listenMetadataChange(Array.from(this.observedKeys))}catch(r){throw this.observedKeys=t,r}})}},D$=class{constructor(e,t,r="",n="",i="https://prod-init.100ms.live/init",s=!1,o){this.authToken=e,this.peerId=t,this.peerName=r,this.data=n,this.endpoint=i,this.autoSubscribeVideo=s,this.iceServers=o}},Ut=(e=>(e[e.ConnectFailed=0]="ConnectFailed",e[e.SignalDisconnect=1]="SignalDisconnect",e[e.JoinWSMessageFailed=2]="JoinWSMessageFailed",e[e.PublishIceConnectionFailed=3]="PublishIceConnectionFailed",e[e.SubscribeIceConnectionFailed=4]="SubscribeIceConnectionFailed",e))(Ut||{}),x$={0:[],1:[],2:[1],3:[1],4:[1]},zh=(e=>(e.Disconnected="Disconnected",e.Connecting="Connecting",e.Joined="Joined",e.Preview="Preview",e.Failed="Failed",e.Reconnecting="Reconnecting",e.Leaving="Leaving",e))(zh||{}),L$=class{constructor(e){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r,e(t,r)})}},M$=class{constructor(e,t){this.onStateChange=e,this.sendEvent=t,this.TAG="[RetryScheduler]",this.inProgress=new Map,this.retryTaskIds=[]}schedule(e){return v(this,arguments,function*({category:t,error:r,task:n,originalState:i,maxFailedRetries:s=5,changeState:o=!0}){yield this.scheduleTask({category:t,error:r,changeState:o,task:n,originalState:i,maxFailedRetries:s})})}reset(){this.retryTaskIds.forEach(e=>clearTimeout(e)),this.retryTaskIds=[],this.inProgress.clear()}isTaskInProgress(e){return!!this.inProgress.get(e)}scheduleTask(e){return v(this,arguments,function*({category:t,error:r,changeState:n,task:i,originalState:s,maxFailedRetries:o=5,failedRetryCount:a=0}){if(E.d(this.TAG,"schedule: ",{category:Ut[t],error:r}),a===0){let h=this.inProgress.get(t);if(h){E.d(this.TAG,`schedule: Already a task for ${Ut[t]} scheduled, waiting for its completion`),yield h.promise;return}let f=new L$((m,p)=>{});this.inProgress.set(t,f),this.sendEvent(r,t)}let l=!1,u=x$[t];for(let h in u){let f=u[parseInt(h)];try{let m=this.inProgress.get(f);m&&(E.d(this.TAG,`schedule: Suspending retry task of ${Ut[t]}, waiting for ${Ut[f]} to recover`),yield m.promise,E.d(this.TAG,`schedule: Resuming retry task ${Ut[t]} as it's dependency ${Ut[f]} is recovered`))}catch{E.d(this.TAG,`schedule: Stopping retry task of ${Ut[t]} as it's dependency ${Ut[f]} failed to recover`),l=!0;break}}if(a>=o||l){if(r.description+=`. [${Ut[t]}] Could not recover after ${a} tries`,l&&(r.description+=` Could not recover all of it's required dependencies - [${u.map(h=>Ut[h]).toString()}]`),r.isTerminal=!0,this.inProgress.delete(t),this.sendEvent(r,t),this.reset(),n)this.onStateChange("Failed",r);else throw r;return}n&&this.onStateChange("Reconnecting",r);let c=this.getDelayForRetryCount(t,a);E.d(this.TAG,`schedule: [${Ut[t]}] [failedRetryCount=${a}] Scheduling retry task in ${c}ms`);let d;try{d=yield this.setTimeoutPromise(i,c)}catch(h){d=!1,E.w(this.TAG,`[${Ut[t]}] Un-caught exception ${h.name} in retry-task, initiating retry`,h)}if(d){let h=this.inProgress.get(t);this.inProgress.delete(t),h==null||h.resolve(a),n&&this.inProgress.size===0&&this.onStateChange(s),E.d(this.TAG,`schedule: [${Ut[t]}] [failedRetryCount=${a}] Recovered ♻️`)}else yield this.scheduleTask({category:t,error:r,changeState:n,task:i,originalState:s,maxFailedRetries:o,failedRetryCount:a+1})})}getBaseDelayForTask(e,t){return e===2?2:Math.pow(2,t)}getDelayForRetryCount(e,t){let r=this.getBaseDelayForTask(e,t),n=e===2?Math.random()*2:Math.random();return Math.round(Math.min(r+n,60)*1e3)}setTimeoutPromise(e,t){return v(this,null,function*(){return new Promise((r,n)=>{let i=window.setTimeout(()=>v(this,null,function*(){try{let s=yield e();s&&this.retryTaskIds.splice(this.retryTaskIds.indexOf(i),1),r(s)}catch(s){n(s)}}),t);this.retryTaskIds.push(i)})})}},N$=class extends xp{constructor(){super(100),this.localStorage=new nc("hms-analytics"),this.localStorage.clear(),this.initLocalStorageQueue()}enqueue(e){super.enqueue(e),this.localStorage.set(this.storage)}dequeue(){let e=super.dequeue();return this.localStorage.set(this.storage),e}initLocalStorageQueue(){var e;(e=this.localStorage.get())==null||e.forEach(t=>{let r=new Me(t);super.enqueue(r)})}},$$=class{constructor(){this.TAG="[AnalyticsTransport]"}sendEvent(e){try{this.sendSingleEvent(e),this.flushFailedEvents()}catch(t){E.w(this.TAG,"sendEvent failed",t)}}flushFailedEvents(e){var t;try{for(E.d(this.TAG,"Flushing failed events",this.failedEvents);this.failedEvents.size()>0;){let r=this.failedEvents.dequeue();r&&(((t=r.metadata)==null?void 0:t.peer.peer_id)===e||!r.metadata.peer.peer_id?this.sendSingleEvent(r):oa.sendEvent(r))}}catch(r){E.w(this.TAG,"flushFailedEvents failed",r)}}sendSingleEvent(e){try{this.transportProvider.sendEvent(e),E.d(this.TAG,"Sent event",e.name,e)}catch(t){throw E.w(this.TAG,`${this.transportProvider.TAG}.sendEvent failed, adding to local storage events`,{event:e,error:t}),this.failedEvents.enqueue(e),t}}},F$=class extends $${constructor(e){super(),this.transportProvider=e,this.failedEvents=new N$}},cE=class{constructor(e,t,r,n){this.store=e,this.eventBus=t,this.sampleWindowSize=r,this.pushInterval=n,this.shouldSendEvent=!1,this.sequenceNum=1,this.stop=()=>{this.shouldSendEvent&&this.sendEvent(),this.eventBus.statsUpdate.unsubscribe(this.handleStatsUpdate.bind(this)),this.shouldSendEvent=!1},this.start()}start(){this.shouldSendEvent||(this.stop(),this.shouldSendEvent=!0,this.eventBus.statsUpdate.subscribe(this.handleStatsUpdate.bind(this)),this.startLoop().catch(e=>E.e("[StatsAnalytics]",e.message)))}startLoop(){return v(this,null,function*(){for(;this.shouldSendEvent;)yield ei(this.pushInterval*1e3),this.sendEvent()})}sendEvent(){this.trackAnalytics.forEach(e=>{e.clearSamples()})}cleanTrackAnalyticsAndCreateSample(e){this.trackAnalytics.forEach(t=>{!this.store.hasTrack(t.track)&&!(t.samples.length>0)&&this.trackAnalytics.delete(t.track_id)}),e&&this.trackAnalytics.forEach(t=>{t.createSample()})}},dE=class{constructor({track:e,ssrc:t,rid:r,kind:n,sampleWindowSize:i}){this.samples=[],this.tempStats=[],this.track=e,this.ssrc=t,this.rid=r,this.kind=n,this.track_id=this.track.trackId,this.source=this.track.source,this.sampleWindowSize=i}pushTempStat(e){this.tempStats.push(e)}createSample(){this.tempStats.length!==0&&(this.samples.push(this.collateSample()),this.prevLatestStat=this.getLatestStat(),this.tempStats.length=0)}clearSamples(){this.samples.length=0}getLatestStat(){return this.tempStats[this.tempStats.length-1]}getFirstStat(){return this.tempStats[0]}calculateSum(e){if(typeof this.getLatestStat()[e]=="number")return this.tempStats.reduce((t,r)=>t+(r[e]||0),0)}calculateAverage(e,t=!0){let r=this.calculateSum(e),n=r!==void 0?r/this.tempStats.length:void 0;return n?t?Math.round(n):n:void 0}calculateDifferenceForSample(e){var t;let r=Number((t=this.prevLatestStat)==null?void 0:t[e])||0;return(Number(this.getLatestStat()[e])||0)-r}calculateDifferenceAverage(e,t=!0){let r=this.calculateDifferenceForSample(e)/this.tempStats.length;return t?Math.round(r):r}calculateInstancesOfHigh(e,t){if(typeof this.getLatestStat()[e]=="number")return this.tempStats.reduce((r,n)=>r+((n[e]||0)>t?1:0),0)}},hE=(e,t)=>e&&t&&(e.frameWidth!==t.frameWidth||e.frameHeight!==t.frameHeight),fE=(e,t)=>e&&t&&e.enabled!==t.enabled,Vh=e=>Object.entries(e).filter(([,t])=>t!==void 0).reduce((t,[r,n])=>(t[r]=n,t),{}),j$=class extends cE{constructor(){super(...arguments),this.trackAnalytics=new Map}toAnalytics(){var e,t;let r=[],n=[];return this.trackAnalytics.forEach(i=>{i.track.type==="audio"?r.push(i.toAnalytics()):i.track.type==="video"&&n.push(i.toAnalytics())}),{audio:r,video:n,joined_at:(t=(e=this.store.getRoom())==null?void 0:e.joinedAt)==null?void 0:t.getTime(),sequence_num:this.sequenceNum++,max_window_sec:30}}sendEvent(){this.eventBus.analytics.publish(Se.publishStats(this.toAnalytics())),super.sendEvent()}handleStatsUpdate(e){let t=!1,r=e.getLocalTrackStats();Object.keys(r).forEach(n=>{let i=r[n],s=this.store.getLocalPeerTracks().find(o=>o.getTrackIDBeingSent()===n);Object.keys(i).forEach(o=>{var a,l,u;let c=i[o];if(!s)return;let d=this.getTrackIdentifier(s.trackId,c),h=be(Y({},c),{availableOutgoingBitrate:(l=(a=e.getLocalPeerStats())==null?void 0:a.publish)==null?void 0:l.availableOutgoingBitrate});if(d&&this.trackAnalytics.has(d))(u=this.trackAnalytics.get(d))==null||u.pushTempStat(h);else if(s){let m=new U$({track:s,sampleWindowSize:this.sampleWindowSize,rid:c.rid,ssrc:c.ssrc.toString(),kind:c.kind});m.pushTempStat(h),this.trackAnalytics.set(this.getTrackIdentifier(s.trackId,c),m)}let f=this.trackAnalytics.get(d);f!=null&&f.shouldCreateSample()&&(t=!0)})}),this.cleanTrackAnalyticsAndCreateSample(t)}getTrackIdentifier(e,t){return t.rid?`${e}:${t.rid}`:e}},U$=class extends dE{constructor(){super(...arguments),this.samples=[],this.collateSample=()=>{let e=this.getLatestStat(),t=e.qualityLimitationDurations,r=t&&{bandwidth_sec:t.bandwidth,cpu_sec:t.cpu,other_sec:t.other},n=e.frameHeight?{height_px:this.getLatestStat().frameHeight,width_px:this.getLatestStat().frameWidth}:void 0,i=this.calculateAverage("jitter",!1),s=i?Math.round(i*1e3):void 0,o=this.calculateAverage("roundTripTime",!1),a=o?Math.round(o*1e3):void 0;return Vh({timestamp:Date.now(),avg_available_outgoing_bitrate_bps:this.calculateAverage("availableOutgoingBitrate"),avg_bitrate_bps:this.calculateAverage("bitrate"),avg_fps:this.calculateAverage("framesPerSecond"),total_packets_lost:this.getLatestStat().packetsLost,total_packets_sent:this.getLatestStat().packetsSent,total_packet_sent_delay_sec:parseFloat(this.calculateDifferenceForSample("totalPacketSendDelay").toFixed(4)),total_fir_count:this.calculateDifferenceForSample("firCount"),total_pli_count:this.calculateDifferenceForSample("pliCount"),total_nack_count:this.calculateDifferenceForSample("nackCount"),avg_jitter_ms:s,avg_round_trip_time_ms:a,total_quality_limitation:r,resolution:n})},this.shouldCreateSample=()=>{let e=this.tempStats.length,t=this.tempStats[e-1],r=this.tempStats[e-2];return e===30||fE(t,r)||t.kind==="video"&&hE(t,r)},this.toAnalytics=()=>({track_id:this.track_id,ssrc:this.ssrc,source:this.source,rid:this.rid,samples:this.samples})}},B$=class extends cE{constructor(){super(...arguments),this.trackAnalytics=new Map}toAnalytics(){var e,t;let r=[],n=[];return this.trackAnalytics.forEach(i=>{i.track.type==="audio"?r.push(i.toAnalytics()):i.track.type==="video"&&n.push(i.toAnalytics())}),{audio:r,video:n,joined_at:(t=(e=this.store.getRoom())==null?void 0:e.joinedAt)==null?void 0:t.getTime(),sequence_num:this.sequenceNum++,max_window_sec:10}}sendEvent(){this.eventBus.analytics.publish(Se.subscribeStats(this.toAnalytics())),super.sendEvent()}handleStatsUpdate(e){let t=e.getAllRemoteTracksStats(),r=!1;Object.keys(t).forEach(n=>{var i;let s=t[n],o=this.store.getTrackById(n),a=(d=>d.jitterBufferDelay&&d.jitterBufferEmittedCount&&d.jitterBufferDelay/d.jitterBufferEmittedCount*1e3)(s),l=this.calculateAvSyncForStat(s,e),u=be(Y({},s),{calculatedJitterBufferDelay:a,avSync:l});if(s.kind==="video"){let d=o.getPreferredLayerDefinition();u.expectedFrameHeight=d==null?void 0:d.resolution.height,u.expectedFrameWidth=d==null?void 0:d.resolution.width}if(this.trackAnalytics.has(n))(i=this.trackAnalytics.get(n))==null||i.pushTempStat(u);else if(o){let d=new z$({track:o,sampleWindowSize:this.sampleWindowSize,ssrc:s.ssrc.toString(),kind:s.kind});d.pushTempStat(u),this.trackAnalytics.set(n,d)}let c=this.trackAnalytics.get(n);c!=null&&c.shouldCreateSample()&&(r=!0)}),this.cleanTrackAnalyticsAndCreateSample(r)}calculateAvSyncForStat(e,t){if(!e.peerID||!e.estimatedPlayoutTimestamp||e.kind!=="video")return;let r=this.store.getPeerById(e.peerID),n=r==null?void 0:r.audioTrack,i=r==null?void 0:r.videoTrack;if(!(n&&i&&n.enabled&&i.enabled))return Tu;let s=t.getRemoteTrackStats(n.trackId);if(!s)return Tu;if(s.estimatedPlayoutTimestamp)return s.estimatedPlayoutTimestamp-e.estimatedPlayoutTimestamp}},z$=class extends dE{constructor(){super(...arguments),this.samples=[],this.collateSample=()=>{let e=this.getLatestStat(),t=this.getFirstStat(),r={timestamp:Date.now(),total_pli_count:this.calculateDifferenceForSample("pliCount"),total_nack_count:this.calculateDifferenceForSample("nackCount"),avg_jitter_buffer_delay:this.calculateAverage("calculatedJitterBufferDelay",!1)};if(e.kind==="video")return Vh(be(Y({},r),{avg_av_sync_ms:this.calculateAvgAvSyncForSample(),avg_frames_received_per_sec:this.calculateDifferenceAverage("framesReceived"),avg_frames_dropped_per_sec:this.calculateDifferenceAverage("framesDropped"),avg_frames_decoded_per_sec:this.calculateDifferenceAverage("framesDecoded"),frame_width:this.calculateAverage("frameWidth"),frame_height:this.calculateAverage("frameHeight"),expected_frame_width:this.calculateAverage("expectedFrameWidth"),expected_frame_height:this.calculateAverage("expectedFrameHeight"),pause_count:this.calculateDifferenceForSample("pauseCount"),pause_duration_seconds:this.calculateDifferenceForSample("totalPausesDuration"),freeze_count:this.calculateDifferenceForSample("freezeCount"),freeze_duration_seconds:this.calculateDifferenceForSample("totalFreezesDuration")}));{let n=(e.concealedSamples||0)-(e.silentConcealedSamples||0)-((t.concealedSamples||0)-(t.silentConcealedSamples||0));return Vh(be(Y({},r),{audio_level:this.calculateInstancesOfHigh("audioLevel",.05),audio_concealed_samples:n,audio_total_samples_received:this.calculateDifferenceForSample("totalSamplesReceived"),audio_concealment_events:this.calculateDifferenceForSample("concealmentEvents"),fec_packets_discarded:this.calculateDifferenceForSample("fecPacketsDiscarded"),fec_packets_received:this.calculateDifferenceForSample("fecPacketsReceived"),total_samples_duration:this.calculateDifferenceForSample("totalSamplesDuration"),total_packets_received:this.calculateDifferenceForSample("packetsReceived"),total_packets_lost:this.calculateDifferenceForSample("packetsLost")}))}},this.shouldCreateSample=()=>{let e=this.tempStats.length,t=this.tempStats[e-1],r=this.tempStats[e-2];return e===10||fE(t,r)||t.kind==="video"&&hE(t,r)},this.toAnalytics=()=>({track_id:this.track_id,ssrc:this.ssrc,source:this.source,rid:this.rid,samples:this.samples})}calculateAvgAvSyncForSample(){let e=this.tempStats.map(t=>t.avSync).filter(t=>t!==void 0&&t!==Tu);return e.length===0?Tu:e.reduce((t,r)=>t+r,0)/e.length}},Gh=(e=>(e[e.Publish=0]="Publish",e[e.Subscribe=1]="Subscribe",e))(Gh||{});function V$(e,t){var r;let n=Ek(e.sdp);if(!((r=n.origin)!=null&&r.username.startsWith("mozilla")))return e;let i=t?Array.from(t.values()):[];return n.media.forEach(s=>{var o,a,l;let u=(o=s.msid)==null?void 0:o.split(" ")[0],c=(a=i.find(d=>d.type===s.type&&d.stream_id===u))==null?void 0:a.track_id;c&&(s.msid=(l=s.msid)==null?void 0:l.replace(/\s(.+)/,` ${c}`))}),{type:e.type,sdp:zL(n)}}function G$(e,t){var r;if(!(e!=null&&e.sdp)||!t)return;let n=Ek(e.sdp).media.find(i=>Zn(i.mid)&&parseInt(i.mid)===parseInt(t));return(r=n==null?void 0:n.msid)==null?void 0:r.split(" ")[1]}function H$(e){return e.sdp.includes("usedtx=1")?e:{type:e.type,sdp:e.sdp.replace("useinbandfec=1","useinbandfec=1;usedtx=1")}}var ln="[HMSConnection]",pE=class{constructor(e,t){this.candidates=new Array,this.role=e,this.signal=t}get iceConnectionState(){return this.nativeConnection.iceConnectionState}get connectionState(){return this.nativeConnection.connectionState}get action(){return this.role===0?"PUBLISH":"SUBSCRIBE"}addTransceiver(e,t){return this.nativeConnection.addTransceiver(e,t)}createOffer(e,t){return v(this,null,function*(){try{let r=yield this.nativeConnection.createOffer(t);return E.d(ln,`[role=${this.role}] createOffer offer=${JSON.stringify(r,null,1)}`),H$(V$(r,e))}catch(r){throw K.WebrtcErrors.CreateOfferFailed(this.action,r.message)}})}createAnswer(e=void 0){return v(this,null,function*(){try{let t=yield this.nativeConnection.createAnswer(e);return E.d(ln,`[role=${this.role}] createAnswer answer=${JSON.stringify(t,null,1)}`),t}catch(t){throw K.WebrtcErrors.CreateAnswerFailed(this.action,t.message)}})}setLocalDescription(e){return v(this,null,function*(){try{E.d(ln,`[role=${this.role}] setLocalDescription description=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.setLocalDescription(e)}catch(t){throw K.WebrtcErrors.SetLocalDescriptionFailed(this.action,t.message)}})}setRemoteDescription(e){return v(this,null,function*(){try{E.d(ln,`[role=${this.role}] setRemoteDescription description=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.setRemoteDescription(e)}catch(t){throw K.WebrtcErrors.SetRemoteDescriptionFailed(this.action,t.message)}})}addIceCandidate(e){return v(this,null,function*(){if(this.nativeConnection.signalingState==="closed"){E.d(ln,`[role=${this.role}] addIceCandidate signalling state closed`);return}E.d(ln,`[role=${this.role}] addIceCandidate candidate=${JSON.stringify(e,null,1)}`),yield this.nativeConnection.addIceCandidate(e)})}get remoteDescription(){return this.nativeConnection.remoteDescription}getSenders(){return this.nativeConnection.getSenders()}logSelectedIceCandidatePairs(){try{(this.role===0?this.getSenders():this.getReceivers()).forEach(e=>{var t;let r=(t=e.track)==null?void 0:t.kind;if(e.transport){let n=e.transport.iceTransport,i=()=>{typeof n.getSelectedCandidatePair=="function"&&(this.selectedCandidatePair=n.getSelectedCandidatePair(),E.d(ln,`${Gh[this.role]} connection`,`selected ${r||"unknown"} candidate pair`,JSON.stringify(this.selectedCandidatePair,null,2)))};typeof n.onselectedcandidatepairchange=="function"&&(n.onselectedcandidatepairchange=i),i()}})}catch(e){E.w(ln,`Error in logging selected ice candidate pair for ${Gh[this.role]} connection`,e)}}removeTrack(e){this.nativeConnection.signalingState!=="closed"&&this.nativeConnection.removeTrack(e)}setMaxBitrateAndFramerate(e){return v(this,null,function*(){let t=e.settings.maxBitrate,r=e instanceof Fr&&e.settings.maxFramerate,n=this.getSenders().find(i=>{var s;return((s=i==null?void 0:i.track)==null?void 0:s.id)===e.getTrackIDBeingSent()});if(n){let i=n.getParameters();i.encodings.length===1&&(t&&(i.encodings[0].maxBitrate=t*1e3),r&&(i.encodings[0].maxFramerate=r)),yield n.setParameters(i)}else E.w(ln,`no sender found to setMaxBitrate for track - ${e.trackId}, sentTrackId - ${e.getTrackIDBeingSent()}`)})}getStats(){return v(this,null,function*(){return yield this.nativeConnection.getStats()})}close(){return v(this,null,function*(){this.nativeConnection.close()})}getReceivers(){return this.nativeConnection.getReceivers()}},W$=class extends pE{constructor(e,t,r){super(0,e),this.TAG="[HMSPublishConnection]",this.observer=r,this.nativeConnection=new RTCPeerConnection(t),this.channel=this.nativeConnection.createDataChannel(zk,{protocol:"SCTP"}),this.channel.onerror=n=>E.e(this.TAG,`publish data channel onerror ${n}`,n),this.nativeConnection.onicecandidate=({candidate:n})=>{n&&e.trickle(this.role,n)},this.nativeConnection.oniceconnectionstatechange=()=>{this.observer.onIceConnectionChange(this.nativeConnection.iceConnectionState)},this.nativeConnection.onconnectionstatechange=()=>{this.observer.onConnectionStateChange(this.nativeConnection.connectionState),this.nativeConnection.sctp&&(this.nativeConnection.sctp.transport.onstatechange=()=>{var n;this.observer.onDTLSTransportStateChange((n=this.nativeConnection.sctp)==null?void 0:n.transport.state)},this.nativeConnection.sctp.transport.onerror=n=>{var i;this.observer.onDTLSTransportError(new Error((i=n==null?void 0:n.error)==null?void 0:i.errorDetail)||"DTLS Transport failed")})}}initAfterJoin(){this.nativeConnection.onnegotiationneeded=()=>v(this,null,function*(){E.d(this.TAG,"onnegotiationneeded"),yield this.observer.onRenegotiationNeeded()})}},q$=class{constructor(e,t,r=""){this.TAG="[HMSDataChannel]",this.nativeChannel=e,this.observer=t,this.metadata=r,e.onmessage=n=>{this.observer.onMessage(n.data)}}get id(){return this.nativeChannel.id}get label(){return this.nativeChannel.label}get readyState(){return this.nativeChannel.readyState}send(e){E.d(this.TAG,`[${this.metadata}] Sending [size=${e.length}] message=${e}`),this.nativeChannel.send(e)}close(){this.nativeChannel.close()}},K$=class mE extends pE{constructor(t,r,n,i){super(1,t),this.isFlagEnabled=n,this.TAG="[HMSSubscribeConnection]",this.remoteStreams=new Map,this.MAX_RETRIES=3,this.pendingMessageQueue=[],this.eventEmitter=new kL({maxListeners:60}),this.handlePendingApiMessages=()=>{this.eventEmitter.emit("open",!0),this.pendingMessageQueue.length>0&&(E.d(this.TAG,"Found pending message queue, sending messages"),this.pendingMessageQueue.forEach(s=>this.sendOverApiDataChannel(s)),this.pendingMessageQueue.length=0)},this.sendMessage=(s,o)=>v(this,null,function*(){var a;((a=this.apiChannel)==null?void 0:a.readyState)!=="open"&&(yield this.eventEmitter.waitFor("open"));let l;for(let u=0;u<this.MAX_RETRIES;u++){this.apiChannel.send(s),l=yield this.waitForResponse(o);let c=l.error;if(c){if(c.code===404){E.d(this.TAG,`Track not found ${o}`,{request:s,try:u+1,error:c});break}if(E.d(this.TAG,`Failed sending ${o}`,{request:s,try:u+1,error:c}),!(c.code/100===5||c.code===429))throw Error(`code=${c.code}, message=${c.message}`);let d=(2+Math.random()*2)*1e3;yield sc(d)}else break}return l}),this.waitForResponse=s=>v(this,null,function*(){let o=yield this.eventEmitter.waitFor("message",function(l){return l.includes(s)}),a=JSON.parse(o[0]);return E.d(this.TAG,`response for ${s} -`,JSON.stringify(a,null,2)),a}),this.observer=i,this.nativeConnection=new RTCPeerConnection(r),this.initNativeConnectionCallbacks()}initNativeConnectionCallbacks(){this.nativeConnection.oniceconnectionstatechange=()=>{this.observer.onIceConnectionChange(this.nativeConnection.iceConnectionState)},this.nativeConnection.onconnectionstatechange=()=>{this.observer.onConnectionStateChange(this.nativeConnection.connectionState)},this.nativeConnection.ondatachannel=t=>{t.channel.label===zk&&(this.apiChannel=new q$(t.channel,{onMessage:r=>{this.eventEmitter.emit("message",r),this.observer.onApiChannelMessage(r)}},`role=${this.role}`),t.channel.onopen=this.handlePendingApiMessages)},this.nativeConnection.onicecandidate=t=>{t.candidate!==null&&this.signal.trickle(this.role,t.candidate)},this.nativeConnection.ontrack=t=>{var r;let n=t.streams[0],i=n.id;if(!this.remoteStreams.has(i)){let u=new Np(n,this);this.remoteStreams.set(i,u)}n.addEventListener("removetrack",u=>{if(u.track.id!==t.track.id)return;let c=s.tracks.findIndex(d=>{var h;return d.nativeTrack.id===u.track.id&&t.transceiver.mid===((h=d.transceiver)==null?void 0:h.mid)});if(c>=0){let d=s.tracks[c];this.observer.onTrackRemove(d),s.tracks.splice(c,1),s.tracks.length===0&&this.remoteStreams.delete(i)}});let s=this.remoteStreams.get(i),o=t.track.kind==="audio"?Ta:Er,a=new o(s,t.track);t.track.kind==="video"&&s.setVideoLayerLocally("none","addTrack","subscribeConnection"),a.transceiver=t.transceiver;let l=G$(this.remoteDescription,(r=t.transceiver)==null?void 0:r.mid);l&&a.setSdpTrackId(l),s.tracks.push(a),this.observer.onTrackAdd(a)}}sendOverApiDataChannel(t){this.apiChannel&&this.apiChannel.readyState==="open"?this.apiChannel.send(t):(E.w(this.TAG,`API Data channel not ${this.apiChannel?"open":"present"}, queueing`,t),this.pendingMessageQueue.push(t))}sendOverApiDataChannelWithResponse(t,r){return v(this,null,function*(){let n=si();if(t.method==="prefer-video-track-state"&&this.isFlagEnabled("disableVideoTrackAutoUnsubscribe")&&t.params.max_spatial_layer==="none")return E.d(this.TAG,"video auto unsubscribe is disabled, request is ignored"),{id:n};let i=JSON.stringify(Y({id:r||n,jsonrpc:"2.0"},t));return this.sendMessage(i,n)})}close(){return v(this,null,function*(){var t;yield gn(mE.prototype,this,"close").call(this),(t=this.apiChannel)==null||t.close()})}},Q$=(e,t)=>!t||t.length===0?e:t.map(r=>({urls:r.urls,credentialType:"password",credential:r.password,username:r.userName})),Al="[InitService]",Y$=class{static handleError(e,t){switch(e.status){case 404:throw K.APIErrors.EndpointUnreachable("INIT",t.message||e.statusText);case 200:break;default:throw K.APIErrors.ServerErrors(t.code||e.status,"INIT",t.message||(e==null?void 0:e.statusText))}}static fetchInitConfig(e){return v(this,arguments,function*({token:t,peerId:r,userAgent:n,initEndpoint:i="https://prod-init.100ms.live",region:s="",iceServers:o}){E.d(Al,`fetchInitConfig: initEndpoint=${i} token=${t} peerId=${r} region=${s} `);let a=J$(i,r,n,s);try{let l=yield fetch(a,{headers:{Authorization:`Bearer ${t}`}});try{let u=yield l.clone().json();return this.handleError(l,u),E.d(Al,`config is ${JSON.stringify(u,null,2)}`),X$(u,o)}catch(u){let c=yield l.text();throw E.e(Al,"json error",u.message,c),K.APIErrors.ServerErrors(l.status,"INIT",c)}}catch(l){let u=l;throw["Failed to fetch","NetworkError","ECONNRESET"].some(c=>u.message.includes(c))?K.APIErrors.EndpointUnreachable("INIT",u.message):u}})}};function J$(e,t,r,n){try{let i=new URL("/init",e);return n&&n.trim().length>0&&i.searchParams.set("region",n.trim()),i.searchParams.set("peer_id",t),i.searchParams.set("user_agent_v2",r),i.toString()}catch(i){let s=i;throw E.e(Al,s.name,s.message),s}}function X$(e,t){var r;return be(Y({},e),{rtcConfiguration:be(Y({},e.rtcConfiguration),{iceServers:Q$((r=e.rtcConfiguration)==null?void 0:r.ice_servers,t)})})}var Z$=class{constructor(e){this.TAG="[SIGNAL]: ",this.pongResponseTimes=new xp(5),this.isJoinCompleted=!1,this.pendingTrickle=[],this.socket=null,this.callbacks=new Map,this._isConnected=!1,this.id=0,this.onCloseHandler=()=>{},this.resolvePingOnAnyResponse=()=>{this.callbacks.forEach((t,r)=>{var n;((n=t.metadata)==null?void 0:n.method)==="ping"&&(t.resolve({timestamp:Date.now()}),this.callbacks.delete(r))})},this.offlineListener=()=>{E.d(this.TAG,"Window network offline"),this.setIsConnected(!1,"Window network offline")},this.onlineListener=()=>{E.d(this.TAG,"Window network online"),this.observer.onNetworkOnline()},this.observer=e,window.addEventListener("offline",this.offlineListener),window.addEventListener("online",this.onlineListener),this.onMessageHandler=this.onMessageHandler.bind(this)}get isConnected(){return this._isConnected}setIsConnected(e,t=""){E.d(this.TAG,`isConnected set id: ${this.id}, oldValue: ${this._isConnected}, newValue: ${e}`),this._isConnected!==e&&(this._isConnected&&!e?(this._isConnected=e,this.rejectPendingCalls(t),this.observer.onOffline(t)):!this._isConnected&&e&&(this._isConnected=e,this.observer.onOnline()))}getPongResponseTimes(){return this.pongResponseTimes.toList()}internalCall(e,t){return v(this,null,function*(){var r;let n=si(),i={method:e,params:t,id:n,jsonrpc:"2.0"};(r=this.socket)==null||r.send(JSON.stringify(i));try{return yield new Promise((s,o)=>{this.callbacks.set(n,{resolve:s,reject:o,metadata:{method:e}})})}catch(s){if(s instanceof ae)throw s;let o=s;throw K.WebsocketMethodErrors.ServerErrors(Number(o.code),wv(e),o.message)}})}notify(e,t){var r,n;let i={method:e,params:t};((r=this.socket)==null?void 0:r.readyState)===WebSocket.OPEN&&((n=this.socket)==null||n.send(JSON.stringify(i)))}open(e){return new Promise((t,r)=>{let n=!1;this.socket&&(this.socket.close(),this.socket.removeEventListener("close",this.onCloseHandler),this.socket.removeEventListener("message",this.onMessageHandler)),this.socket=new WebSocket(e);let i=()=>{E.e(this.TAG,"Error from websocket"),n=!0,r(K.WebSocketConnectionErrors.FailedToConnect("JOIN","Error opening websocket connection"))};this.onCloseHandler=o=>{E.w(`Websocket closed code=${o.code}`),n?this.setIsConnected(!1,`code: ${o.code}${o.code!==1e3?", unexpected websocket close":""}`):(n=!0,r(K.WebSocketConnectionErrors.AbnormalClose("JOIN",`Error opening websocket connection - websocket closed unexpectedly with code=${o.code}`)))},this.socket.addEventListener("error",i);let s=()=>{var o,a;n=!0,t(),this.setIsConnected(!0),this.id++,(o=this.socket)==null||o.removeEventListener("open",s),(a=this.socket)==null||a.removeEventListener("error",i),this.pingPongLoop(this.id)};this.socket.addEventListener("open",s),this.socket.addEventListener("close",this.onCloseHandler),this.socket.addEventListener("message",this.onMessageHandler)})}close(){return v(this,null,function*(){window.removeEventListener("offline",this.offlineListener),window.removeEventListener("online",this.onlineListener),this.socket?(this.socket.close(1e3,"Normal Close"),this.setIsConnected(!1,"code: 1000, normal websocket close"),this.socket.removeEventListener("close",this.onCloseHandler),this.socket.removeEventListener("message",this.onMessageHandler)):this.setIsConnected(!1,"websocket not connected yet")})}join(e,t,r,n,i,s,o){return v(this,null,function*(){if(!this.isConnected)throw K.WebSocketConnectionErrors.WebSocketConnectionLost("JOIN","Failed to send join over WS connection");let a={name:e,disableVidAutoSub:r,data:t,offer:o,server_sub_degrade:n,simulcast:i,onDemandTracks:s},l=yield this.internalCall("join",a);return this.isJoinCompleted=!0,this.pendingTrickle.forEach(({target:u,candidate:c})=>this.trickle(u,c)),this.pendingTrickle.length=0,E.d(this.TAG,`join: response=${JSON.stringify(l,null,1)}`),l})}trickle(e,t){this.isJoinCompleted?this.notify("trickle",{target:e,candidate:t}):this.pendingTrickle.push({target:e,candidate:t})}offer(e,t){return v(this,null,function*(){return yield this.call("offer",{desc:e,tracks:Object.fromEntries(t)})})}answer(e){this.notify("answer",{desc:e})}trackUpdate(e){this.notify("track-update",{tracks:Object.fromEntries(e)})}broadcast(e){return v(this,null,function*(){return yield this.call("broadcast",e)})}leave(){this.notify("leave",{})}endRoom(e,t){return v(this,null,function*(){yield this.call("end-room",{lock:e,reason:t})})}sendEvent(e){if(!this.isConnected)throw Error(`${this.TAG} not connected. Could not send event ${e}`);this.notify("analytics",e.toSignalParams())}ping(e){let t=Date.now(),r=new Promise(i=>{setTimeout(()=>{i(Date.now()-t)},e+1)}),n=this.internalCall("ping",{timestamp:t}).then(()=>Date.now()-t).catch(()=>Date.now()-t);return Promise.race([r,n])}requestRoleChange(e){return v(this,null,function*(){yield this.call("role-change-request",e)})}requestBulkRoleChange(e){return v(this,null,function*(){yield this.call("role-change-request",e)})}acceptRoleChangeRequest(e){return v(this,null,function*(){yield this.call("role-change",e)})}requestTrackStateChange(e){return v(this,null,function*(){yield this.call("track-update-request",e)})}requestMultiTrackStateChange(e){return v(this,null,function*(){yield this.call("change-track-mute-state-request",e)})}removePeer(e){return v(this,null,function*(){yield this.call("peer-leave-request",e)})}startRTMPOrRecording(e){return v(this,null,function*(){yield this.call("rtmp-start",Y({},e))})}stopRTMPAndRecording(){return v(this,null,function*(){yield this.call("rtmp-stop",{})})}startHLSStreaming(e){return v(this,null,function*(){yield this.call("hls-start",Y({},e))})}stopHLSStreaming(e){return v(this,null,function*(){yield this.call("hls-stop",Y({},e))})}startTranscription(e){return v(this,null,function*(){yield this.call("transcription-start",Y({},e))})}stopTranscription(e){return v(this,null,function*(){yield this.call("transcription-stop",Y({},e))})}sendHLSTimedMetadata(e){return v(this,null,function*(){yield this.call("hls-timed-metadata",Y({},e))})}updatePeer(e){return v(this,null,function*(){yield this.call("peer-update",Y({},e))})}getPeer(e){return v(this,null,function*(){return yield this.call("get-peer",Y({},e))})}joinGroup(e){return v(this,null,function*(){return yield this.call("group-join",{name:e})})}leaveGroup(e){return v(this,null,function*(){return yield this.call("group-leave",{name:e})})}addToGroup(e,t){return v(this,null,function*(){yield this.call("group-add",{name:t,peer_id:e})})}removeFromGroup(e,t){return v(this,null,function*(){yield this.call("group-remove",{name:t,peer_id:e})})}peerIterNext(e){return v(this,null,function*(){return yield this.call("peer-iter-next",e)})}findPeers(e){return v(this,null,function*(){return yield this.call("find-peer",e)})}setSessionMetadata(e){if(!this.isConnected)throw K.WebSocketConnectionErrors.WebSocketConnectionLost("RECONNECT_SIGNAL","Failed to set session store value due to network disconnection");return this.call("set-metadata",Y({},e))}listenMetadataChange(e){if(!this.isConnected)throw K.WebSocketConnectionErrors.WebSocketConnectionLost("RECONNECT_SIGNAL","Failed to observe session store key due to network disconnection");return this.call("listen-metadata-change",{keys:e})}getSessionMetadata(e){if(!this.isConnected)throw K.WebSocketConnectionErrors.WebSocketConnectionLost("RECONNECT_SIGNAL","Failed to set session store value due to network disconnection");return this.call("get-metadata",{key:e})}setPollInfo(e){return this.call("poll-info-set",Y({},e))}getPollInfo(e){return this.call("poll-info-get",Y({},e))}setPollQuestions(e){return this.call("poll-questions-set",Y({},e))}startPoll(e){return this.call("poll-start",Y({},e))}stopPoll(e){return this.call("poll-stop",Y({},e))}getPollQuestions(e){return this.call("poll-questions-get",Y({},e))}setPollResponses(e){return this.call("poll-response",Y({},e))}getPollResponses(e){return this.call("poll-responses",Y({},e))}getPollsList(e){return this.call("poll-list",Y({},e))}getPollResult(e){return this.call("poll-result",Y({},e))}createWhiteboard(e){return this.validateConnection(),this.call("whiteboard-create",Y({},e))}getWhiteboard(e){return this.validateConnection(),this.call("whiteboard-get",Y({},e))}fetchPollLeaderboard(e){return this.call("poll-leaderboard",Y({},e))}validateConnection(){if(!this.isConnected)throw K.WebSocketConnectionErrors.WebSocketConnectionLost("RECONNECT_SIGNAL","Failed to send message due to network disconnection")}onMessageHandler(e){let t=e.data,r=JSON.parse(t);if(this.resolvePingOnAnyResponse(),r.id)this.handleResponseWithId(r);else if(r.method)this.handleResponseWithMethod(r);else throw Error(`WebSocket message has no 'method' or 'id' field, message=${r}`)}handleResponseWithId(e){let t=e,r=t.id;if(this.callbacks.has(r)){let n=this.callbacks.get(r);this.callbacks.delete(r),t.result?n.resolve(t.result):n.reject(t.error)}else this.observer.onNotification(t)}handleResponseWithMethod(e){switch(e.method){case"offer":this.observer.onOffer(e.params);break;case"trickle":this.observer.onTrickle(e.params);break;case"on-error":this.observer.onServerError(K.WebsocketMethodErrors.ServerErrors(Number(e.params.code),"on-error",e.params.message));break;case"on-warning":E.w(this.TAG,e.params);break;default:this.observer.onNotification(e);break}}rejectPendingCalls(e=""){this.callbacks.forEach((t,r)=>{var n,i,s,o;((n=t.metadata)==null?void 0:n.method)!=="ping"&&(E.e(this.TAG,`rejecting pending callback ${(i=t.metadata)==null?void 0:i.method}, id=${r}`),t.reject(K.WebSocketConnectionErrors.WebSocketConnectionLost((s=t.metadata)!=null&&s.method?wv((o=t.metadata)==null?void 0:o.method):"RECONNECT_SIGNAL",e)),this.callbacks.delete(r))})}pingPongLoop(e){return v(this,null,function*(){var t,r;let n=((t=window.HMS)==null?void 0:t.PING_TIMEOUT)||12e3;if(this.isConnected){let i=yield this.ping(n);this.pongResponseTimes.enqueue(i),i>n?(E.d(this.TAG,`Pong timeout ${e}, pageHidden=${iM()}`),this.id===e&&this.setIsConnected(!1,"ping pong failure")):setTimeout(()=>this.pingPongLoop(e),((r=window.HMS)==null?void 0:r.PING_INTERVAL)||3e3)}})}call(e,t){return v(this,null,function*(){let r=K.WebsocketMethodErrors.ServerErrors(500,e,`Default ${e} error`);this.validateConnection();let n;for(n=1;n<=3;n++)try{return E.d(this.TAG,`Try number ${n} sending ${e}`,t),yield this.internalCall(e,t)}catch(i){if(r=i,E.e(this.TAG,`Failed sending ${e} try: ${n}`,{method:e,params:t,error:r}),!(parseInt(`${r.code/100}`)===5||r.code===429))break;let s=(2+Math.random()*2)*1e3;yield sc(s)}throw E.e(`Sending ${e} over WS failed after ${Math.min(n,3)} retries`,{method:e,params:t,error:r}),r})}},eF=()=>{if(!Kt||typeof navigator.connection>"u")return;let e=navigator.connection;return{downlink:e.downlink,downlinkMax:e.downlinkMax,effectiveType:e.effectiveType,rtt:e.rtt,saveData:e.saveData,type:e.type}},ge="[HMSTransport]:",tF=class{constructor(e,t,r,n,i,s,o){this.observer=e,this.deviceManager=t,this.store=r,this.eventBus=n,this.analyticsEventsService=i,this.analyticsTimer=s,this.pluginUsageTracker=o,this.state="Disconnected",this.trackStates=new Map,this.publishConnection=null,this.subscribeConnection=null,this.maxSubscribeBitrate=0,this.joinRetryCount=0,this.callbacks=new Map,this.signalObserver={onOffer:c=>v(this,null,function*(){try{if(!this.subscribeConnection)return;yield this.subscribeConnection.setRemoteDescription(c),E.d(ge,`[SUBSCRIBE] Adding ${this.subscribeConnection.candidates.length} ice-candidates`,this.subscribeConnection.candidates);for(let h of this.subscribeConnection.candidates)yield this.subscribeConnection.addIceCandidate(h);this.subscribeConnection.candidates.length=0;let d=yield this.subscribeConnection.createAnswer();yield this.subscribeConnection.setLocalDescription(d),this.signal.answer(d),E.d(ge,"[role=SUBSCRIBE] onOffer renegotiation DONE ✅")}catch(d){E.d(ge,"[role=SUBSCRIBE] onOffer renegotiation FAILED ❌",d),this.state="Failed";let h;d instanceof ae?h=d:h=K.GenericErrors.Unknown("PUBLISH",d.message),this.observer.onFailure(h),this.eventBus.analytics.publish(Se.subscribeFail(h))}}),onTrickle:c=>v(this,null,function*(){let d=c.target===0?this.publishConnection:this.subscribeConnection;d!=null&&d.remoteDescription?yield d.addIceCandidate(c.candidate):d==null||d.candidates.push(c.candidate)}),onNotification:c=>this.observer.onNotification(c),onServerError:c=>v(this,null,function*(){yield this.observer.onStateChange("Failed",c)}),onFailure:c=>{this.joinParameters&&this.retryScheduler.schedule({category:1,error:c,task:this.retrySignalDisconnectTask,originalState:this.state})},onOffline:c=>v(this,null,function*(){E.d(ge,"socket offline",zh[this.state]);try{this.state!=="Leaving"&&this.joinParameters&&this.retryScheduler.schedule({category:1,error:K.WebSocketConnectionErrors.WebSocketConnectionLost("RECONNECT_SIGNAL",c),task:this.retrySignalDisconnectTask,originalState:this.state})}catch(d){console.error(d)}}),onOnline:()=>{var c;E.d(ge,"socket online",zh[this.state]),this.analyticsSignalTransport.flushFailedEvents((c=this.store.getLocalPeer())==null?void 0:c.peerId)},onNetworkOnline:()=>{this.analyticsEventsService.flushFailedClientEvents()}},this.signal=new Z$(this.signalObserver),this.analyticsSignalTransport=new F$(this.signal),this.publishDtlsStateTimer=0,this.lastPublishDtlsState="new",this.publishConnectionObserver={onRenegotiationNeeded:()=>v(this,null,function*(){yield this.performPublishRenegotiation()}),onDTLSTransportStateChange:c=>{var d,h,f;if((c==="failed"?E.w.bind(E):E.d.bind(E))(ge,`Publisher on dtls transport state change: ${c}`),!c||this.lastPublishDtlsState===c||(this.lastPublishDtlsState=c,this.publishDtlsStateTimer!==0&&(clearTimeout(this.publishDtlsStateTimer),this.publishDtlsStateTimer=0),c!=="connecting"&&c!=="failed"))return;let m=(f=(h=(d=this.initConfig)==null?void 0:d.config)==null?void 0:h.dtlsStateTimeouts)==null?void 0:f[c];!m||m<=0||(this.publishDtlsStateTimer=window.setTimeout(()=>{var p;let k=(p=this.publishConnection)==null?void 0:p.nativeConnection.connectionState;if(k&&c&&k===c){let T=K.WebrtcErrors.ICEFailure("PUBLISH",`DTLS transport state ${c} timeout:${m}ms`,!0);this.eventBus.analytics.publish(Se.disconnect(T)),this.observer.onFailure(T)}},m))},onDTLSTransportError:c=>{E.e(ge,`onDTLSTransportError ${c.name} ${c.message}`,c),this.eventBus.analytics.publish(Se.disconnect(c))},onIceConnectionChange:c=>v(this,null,function*(){(c==="disconnected"?E.w.bind(E):E.d.bind(E))(ge,`Publish ice connection state change: ${c}`)}),onConnectionStateChange:c=>v(this,null,function*(){var d,h,f,m,p;(c==="disconnected"?E.w.bind(E):E.d.bind(E))(ge,`Publish connection state change: ${c}`),c==="connected"&&((d=this.publishConnection)==null||d.logSelectedIceCandidatePairs()),c==="disconnected"&&setTimeout(()=>{var k,T,y,S,w;((k=this.publishConnection)==null?void 0:k.connectionState)==="disconnected"&&this.handleIceConnectionFailure(0,K.WebrtcErrors.ICEDisconnected("PUBLISH",`local candidate - ${(y=(T=this.publishConnection)==null?void 0:T.selectedCandidatePair)==null?void 0:y.local.candidate}; remote candidate - ${(w=(S=this.publishConnection)==null?void 0:S.selectedCandidatePair)==null?void 0:w.remote.candidate}`))},5e3),c==="failed"&&(yield this.handleIceConnectionFailure(0,K.WebrtcErrors.ICEFailure("PUBLISH",`local candidate - ${(f=(h=this.publishConnection)==null?void 0:h.selectedCandidatePair)==null?void 0:f.local.candidate}; remote candidate - ${(p=(m=this.publishConnection)==null?void 0:m.selectedCandidatePair)==null?void 0:p.remote.candidate}`)))})},this.subscribeConnectionObserver={onApiChannelMessage:c=>{this.observer.onNotification(JSON.parse(c))},onTrackAdd:c=>{E.d(ge,"[Subscribe] onTrackAdd",`${c}`),this.observer.onTrackAdd(c)},onTrackRemove:c=>{E.d(ge,"[Subscribe] onTrackRemove",`${c}`),this.observer.onTrackRemove(c)},onIceConnectionChange:c=>v(this,null,function*(){if((c==="disconnected"?E.w.bind(E):E.d.bind(E))(ge,`Subscribe ice connection state change: ${c}`),c==="connected"){let d=this.callbacks.get(uo);this.callbacks.delete(uo),d&&d.promise.resolve(!0)}}),onConnectionStateChange:c=>v(this,null,function*(){var d,h,f,m;(c==="disconnected"?E.w.bind(E):E.d.bind(E))(ge,`Subscribe connection state change: ${c}`),c==="failed"&&(yield this.handleIceConnectionFailure(1,K.WebrtcErrors.ICEFailure("SUBSCRIBE",`local candidate - ${(h=(d=this.subscribeConnection)==null?void 0:d.selectedCandidatePair)==null?void 0:h.local.candidate}; remote candidate - ${(m=(f=this.subscribeConnection)==null?void 0:f.selectedCandidatePair)==null?void 0:m.remote.candidate}`))),c==="disconnected"&&setTimeout(()=>{var p,k,T,y,S;((p=this.subscribeConnection)==null?void 0:p.connectionState)==="disconnected"&&this.handleIceConnectionFailure(1,K.WebrtcErrors.ICEDisconnected("SUBSCRIBE",`local candidate - ${(T=(k=this.subscribeConnection)==null?void 0:k.selectedCandidatePair)==null?void 0:T.local.candidate}; remote candidate - ${(S=(y=this.subscribeConnection)==null?void 0:y.selectedCandidatePair)==null?void 0:S.remote.candidate}`))},5e3),c==="connected"&&this.handleSubscribeConnectionConnected()})},this.handleLocalRoleUpdate=c=>v(this,[c],function*({oldRole:d,newRole:h}){!this.doesRoleNeedWebRTC(d)&&this.doesRoleNeedWebRTC(h)&&(E.d(ge,"Local peer role updated to webrtc role, creating PeerConnections and performing inital publish negotiation ⏳"),this.createPeerConnections(),yield this.negotiateOnFirstPublish())}),this.retryPublishIceFailedTask=()=>v(this,null,function*(){if(this.publishConnection){let c=new Promise((d,h)=>{this.callbacks.set(lo,{promise:{resolve:d,reject:h},action:"RESTART_ICE",extra:{}})});yield this.performPublishRenegotiation({iceRestart:this.publishConnection.connectionState!=="connected"}),yield c}return!0}),this.retrySubscribeIceFailedTask=()=>v(this,null,function*(){if(this.subscribeConnection&&this.subscribeConnection.connectionState!=="connected"){let c=new Promise((h,f)=>{this.callbacks.set(uo,{promise:{resolve:h,reject:f},action:"RESTART_ICE",extra:{}})}),d=new Promise(h=>{setTimeout(h,6e4,!1)});return Promise.race([c,d])}return!0}),this.retrySignalDisconnectTask=()=>v(this,null,function*(){var c;E.d(ge,"retrySignalDisconnectTask",{signalConnected:this.signal.isConnected}),this.signal.isConnected||(yield this.internalConnect(this.joinParameters.authToken,this.joinParameters.endpoint,this.joinParameters.peerId,this.joinParameters.iceServers));let d=(c=this.store.getRoom())!=null&&c.joinedAt?this.signal.isConnected&&(yield this.retryPublishIceFailedTask()):this.signal.isConnected;return this.signal.trackUpdate(this.trackStates),d});var a,l;this.webrtcInternals=new uN(this.store,this.eventBus,(a=this.publishConnection)==null?void 0:a.nativeConnection,(l=this.subscribeConnection)==null?void 0:l.nativeConnection);let u=(c,d)=>v(this,null,function*(){c!==this.state&&(this.state=c,yield this.observer.onStateChange(this.state,d))});this.retryScheduler=new M$(u,this.sendErrorAnalyticsEvent.bind(this)),this.eventBus.statsUpdate.subscribe(c=>{var d,h;let f=((h=(d=c.getLocalPeerStats())==null?void 0:d.subscribe)==null?void 0:h.bitrate)||0;this.maxSubscribeBitrate=Math.max(this.maxSubscribeBitrate,f)}),this.eventBus.localAudioEnabled.subscribe(({track:c})=>this.trackUpdate(c)),this.eventBus.localVideoEnabled.subscribe(({track:c})=>this.trackUpdate(c))}getWebrtcInternals(){return this.webrtcInternals}isFlagEnabled(e){var t;let r=(t=this.initConfig)==null?void 0:t.config;return((r==null?void 0:r.enabledFlags)||[]).includes(e)}preview(e,t,r,n,i=!1,s){return v(this,null,function*(){let o=yield this.connect(e,t,r,n,i,s);return this.state="Preview",this.observer.onStateChange(this.state),o})}join(e,t,r,n,i=!1,s){return v(this,null,function*(){E.d(ge,"join: started ⏰");try{(!this.signal.isConnected||!this.initConfig)&&(yield this.connect(e,n,t,r,i,s)),this.validateNotDisconnected("connect"),this.initConfig&&(yield this.waitForLocalRoleAvailability(),yield this.createConnectionsAndNegotiateJoin(r,i),yield this.initRtcStatsMonitor(),E.d(ge,"✅ join: Negotiated over PUBLISH connection"))}catch(o){E.e(ge,`join: failed ❌ [token=${e}]`,o),this.state="Failed";let a=o;throw a.isTerminal=a.isTerminal||a.code===500,yield this.observer.onStateChange(this.state,a),a}E.d(ge,"✅ join: successful"),this.state="Joined",this.observer.onStateChange(this.state)})}connect(e,t,r,n,i=!1,s){return v(this,null,function*(){this.setTransportStateForConnect(),this.joinParameters=new D$(e,r,n.name,n.metaData,t,i,s);try{return yield this.internalConnect(e,t,r,s)}catch(o){if(o instanceof ae&&([ue.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,ue.WebSocketConnectionErrors.FAILED_TO_CONNECT,ue.WebSocketConnectionErrors.ABNORMAL_CLOSE,ue.APIErrors.ENDPOINT_UNREACHABLE].includes(o.code)||o.code.toString().startsWith("5")||o.code.toString().startsWith("429"))){let a=()=>v(this,null,function*(){return yield this.internalConnect(e,t,r,s),!!(this.initConfig&&this.initConfig.endpoint)});yield this.retryScheduler.schedule({category:0,error:o,task:a,originalState:this.state,maxFailedRetries:5,changeState:!1})}else throw o}})}leave(e){return v(this,null,function*(){var t,r,n,i,s;this.retryScheduler.reset(),this.joinParameters=void 0,E.d(ge,"leaving in transport");try{let o=this.pluginUsageTracker.getPluginUsage("HMSKrispPlugin");if(o&&this.eventBus.analytics.publish(Se.getKrispUsage(o)),this.state="Leaving",(t=this.publishStatsAnalytics)==null||t.stop(),(r=this.subscribeStatsAnalytics)==null||r.stop(),(n=this.webrtcInternals)==null||n.cleanup(),yield(i=this.publishConnection)==null?void 0:i.close(),yield(s=this.subscribeConnection)==null?void 0:s.close(),e)try{this.signal.leave(),E.d(ge,"signal leave done")}catch(a){E.w(ge,"failed to send leave on websocket to server",a)}this.analyticsEventsService.flushFailedClientEvents(),this.analyticsEventsService.reset(),yield this.signal.close()}catch(o){this.eventBus.analytics.publish(Se.disconnect(o)),E.e(ge,"leave: FAILED ❌",o)}finally{this.state="Disconnected",this.observer.onStateChange(this.state)}})}publish(e){return v(this,null,function*(){for(let t of e)try{yield this.publishTrack(t)}catch(r){this.eventBus.analytics.publish(Se.publish({devices:this.deviceManager.getDevices(),error:r}))}})}unpublish(e){return v(this,null,function*(){for(let t of e)yield this.unpublishTrack(t)})}trackUpdate(e){let t=Array.from(this.trackStates.values()).find(r=>e.type===r.type&&e.source===r.source);if(t){let r=new Gv(be(Y({},t),{mute:!e.enabled}));this.trackStates.set(t.track_id,r),E.d(ge,"Track Update",this.trackStates,e),this.signal.trackUpdate(new Map([[t.track_id,r]]))}}publishTrack(e){return v(this,null,function*(){e.publishedTrackId=e.getTrackIDBeingSent(),E.d(ge,`⏳ publishTrack: trackId=${e.trackId}, toPublishTrackId=${e.publishedTrackId}`,`${e}`),this.trackStates.set(e.publishedTrackId,new Gv(e));let t=new Promise((i,s)=>{this.callbacks.set(lo,{promise:{resolve:i,reject:s},action:"PUBLISH",extra:{}})}),r=e.stream;r.setConnection(this.publishConnection);let n=this.store.getSimulcastLayers(e.source);r.addTransceiver(e,n),E.time(`publish-${e.trackId}-${e.type}`),yield t,E.timeEnd(`publish-${e.trackId}-${e.type}`),this.store.addTrack(e),yield r.setMaxBitrateAndFramerate(e).then(()=>{E.d(ge,`Setting maxBitrate=${e.settings.maxBitrate} kpbs${e instanceof Fr?` and maxFramerate=${e.settings.maxFramerate}`:""} for ${e.source} ${e.type} ${e.trackId}`)}).catch(i=>E.w(ge,"Failed setting maxBitrate and maxFramerate",i)),e.isPublished=!0,E.d(ge,`✅ publishTrack: trackId=${e.trackId}`,`${e}`,this.callbacks)})}unpublishTrack(e){return v(this,null,function*(){if(E.d(ge,`⏳ unpublishTrack: trackId=${e.trackId}`,`${e}`),e.publishedTrackId&&this.trackStates.has(e.publishedTrackId))this.trackStates.delete(e.publishedTrackId);else{let r=Array.from(this.trackStates.values()).find(n=>e.type===n.type&&e.source===n.source);r&&this.trackStates.delete(r.track_id)}let t=new Promise((r,n)=>{this.callbacks.set(lo,{promise:{resolve:r,reject:n},action:"UNPUBLISH",extra:{}})});e.stream.removeSender(e),yield t,yield e.cleanup(),this.store.removeTrack(e),E.d(ge,`✅ unpublishTrack: trackId=${e.trackId}`,this.callbacks)})}waitForLocalRoleAvailability(){if(!this.store.hasRoleDetailsArrived())return new Promise(e=>{this.eventBus.policyChange.subscribeOnce(()=>e())})}createConnectionsAndNegotiateJoin(e,t=!1){return v(this,null,function*(){let r=this.doesLocalPeerNeedWebRTC();r&&this.createPeerConnections(),this.analyticsTimer.start("join_response_time"),yield this.negotiateJoinWithRetry({name:e.name,data:e.metaData,autoSubscribeVideo:t,isWebRTC:r}),this.analyticsTimer.end("join_response_time")})}createPeerConnections(){this.initConfig&&(this.publishConnection||(this.publishConnection=new W$(this.signal,this.initConfig.rtcConfiguration,this.publishConnectionObserver)),this.subscribeConnection||(this.subscribeConnection=new K$(this.signal,this.initConfig.rtcConfiguration,this.isFlagEnabled.bind(this),this.subscribeConnectionObserver)))}negotiateJoinWithRetry(e){return v(this,arguments,function*({name:t,data:r,autoSubscribeVideo:n,isWebRTC:i=!0}){try{yield this.negotiateJoin({name:t,data:r,autoSubscribeVideo:n,isWebRTC:i})}catch(s){E.e(ge,"Join negotiation failed ❌",s);let o=s instanceof ae?s:K.WebsocketMethodErrors.ServerErrors(500,"JOIN",`Websocket join error - ${s.message}`),a=parseInt(`${o.code/100}`)===5||[ue.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,429].includes(o.code);if(o.code===410&&(o.isTerminal=!0),a){this.joinRetryCount=0,o.isTerminal=!1;let l=()=>v(this,null,function*(){return this.joinRetryCount++,yield this.negotiateJoin({name:t,data:r,autoSubscribeVideo:n,isWebRTC:i})});yield this.retryScheduler.schedule({category:2,error:o,task:l,originalState:"Joined",maxFailedRetries:3,changeState:!1})}else throw s}})}negotiateJoin(e){return v(this,arguments,function*({name:t,data:r,autoSubscribeVideo:n,isWebRTC:i=!0}){return i?yield this.negotiateJoinWebRTC({name:t,data:r,autoSubscribeVideo:n}):yield this.negotiateJoinNonWebRTC({name:t,data:r,autoSubscribeVideo:n})})}negotiateJoinWebRTC(e){return v(this,arguments,function*({name:t,data:r,autoSubscribeVideo:n}){if(E.d(ge,"⏳ join: Negotiating over PUBLISH connection"),!this.publishConnection)return E.e(ge,"Publish peer connection not found, cannot negotiate"),!1;let i=yield this.publishConnection.createOffer();yield this.publishConnection.setLocalDescription(i);let s=this.isFlagEnabled("subscribeDegradation"),o=this.isFlagEnabled("simulcast"),a=this.isFlagEnabled("onDemandTracks"),l=yield this.signal.join(t,r,!n,s,o,a,i);yield this.publishConnection.setRemoteDescription(l);for(let u of this.publishConnection.candidates)yield this.publishConnection.addIceCandidate(u);return this.publishConnection.initAfterJoin(),!!l})}negotiateJoinNonWebRTC(e){return v(this,arguments,function*({name:t,data:r,autoSubscribeVideo:n}){E.d(ge,"⏳ join: Negotiating Non-WebRTC");let i=this.isFlagEnabled("subscribeDegradation"),s=this.isFlagEnabled("simulcast"),o=this.isFlagEnabled("onDemandTracks");return!!(yield this.signal.join(t,r,!n,i,s,o))})}negotiateOnFirstPublish(){return v(this,null,function*(){if(E.d(ge,"⏳ Negotiating offer over PUBLISH connection"),!this.publishConnection)return E.e(ge,"Publish peer connection not found, cannot negotiate"),!1;let e=yield this.publishConnection.createOffer(this.trackStates);yield this.publishConnection.setLocalDescription(e);let t=yield this.signal.offer(e,this.trackStates);yield this.publishConnection.setRemoteDescription(t);for(let r of this.publishConnection.candidates)yield this.publishConnection.addIceCandidate(r);return this.publishConnection.initAfterJoin(),!!t})}performPublishRenegotiation(e){return v(this,null,function*(){E.d(ge,"⏳ [role=PUBLISH] onRenegotiationNeeded START",this.trackStates);let t=this.callbacks.get(lo);if(t){if(!this.publishConnection){E.e(ge,"Publish peer connection not found, cannot renegotiate");return}try{let r=yield this.publishConnection.createOffer(this.trackStates,e);yield this.publishConnection.setLocalDescription(r),E.time("renegotiation-offer-exchange");let n=yield this.signal.offer(r,this.trackStates);this.callbacks.delete(lo),E.timeEnd("renegotiation-offer-exchange"),yield this.publishConnection.setRemoteDescription(n),t.promise.resolve(!0),E.d(ge,"[role=PUBLISH] onRenegotiationNeeded DONE ✅")}catch(r){let n;r instanceof ae?n=r:n=K.GenericErrors.Unknown("PUBLISH",r.message),t.promise.reject(n),E.d(ge,"[role=PUBLISH] onRenegotiationNeeded FAILED ❌")}}})}handleIceConnectionFailure(e,t){return v(this,null,function*(){this.retryScheduler.isTaskInProgress(4)||(e===0?this.retryScheduler.schedule({category:3,error:t,task:this.retryPublishIceFailedTask,originalState:"Joined"}):this.retryScheduler.schedule({category:4,error:t,task:this.retrySubscribeIceFailedTask,originalState:"Joined",maxFailedRetries:1}))})}internalConnect(e,t,r,n){return v(this,null,function*(){var i;E.d(ge,"connect: started ⏰");let s=new Date;try{this.analyticsTimer.start("init_response_time"),this.initConfig=yield Y$.fetchInitConfig({token:e,peerId:r,userAgent:this.store.getUserAgent(),initEndpoint:t,iceServers:n});let o=this.store.getRoom();return o&&(o.effectsKey=(i=this.initConfig.config.vb)==null?void 0:i.effectsKey,o.isEffectsEnabled=this.isFlagEnabled("effectsSDKEnabled"),o.isHipaaEnabled=this.isFlagEnabled("hipaa"),o.isNoiseCancellationEnabled=this.isFlagEnabled("noiseCancellation")),this.analyticsTimer.end("init_response_time"),oa.setWebsocketEndpoint(this.initConfig.endpoint),this.validateNotDisconnected("post init"),yield this.openSignal(e,r),this.observer.onConnected(),this.store.setSimulcastEnabled(this.isFlagEnabled("simulcast")),E.d(ge,"Adding Analytics Transport: JsonRpcSignal"),this.analyticsEventsService.setTransport(this.analyticsSignalTransport),this.analyticsEventsService.flush(),this.initConfig}catch(o){throw this.state!=="Reconnecting"&&this.eventBus.analytics.publish(Se.connect(o,this.getAdditionalAnalyticsProperties(),s,new Date,t)),E.e(ge,"❌ internal connect: failed",o),o}})}validateNotDisconnected(e){if(this.state==="Disconnected")throw E.w(ge,"aborting join as transport state is disconnected"),K.GenericErrors.ValidationFailed(`leave called before join could complete - stage=${e}`)}openSignal(e,t){return v(this,null,function*(){if(!this.initConfig)throw K.APIErrors.InitConfigNotAvailable("INIT","Init Config not found");E.d(ge,"⏳ internal connect: connecting to ws endpoint",this.initConfig.endpoint);let r=new URL(this.initConfig.endpoint);r.searchParams.set("peer",t),r.searchParams.set("token",e),r.searchParams.set("user_agent_v2",this.store.getUserAgent()),r.searchParams.set("protocol_version",JM),r.searchParams.set("protocol_spec",XM),this.endpoint=r.toString(),this.analyticsTimer.start("ws_connect_time"),yield this.signal.open(this.endpoint),this.analyticsTimer.end("ws_connect_time"),this.analyticsTimer.start("on_policy_change_time"),this.analyticsTimer.start("room_state_time"),E.d(ge,"✅ internal connect: connected to ws endpoint")})}initRtcStatsMonitor(){return v(this,null,function*(){var e,t,r;(r=this.webrtcInternals)==null||r.setPeerConnections({publish:(e=this.publishConnection)==null?void 0:e.nativeConnection,subscribe:(t=this.subscribeConnection)==null?void 0:t.nativeConnection}),this.initStatsAnalytics()})}initStatsAnalytics(){var e,t;this.isFlagEnabled("publishStats")&&(this.publishStatsAnalytics=new j$(this.store,this.eventBus,this.getValueFromInitConfig("publishStats","maxSampleWindowSize",30),this.getValueFromInitConfig("publishStats","maxSamplePushInterval",300)),(e=this.getWebrtcInternals())==null||e.start()),this.isFlagEnabled("subscribeStats")&&(this.subscribeStatsAnalytics=new B$(this.store,this.eventBus,this.getValueFromInitConfig("subscribeStats","maxSampleWindowSize",10),this.getValueFromInitConfig("subscribeStats","maxSamplePushInterval",60)),(t=this.getWebrtcInternals())==null||t.start())}getValueFromInitConfig(e,t,r){var n,i;return((i=(n=this.initConfig)==null?void 0:n.config[e])==null?void 0:i[t])||r}doesRoleNeedWebRTC(e){var t,r;if(!this.isFlagEnabled("nonWebRTCDisableOffer"))return!0;let n=!!(e.publishParams.allowed&&((t=e.publishParams.allowed)==null?void 0:t.length)>0),i=!!(e.subscribeParams.subscribeToRoles&&((r=e.subscribeParams.subscribeToRoles)==null?void 0:r.length)>0);return n||i}doesLocalPeerNeedWebRTC(){var e;let t=(e=this.store.getLocalPeer())==null?void 0:e.role;return t?this.doesRoleNeedWebRTC(t):!0}handleSubscribeConnectionConnected(){var e;(e=this.subscribeConnection)==null||e.logSelectedIceCandidatePairs();let t=this.callbacks.get(uo);this.callbacks.delete(uo),t&&t.promise.resolve(!0)}setTransportStateForConnect(){if(this.state==="Failed"&&(this.state="Disconnected"),this.state!=="Disconnected"&&this.state!=="Reconnecting")throw K.WebsocketMethodErrors.AlreadyJoined("JOIN",`Cannot join a meeting in ${this.state} state`);this.state==="Disconnected"&&(this.state="Connecting",this.observer.onStateChange(this.state))}sendErrorAnalyticsEvent(e,t){let r=this.getAdditionalAnalyticsProperties(),n;switch(t){case 0:n=Se.connect(e,r);break;case 1:n=Se.disconnect(e,r);break;case 2:n=Se.join({error:e,time:this.analyticsTimer.getTimeTaken("join_time"),init_response_time:this.analyticsTimer.getTimeTaken("init_response_time"),ws_connect_time:this.analyticsTimer.getTimeTaken("ws_connect_time"),on_policy_change_time:this.analyticsTimer.getTimeTaken("on_policy_change_time"),local_audio_track_time:this.analyticsTimer.getTimeTaken("local_audio_track_time"),local_video_track_time:this.analyticsTimer.getTimeTaken("local_video_track_time"),retries_join:this.joinRetryCount});break;case 3:n=Se.publish({error:e});break;case 4:n=Se.subscribeFail(e);break}this.eventBus.analytics.publish(n)}getSubscribeConnection(){return this.subscribeConnection}getAdditionalAnalyticsProperties(){var e,t,r,n,i,s,o,a;let l=eF(),u=typeof document<"u"&&document.hidden,c=this.store.getRemoteVideoTracks().filter(f=>f.degraded).length,d=(n=(r=(t=(e=this.getWebrtcInternals())==null?void 0:e.getCurrentStats())==null?void 0:t.getLocalPeerStats())==null?void 0:r.publish)==null?void 0:n.bitrate,h=(a=(o=(s=(i=this.getWebrtcInternals())==null?void 0:i.getCurrentStats())==null?void 0:s.getLocalPeerStats())==null?void 0:o.subscribe)==null?void 0:a.bitrate;return{network_info:l,document_hidden:u,num_degraded_tracks:c,bitrate:{publish:d,subscribe:h},max_sub_bitrate:this.maxSubscribeBitrate,recent_pong_response_times:this.signal.getPongResponseTimes(),transport_state:this.state}}},rF=(e,t,r)=>v(void 0,null,function*(){let n=Error("something went wrong during fetch");for(let i=0;i<4;i++)try{let s=yield fetch(e,t),o=yield s.clone().json();if(r&&r.length&&!s.ok&&r.includes(o.code))throw K.APIErrors.ServerErrors(o.code,"GET_TOKEN",o.message,!1);return s}catch(s){n=s}throw["Failed to fetch","NetworkError"].some(i=>n.message.includes(i))?K.APIErrors.EndpointUnreachable("GET_TOKEN",n.message):n});function Hv(e){if(!e||e.length===0)throw K.APIErrors.InvalidTokenFormat("INIT","Token cannot be an empty string or undefined or null");let t=e.split(".");if(t.length!==3)throw K.APIErrors.InvalidTokenFormat("INIT","Expected 3 '.' separate fields - header, payload and signature respectively");let r=atob(t[1]);try{let n=JSON.parse(r);return{roomId:n.room_id,userId:n.user_id,role:n.role}}catch(n){throw K.APIErrors.InvalidTokenFormat("INIT",`couldn't parse to json - ${n.message}`)}}var Wv={published:!1,isInitialised:!1,isReconnecting:!1,isPreviewInProgress:!1,isPreviewCalled:!1,isJoinInProgress:!1,deviceManagersInitialised:!1},nF=class{constructor(){this.TAG="[HMSSdk]:",this.transportState="Disconnected",this.analyticsTimer=new KM,this.sdkState=Y({},Wv),this.playlistSettings={video:{bitrate:Nv},audio:{bitrate:$v}},this.handleAutoplayError=e=>{var t,r;(r=(t=this.errorListener)==null?void 0:t.onError)==null||r.call(t,e)},this.observer={onNotification:e=>{var t;if(e.method==="on-peer-leave-request"){this.handlePeerLeaveRequest(e.params);return}switch(e.method){case"on-policy-change":this.analyticsTimer.end("on_policy_change_time");break;case"peer-list":this.analyticsTimer.end("peer_list_time"),this.sendJoinAnalyticsEvent(this.sdkState.isPreviewCalled);break;case"room-state":this.analyticsTimer.end("room_state_time");break}(t=this.notificationManager)==null||t.handleNotification(e,this.sdkState.isReconnecting)},onConnected:()=>{this.initNotificationManager()},onTrackAdd:e=>{var t;(t=this.notificationManager)==null||t.handleTrackAdd(e)},onTrackRemove:e=>{var t;(t=this.notificationManager)==null||t.handleTrackRemove(e)},onFailure:e=>{var t;(t=this.errorListener)==null||t.onError(e)},onStateChange:(e,t)=>v(this,null,function*(){var r,n;let i=s=>v(this,null,function*(){var o,a;yield this.internalLeave(!0,s),!this.sdkState.isPreviewInProgress&&!this.sdkState.isJoinInProgress&&((a=(o=this.errorListener)==null?void 0:o.onError)==null||a.call(o,s)),this.sdkState.isReconnecting=!1});switch(e){case"Preview":case"Joined":this.initNotificationManager(),this.transportState==="Reconnecting"&&((r=this.listener)==null||r.onReconnected());break;case"Failed":yield i(t);break;case"Reconnecting":this.sdkState.isReconnecting=!0,(n=this.listener)==null||n.onReconnecting(t);break}this.transportState=e,E.d(this.TAG,"Transport State Change",this.transportState)})},this.handlePeerLeaveRequest=e=>{var t;let r=e.requested_by?this.store.getPeerById(e.requested_by):void 0,n={roomEnded:e.room_end,reason:e.reason,requestedBy:r};(t=this.listener)==null||t.onRemovedFromRoom(n),this.internalLeave(!1)},this.handleDeviceChange=e=>{var t,r;e.isUserSelection||(E.d(this.TAG,"Device Change event",e),(r=(t=this.deviceChangeListener)==null?void 0:t.onDeviceChange)==null||r.call(t,e),(()=>{var n,i,s,o;if(e.error&&e.type){let a=e.type.includes("audio")?(n=this.localPeer)==null?void 0:n.audioTrack:(i=this.localPeer)==null?void 0:i.videoTrack;(s=this.errorListener)==null||s.onError(e.error),[ue.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,ue.TracksErrors.DEVICE_IN_USE,ue.TracksErrors.DEVICE_NOT_AVAILABLE].includes(e.error.code)&&a&&(a.setEnabled(!1),(o=this.listener)==null||o.onTrackUpdate(2,a,this.localPeer))}})())},this.handleAudioPluginError=e=>{var t;E.e(this.TAG,"Audio Plugin Error event",e),(t=this.errorListener)==null||t.onError(e)},this.handleLocalRoleUpdate=e=>v(this,[e],function*({oldRole:t,newRole:r}){var n;yield this.transport.handleLocalRoleUpdate({oldRole:t,newRole:r}),yield(n=this.roleChangeManager)==null?void 0:n.handleLocalPeerRoleUpdate({oldRole:t,newRole:r}),yield this.interactivityCenter.whiteboard.handleLocalRoleUpdate()}),this.sendAudioPresenceFailed=()=>{let e=K.TracksErrors.NoAudioDetected("PREVIEW");E.w(this.TAG,"Audio Presence Failure",this.transportState,e)},this.sendJoinAnalyticsEvent=(e=!1,t)=>{this.eventBus.analytics.publish(Se.join(be(Y({error:t},this.analyticsTimer.getTimes()),{time:this.analyticsTimer.getTimeTaken("join_time"),is_preview_called:e,retries_join:this.transport.joinRetryCount})))},this.sendPreviewAnalyticsEvent=e=>{this.eventBus.analytics.publish(Se.preview(be(Y({error:e},this.analyticsTimer.getTimes()),{time:this.analyticsTimer.getTimeTaken("preview_time")})))},this.sendAnalyticsEvent=e=>{this.analyticsEventsService.queue(e).flush()}}initNotificationManager(){this.notificationManager||(this.notificationManager=new I$(this.store,this.eventBus,this.transport,this.listener,this.audioListener))}initStoreAndManagers(){var e;if(this.sdkState.isInitialised){(e=this.notificationManager)==null||e.setListener(this.listener),this.audioSinkManager.setListener(this.listener),this.interactivityCenter.setListener(this.listener);return}this.sdkState.isInitialised=!0,this.store=new l$,this.eventBus=new m$,this.pluginUsageTracker=new h$(this.eventBus),this.wakeLockManager=new u$,this.networkTestManager=new s$(this.eventBus,this.listener),this.playlistManager=new mN(this,this.eventBus),this.deviceManager=new f$(this.store,this.eventBus),this.audioSinkManager=new d$(this.store,this.deviceManager,this.eventBus),this.audioOutput=new p$(this.deviceManager,this.audioSinkManager),this.audioSinkManager.setListener(this.listener),this.eventBus.autoplayError.subscribe(this.handleAutoplayError),this.localTrackManager=new Su(this.store,this.observer,this.deviceManager,this.eventBus,this.analyticsTimer),this.analyticsEventsService=new c$(this.store),this.transport=new tF(this.observer,this.deviceManager,this.store,this.eventBus,this.analyticsEventsService,this.analyticsTimer,this.pluginUsageTracker),this.sessionStore=new O$(this.transport),this.interactivityCenter=new _$(this.transport,this.store,this.listener),this.eventBus.analytics.subscribe(this.sendAnalyticsEvent),this.eventBus.deviceChange.subscribe(this.handleDeviceChange),this.eventBus.audioPluginFailed.subscribe(this.handleAudioPluginError)}validateJoined(e){if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION",`Not connected - ${e}`)}sendHLSAnalytics(e){this.sendAnalyticsEvent(Se.hlsPlayerError(e))}refreshDevices(){return v(this,null,function*(){this.validateJoined("refreshDevices"),yield this.deviceManager.init(!0)})}getWebrtcInternals(){var e;return(e=this.transport)==null?void 0:e.getWebrtcInternals()}getSessionStore(){return this.sessionStore}getPlaylistManager(){return this.playlistManager}getRecordingState(){var e;return(e=this.store.getRoom())==null?void 0:e.recording}getRTMPState(){var e;return(e=this.store.getRoom())==null?void 0:e.rtmp}getHLSState(){var e;return(e=this.store.getRoom())==null?void 0:e.hls}getTranscriptionState(){var e;return(e=this.store.getRoom())==null?void 0:e.transcriptions}getTemplateAppData(){return this.store.getTemplateAppData()}getInteractivityCenter(){return this.interactivityCenter}getPeerListIterator(e){return new hN(this.transport,this.store,e)}updatePlaylistSettings(e){e.video&&Object.assign(this.playlistSettings.video,e.video),e.audio&&Object.assign(this.playlistSettings.audio,e.audio)}get localPeer(){var e;return(e=this.store)==null?void 0:e.getLocalPeer()}preview(e,t){return v(this,null,function*(){if(Rv(),Cv(),this.sdkState.isPreviewInProgress)return Promise.reject(K.GenericErrors.PreviewAlreadyInProgress("PREVIEW","Preview already called"));if(["Joined","Reconnecting"].includes(this.transportState))return this.midCallPreview(e.asRole,e.settings);this.analyticsTimer.start("preview_time"),this.setUpPreview(e,t),e.alwaysRequestPermissions&&this.localTrackManager.requestPermissions().then(()=>v(this,null,function*(){yield this.initDeviceManagers()}));let r=!1,n=!1,i=setTimeout(()=>{var s,o;(!r||!n)&&((o=(s=this.listener)==null?void 0:s.onNetworkQuality)==null||o.call(s,-1))},3e3);return new Promise((s,o)=>{let a=()=>v(this,null,function*(){var u;if(this.localPeer){let h=e.asRole&&this.store.getPolicyForRole(e.asRole);this.localPeer.asRole=h||this.localPeer.role}let c=yield this.localTrackManager.getTracksToPublish(e.settings);c.forEach(h=>this.setLocalPeerTrack(h)),(u=this.localPeer)!=null&&u.audioTrack&&this.initPreviewTrackAudioLevelMonitor(),yield this.initDeviceManagers(),this.sdkState.isPreviewInProgress=!1,this.analyticsTimer.end("preview_time");let d=this.store.getRoom();d&&t.onPreview(d,c),this.sendPreviewAnalyticsEvent(),s()}),l=u=>{var c;this.analyticsTimer.end("preview_time"),u&&((c=this.errorListener)==null||c.onError(u)),this.sendPreviewAnalyticsEvent(u),this.sdkState.isPreviewInProgress=!1,o(u)};this.eventBus.policyChange.subscribeOnce(a),this.eventBus.leave.subscribeOnce(l),this.transport.preview(e.authToken,e.initEndpoint,this.localPeer.peerId,{name:e.userName,metaData:e.metaData||""},e.autoVideoSubscribe,e.iceServers).then(u=>{var c;r=!0,clearTimeout(i),u&&e.captureNetworkQualityInPreview&&this.networkTestManager.start((c=u.config)==null?void 0:c.networkHealth).then(()=>{n=!0})}).catch(l)})})}midCallPreview(e,t){return v(this,null,function*(){var r,n;if(!this.localPeer||this.transportState!=="Joined")throw K.GenericErrors.NotConnected("VALIDATION","Not connected - midCallPreview");let i=e&&this.store.getPolicyForRole(e);if(!i)throw K.GenericErrors.InvalidRole("PREVIEW",`role ${e} does not exist in policy`);this.localPeer.asRole=i;let s=yield this.localTrackManager.getTracksToPublish(t);s.forEach(o=>this.setLocalPeerTrack(o)),(r=this.localPeer)!=null&&r.audioTrack&&this.initPreviewTrackAudioLevelMonitor(),yield this.initDeviceManagers(),(n=this.listener)==null||n.onPreview(this.store.getRoom(),s)})}cancelMidCallPreview(){return v(this,null,function*(){var e,t,r;if((!this.localPeer||!this.localPeer.isInPreview())&&E.w(this.TAG,"Cannot cancel mid call preview as preview is not in progress"),(e=this.localPeer)!=null&&e.asRole&&this.localPeer.role){let n=this.localPeer.asRole,i=this.localPeer.role;delete this.localPeer.asRole,yield(t=this.roleChangeManager)==null?void 0:t.diffRolesAndPublishTracks({oldRole:n,newRole:i}),(r=this.listener)==null||r.onPeerUpdate(8,this.localPeer)}})}join(e,t){return v(this,null,function*(){var r,n,i,s,o,a;if(Rv(),Cv(),this.sdkState.isPreviewInProgress)throw K.GenericErrors.NotReady("JOIN","Preview is in progress, can't join");this.analyticsTimer.start("join_time"),this.sdkState.isJoinInProgress=!0;let{roomId:l,userId:u,role:c}=Hv(e.authToken),d=((n=(r=this.localPeer)==null?void 0:r.asRole)==null?void 0:n.name)||((s=(i=this.localPeer)==null?void 0:i.role)==null?void 0:s.name);(o=this.networkTestManager)==null||o.stop(),this.listener=t,this.commonSetup(e,l,t),this.removeDevicesFromConfig(e),this.store.setConfig(e),this.store.createAndSetUserAgent(this.frameworkInfo),ic.resumeContext();let h=this.store.getConfig();h!=null&&h.autoManageWakeLock&&this.wakeLockManager.acquireLock(),this.localPeer?(this.localPeer.name=e.userName,this.localPeer.role=this.store.getPolicyForRole(c),this.localPeer.customerUserId=u,this.localPeer.metadata=e.metaData,delete this.localPeer.asRole):this.createAndAddLocalPeerToStore(e,c,u),this.roleChangeManager=new o$(this.store,this.transport,this.deviceManager,this.getAndPublishTracks.bind(this),this.removeTrack.bind(this),this.listener),this.eventBus.localRoleUpdate.subscribe(this.handleLocalRoleUpdate),E.d(this.TAG,`⏳ Joining room ${l}`),E.time(`join-room-${l}`);try{yield this.transport.join(e.authToken,this.localPeer.peerId,{name:e.userName,metaData:e.metaData},e.initEndpoint,e.autoVideoSubscribe,e.iceServers),E.d(this.TAG,`✅ Joined room ${l}`),this.analyticsTimer.start("peer_list_time"),yield this.notifyJoin(),this.sdkState.isJoinInProgress=!1,yield this.publish(e.settings,d)}catch(f){throw this.analyticsTimer.end("join_time"),this.sdkState.isJoinInProgress=!1,(a=this.listener)==null||a.onError(f),this.sendJoinAnalyticsEvent(this.sdkState.isPreviewCalled,f),E.e(this.TAG,"Unable to join room",f),f}E.timeEnd(`join-room-${l}`)})}stringifyMetadata(e){e.metaData&&typeof e.metaData!="string"?e.metaData=JSON.stringify(e.metaData):e.metaData||(e.metaData="")}cleanup(){var e,t,r;this.cleanDeviceManagers(),this.eventBus.analytics.unsubscribe(this.sendAnalyticsEvent),this.analyticsTimer.cleanup(),bn.cleanup(),this.playlistManager.cleanup(),(e=this.wakeLockManager)==null||e.cleanup(),Su.cleanup(),this.notificationManager=void 0,E.cleanup(),this.sdkState=Y({},Wv),this.localPeer&&((t=this.localPeer.audioTrack)==null||t.cleanup(),this.localPeer.audioTrack=void 0,(r=this.localPeer.videoTrack)==null||r.cleanup(),this.localPeer.videoTrack=void 0),this.store.cleanup(),this.listener=void 0,this.roleChangeManager&&this.eventBus.localRoleUpdate.unsubscribe(this.handleLocalRoleUpdate)}leave(e){return this.internalLeave(e)}internalLeave(e=!0,t){return v(this,null,function*(){var r,n,i;let s=(r=this.store)==null?void 0:r.getRoom();if(s){for(;(this.sdkState.isPreviewInProgress||this.sdkState.isJoinInProgress)&&!(t!=null&&t.isTerminal);)yield sc(100);let o=s.id;(n=this.networkTestManager)==null||n.stop(),this.eventBus.leave.publish(t),E.d(this.TAG,`⏳ Leaving room ${o}`),yield(i=this.transport)==null?void 0:i.leave(e),this.cleanup(),E.d(this.TAG,`✅ Left room ${o}`)}})}getAuthTokenByRoomCode(e,t){return v(this,null,function*(){let r=(t||{}).endpoint||"https://auth.100ms.live/v2/token";this.analyticsTimer.start("GET_TOKEN");let n=yield rF(r,{method:"POST",body:JSON.stringify({code:e.roomCode,user_id:e.userId})},[429,500,501,502,503,504,505,506,507,508,509,510,511]),i=yield n.json();if(this.analyticsTimer.end("GET_TOKEN"),!n.ok)throw K.APIErrors.ServerErrors(i.code,"GET_TOKEN",i.message,!1);let{token:s}=i;if(!s)throw Error(i.message);return s})}getLocalPeer(){return this.store.getLocalPeer()}getPeers(){return this.store.getPeers()}getPeerMap(){return this.store.getPeerMap()}getAudioOutput(){return this.audioOutput}sendMessage(e,t){this.sendMessageInternal({message:t,type:e})}sendBroadcastMessage(e,t){return v(this,null,function*(){return yield this.sendMessageInternal({message:e,type:t})})}sendGroupMessage(e,t,r){return v(this,null,function*(){let n=this.store.getKnownRoles();if((t.filter(i=>n[i.name])||[]).length===0)throw K.GenericErrors.ValidationFailed("No valid role is present",t);return yield this.sendMessageInternal({message:e,recipientRoles:t,type:r})})}sendDirectMessage(e,t,r){return v(this,null,function*(){var n,i;if(((n=this.localPeer)==null?void 0:n.peerId)===t)throw K.GenericErrors.ValidationFailed("Cannot send message to self");let s=!!((i=this.store.getRoom())!=null&&i.large_room_optimization),o=this.store.getPeerById(t);if(!o)if(s){let{peers:a}=yield this.transport.signal.findPeers({peers:[t],limit:1});if(a.length===0)throw K.GenericErrors.ValidationFailed("Invalid peer - peer not present in the room",t);o=sa(a[0],this.store)}else throw K.GenericErrors.ValidationFailed("Invalid peer - peer not present in the room",t);return yield this.sendMessageInternal({message:e,recipientPeer:o,type:r})})}getPeer(e){return v(this,null,function*(){let t=yield this.transport.signal.getPeer({peer_id:e});if(t)return sa(t,this.store)})}sendMessageInternal(e){return v(this,arguments,function*({recipientRoles:t,recipientPeer:r,type:n="chat",message:i}){if(i.replace(/\u200b/g," ").trim()==="")throw E.w(this.TAG,"sendMessage","Ignoring empty message send"),K.GenericErrors.ValidationFailed("Empty message not allowed");let s={info:{message:i,type:n}};return t!=null&&t.length&&(s.roles=t.map(o=>o.name)),r!=null&&r.peerId&&(s.peer_id=r.peerId),E.d(this.TAG,"Sending Message: ",s),yield this.transport.signal.broadcast(s)})}startScreenShare(e,t){return v(this,null,function*(){var r,n,i;let s=this.store.getPublishParams();if(!s)return;let{allowed:o}=s;if(!(o&&o.includes("screen"))){E.e(this.TAG,`Role ${(r=this.localPeer)==null?void 0:r.role} cannot share screen`);return}if((i=(n=this.localPeer)==null?void 0:n.auxiliaryTracks)!=null&&i.find(l=>l.source==="screen"))throw Error("Cannot share multiple screens");let a=yield this.getScreenshareTracks(e,t);if(!this.localPeer){E.d(this.TAG,"Screenshared when not connected"),a.forEach(l=>{l.cleanup()});return}yield this.transport.publish(a),a.forEach(l=>{var u,c,d;l.peerId=(u=this.localPeer)==null?void 0:u.peerId,(c=this.localPeer)==null||c.auxiliaryTracks.push(l),(d=this.listener)==null||d.onTrackUpdate(0,l,this.localPeer)})})}stopEndedScreenshare(e){return v(this,null,function*(){E.d(this.TAG,"✅ Screenshare ended natively"),yield this.stopScreenShare(),e()})}stopScreenShare(){return v(this,null,function*(){var e;E.d(this.TAG,"✅ Screenshare ended from app");let t=(e=this.localPeer)==null?void 0:e.auxiliaryTracks.filter(r=>r.source==="screen");if(t)for(let r of t)yield this.removeTrack(r.trackId)})}addTrack(e,t="regular"){return v(this,null,function*(){var r,n,i,s;if(!e){E.w(this.TAG,"Please pass a valid MediaStreamTrack");return}if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot addTrack");if(this.localPeer.auxiliaryTracks.find(d=>d.trackId===e.id))return;let o=e.kind,a=new MediaStream([e]),l=new $h(a),u=o==="audio"?ys:Fr,c=new u(l,e,t,this.eventBus);this.setPlaylistSettings({track:e,hmsTrack:c,source:t}),yield(r=this.transport)==null?void 0:r.publish([c]),c.peerId=(n=this.localPeer)==null?void 0:n.peerId,(i=this.localPeer)==null||i.auxiliaryTracks.push(c),(s=this.listener)==null||s.onTrackUpdate(0,c,this.localPeer)})}removeTrack(e,t=!1){return v(this,null,function*(){var r;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot removeTrack");let n=this.localPeer.auxiliaryTracks.findIndex(i=>i.trackId===e);if(n>-1){let i=this.localPeer.auxiliaryTracks[n];i.isPublished?yield this.transport.unpublish([i]):yield i.cleanup(),t||this.stopPlaylist(i),this.localPeer.auxiliaryTracks.splice(n,1),(r=this.listener)==null||r.onTrackUpdate(1,i,this.localPeer)}else E.w(this.TAG,`No track found for ${e}`)})}setAnalyticsLevel(e){this.analyticsEventsService.level=e}setLogLevel(e){E.level=e}addAudioListener(e){var t;this.audioListener=e,(t=this.notificationManager)==null||t.setAudioListener(e)}addConnectionQualityListener(e){var t;(t=this.notificationManager)==null||t.setConnectionQualityListener(e)}changeRole(e,t,r=!1){return v(this,null,function*(){var n;yield(n=this.transport)==null?void 0:n.signal.requestRoleChange({requested_for:e,role:t,force:r})})}changeRoleOfPeer(e,t,r=!1){return v(this,null,function*(){var n;yield(n=this.transport)==null?void 0:n.signal.requestRoleChange({requested_for:e,role:t,force:r})})}changeRoleOfPeersWithRoles(e,t){return v(this,null,function*(){var r;e.length<=0||!t||(yield(r=this.transport)==null?void 0:r.signal.requestBulkRoleChange({roles:e.map(n=>n.name),role:t,force:!0}))})}acceptChangeRole(e){return v(this,null,function*(){var t,r;yield(r=this.transport)==null?void 0:r.signal.acceptRoleChangeRequest({requested_by:(t=e.requestedBy)==null?void 0:t.peerId,role:e.role.name,token:e.token})})}endRoom(e,t){return v(this,null,function*(){var r;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot end room");yield(r=this.transport)==null?void 0:r.signal.endRoom(e,t),yield this.leave()})}removePeer(e,t){return v(this,null,function*(){var r;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot remove peer");yield(r=this.transport)==null?void 0:r.signal.removePeer({requested_for:e,reason:t})})}startRTMPOrRecording(e){return v(this,null,function*(){var t,r;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot start streaming or recording");let n={meeting_url:e.meetingURL,record:e.record};(t=e.rtmpURLs)!=null&&t.length&&(n.rtmp_urls=e.rtmpURLs),e.resolution&&(n.resolution=e.resolution),yield(r=this.transport)==null?void 0:r.signal.startRTMPOrRecording(n)})}stopRTMPAndRecording(){return v(this,null,function*(){var e;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot stop streaming or recording");yield(e=this.transport)==null?void 0:e.signal.stopRTMPAndRecording()})}startHLSStreaming(e){return v(this,null,function*(){var t;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot start HLS streaming");let r={};e&&e.variants&&e.variants.length>0&&(r.variants=e.variants.map(n=>{let i={meeting_url:n.meetingURL};return n.metadata&&(i.metadata=n.metadata),i})),e!=null&&e.recording&&(r.hls_recording={single_file_per_layer:e.recording.singleFilePerLayer,hls_vod:e.recording.hlsVod}),yield(t=this.transport)==null?void 0:t.signal.startHLSStreaming(r)})}stopHLSStreaming(e){return v(this,null,function*(){var t,r,n;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot stop HLS streaming");if(e){let i={variants:(t=e==null?void 0:e.variants)==null?void 0:t.map(s=>{let o={meeting_url:s.meetingURL};return s.metadata&&(o.metadata=s.metadata),o})};yield(r=this.transport)==null?void 0:r.signal.stopHLSStreaming(i)}yield(n=this.transport)==null?void 0:n.signal.stopHLSStreaming()})}startTranscription(e){return v(this,null,function*(){var t;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot start transcriptions");let r={mode:e.mode};yield(t=this.transport)==null?void 0:t.signal.startTranscription(r)})}stopTranscription(e){return v(this,null,function*(){var t;if(!this.localPeer)throw K.GenericErrors.NotConnected("VALIDATION","No local peer present, cannot stop transcriptions");if(!e)throw K.GenericErrors.Signalling("VALIDATION","No mode is passed to stop the transcription");let r={mode:e.mode};yield(t=this.transport)==null?void 0:t.signal.stopTranscription(r)})}sendHLSTimedMetadata(e){return v(this,null,function*(){var t;if(this.validateJoined("sendHLSTimedMetadata"),e.length>0){let r={metadata_objs:e};yield(t=this.transport)==null?void 0:t.signal.sendHLSTimedMetadata(r)}})}changeName(e){return v(this,null,function*(){var t,r;this.validateJoined("changeName");let n=this.store.getLocalPeer();n&&n.name!==e&&(yield(t=this.transport)==null?void 0:t.signal.updatePeer({name:e}),(r=this.notificationManager)==null||r.updateLocalPeer({name:e}))})}changeMetadata(e){return v(this,null,function*(){var t,r;this.validateJoined("changeMetadata"),yield(t=this.transport)==null?void 0:t.signal.updatePeer({data:e}),(r=this.notificationManager)==null||r.updateLocalPeer({metadata:e})})}setSessionMetadata(e){return v(this,null,function*(){var t;yield(t=this.transport)==null?void 0:t.signal.setSessionMetadata({key:"default",data:e})})}getSessionMetadata(){return v(this,null,function*(){var e;return(yield(e=this.transport)==null?void 0:e.signal.getSessionMetadata("default")).data})}getRoles(){return Object.values(this.store.getKnownRoles())}changeTrackState(e,t){return v(this,null,function*(){var r;if(e.type==="video"&&e.source!=="regular"){E.w(this.TAG,"Muting non-regular video tracks is currently not supported");return}if(e.enabled===t){E.w(this.TAG,`Aborting change track state, track already has enabled - ${t}`,e);return}if(!this.store.getTrackById(e.trackId))throw K.GenericErrors.ValidationFailed("No track found for change track state",e);let n=this.store.getPeerByTrackId(e.trackId);if(!n)throw K.GenericErrors.ValidationFailed("No peer found for change track state",e);yield(r=this.transport)==null?void 0:r.signal.requestTrackStateChange({requested_for:n.peerId,track_id:e.trackId,stream_id:e.stream.id,mute:!t})})}changeMultiTrackState(e){return v(this,null,function*(){var t;if(typeof e.enabled!="boolean")throw K.GenericErrors.ValidationFailed("Pass a boolean for enabled");let{enabled:r,roles:n,type:i,source:s}=e;yield(t=this.transport)==null?void 0:t.signal.requestMultiTrackStateChange({value:!r,type:i,source:s,roles:n==null?void 0:n.map(o=>o==null?void 0:o.name)})})}raiseLocalPeerHand(){return v(this,null,function*(){var e;this.validateJoined("raiseLocalPeerHand"),yield(e=this.transport)==null?void 0:e.signal.joinGroup(os)})}lowerLocalPeerHand(){return v(this,null,function*(){var e;this.validateJoined("lowerLocalPeerHand"),yield(e=this.transport)==null?void 0:e.signal.leaveGroup(os)})}raiseRemotePeerHand(e){return v(this,null,function*(){var t;yield(t=this.transport)==null?void 0:t.signal.addToGroup(e,os)})}lowerRemotePeerHand(e){return v(this,null,function*(){var t;yield(t=this.transport)==null?void 0:t.signal.removeFromGroup(e,os)})}setFrameworkInfo(e){this.frameworkInfo=Y(Y({},this.frameworkInfo),e)}attachVideo(e,t){return v(this,null,function*(){let r=this.store.getConfig();r!=null&&r.autoManageVideo?e.attach(t):yield e.addSink(t)})}detachVideo(e,t){return v(this,null,function*(){let r=this.store.getConfig();r!=null&&r.autoManageVideo?e.detach(t):yield e.removeSink(t)})}publish(e,t){return v(this,null,function*(){var r,n,i;if([this.store.getPublishParams(),!this.sdkState.published,!Ip].every(s=>!!s)){let s=t&&t!==((n=(r=this.localPeer)==null?void 0:r.role)==null?void 0:n.name)?()=>{var o;return(o=this.roleChangeManager)==null?void 0:o.diffRolesAndPublishTracks({oldRole:this.store.getPolicyForRole(t),newRole:this.localPeer.role})}:()=>this.getAndPublishTracks(e);yield(i=s==null?void 0:s())==null?void 0:i.catch(o=>{var a;E.e(this.TAG,"Error in publish",o),(a=this.listener)==null||a.onError(o)})}})}getAndPublishTracks(e){return v(this,null,function*(){var t,r;let n=yield this.localTrackManager.getTracksToPublish(e);yield this.setAndPublishTracks(n),(r=(t=this.localPeer)==null?void 0:t.audioTrack)==null||r.initAudioLevelMonitor(),this.sdkState.published=!0})}setAndPublishTracks(e){return v(this,null,function*(){var t;for(let r of e)yield this.transport.publish([r]),this.setLocalPeerTrack(r),(t=this.listener)==null||t.onTrackUpdate(0,r,this.localPeer);yield this.initDeviceManagers()})}setLocalPeerTrack(e){var t;switch(e.peerId=(t=this.localPeer)==null?void 0:t.peerId,e.type){case"audio":this.localPeer.audioTrack=e;break;case"video":this.localPeer.videoTrack=e;break}}initDeviceManagers(){return v(this,null,function*(){var e,t,r,n,i;this.sdkState.deviceManagersInitialised||(this.sdkState.deviceManagersInitialised=!0,yield this.deviceManager.init(),(yield this.deviceManager.updateOutputDevice((t=(e=this.store.getConfig())==null?void 0:e.settings)==null?void 0:t.audioOutputDeviceId))||(yield this.deviceManager.updateOutputDevice((n=(r=bn.getSelection())==null?void 0:r.audioOutput)==null?void 0:n.deviceId)),this.audioSinkManager.init((i=this.store.getConfig())==null?void 0:i.audioSinkElementId))})}cleanDeviceManagers(){this.eventBus.deviceChange.unsubscribe(this.handleDeviceChange),this.eventBus.audioPluginFailed.unsubscribe(this.handleAudioPluginError),this.eventBus.autoplayError.unsubscribe(this.handleAutoplayError),this.deviceManager.cleanup(),this.audioSinkManager.cleanup()}initPreviewTrackAudioLevelMonitor(){var e;let t=(e=this.localPeer)==null?void 0:e.audioTrack;t==null||t.initAudioLevelMonitor(),this.eventBus.trackAudioLevelUpdate.subscribe(r=>{var n;let i=r&&r.track.trackId===(t==null?void 0:t.trackId)?[{audioLevel:r.audioLevel,peer:this.localPeer,track:t}]:[];this.store.updateSpeakers(i),(n=this.audioListener)==null||n.onAudioLevelUpdate(i)}),this.eventBus.localAudioSilence.subscribe(this.sendAudioPresenceFailed)}notifyJoin(){var e;let t=this.store.getLocalPeer(),r=this.store.getRoom();if(!r){E.w(this.TAG,"notify join - room not present");return}if(r.joinedAt=new Date,t&&(t.joinedAt=r.joinedAt),t!=null&&t.role){this.analyticsTimer.end("join_time"),(e=this.listener)==null||e.onJoin(r);return}return new Promise((n,i)=>{this.eventBus.policyChange.subscribeOnce(()=>{var s;this.analyticsTimer.end("join_time"),(s=this.listener)==null||s.onJoin(r),n()}),this.eventBus.leave.subscribeOnce(s=>{i(s)})})}setUpPreview(e,t){this.listener=t,this.sdkState.isPreviewCalled=!0,this.sdkState.isPreviewInProgress=!0;let{roomId:r,userId:n,role:i}=Hv(e.authToken);this.commonSetup(e,r,t),this.store.setConfig(e),this.store.createAndSetUserAgent(this.frameworkInfo),this.createAndAddLocalPeerToStore(e,i,n,e.asRole)}setPlaylistSettings(e){return v(this,arguments,function*({track:t,hmsTrack:r,source:n}){var i,s;if(n==="videoplaylist"){let o={};if(t.kind==="audio")o.maxBitrate=((i=this.playlistSettings.audio)==null?void 0:i.bitrate)||$v;else{o.maxBitrate=((s=this.playlistSettings.video)==null?void 0:s.bitrate)||Nv;let{width:a,height:l}=t.getSettings();o.width=a,o.height=l}yield r.setSettings(o)}else n==="audioplaylist"&&(yield r.setSettings({maxBitrate:64}))})}createAndAddLocalPeerToStore(e,t,r,n){let i=this.store.getPolicyForRole(t),s=n?this.store.getPolicyForRole(n):void 0,o=new cN({name:e.userName||"",customerUserId:r,metadata:e.metaData||"",role:i,asRole:s||i,type:"regular"});this.store.addPeer(o)}commonSetup(e,t,r){this.stringifyMetadata(e),e.initEndpoint||(e.initEndpoint="https://prod-init.100ms.live"),this.errorListener=r,this.deviceChangeListener=r,this.initStoreAndManagers(),this.store.setErrorListener(this.errorListener),this.store.getRoom()||this.store.setRoom(new i$(t))}removeDevicesFromConfig(e){this.store.getConfig()&&e.settings&&(delete e.settings.audioOutputDeviceId,delete e.settings.videoDeviceId,delete e.settings.audioInputDeviceId)}getScreenshareTracks(e,t){return v(this,null,function*(){let r=this.transport.isFlagEnabled("scaleScreenshareBasedOnPixels"),[n,i]=yield this.localTrackManager.getLocalScreen(t,r),s=()=>{this.stopEndedScreenshare(e)},o=[];if(t!=null&&t.audioOnly){if(n.nativeTrack.stop(),!i)throw K.TracksErrors.NothingToReturn("TRACK","Select share audio when sharing screen","No audio found");o.push(i),i.nativeTrack.addEventListener("ended",s)}else o.push(n),n.nativeTrack.addEventListener("ended",s),i&&o.push(i);return o})}stopPlaylist(e){e.source==="audioplaylist"?this.playlistManager.stop("audio"):e.source==="videoplaylist"&&this.playlistManager.stop("video")}},gE=class vi{constructor(t,r,n){this.getStats=()=>(this.stats||(this.stats=new lF(this.store,this.sdk)),this.stats),t?this.store=t:this.store=vi.createNewHMSStore(lE("HMSStore"),wk),n?this.notifications=n:this.notifications=new KN(this.store),r?this.actions=r:(this.sdk=new nF,this.actions=new n$(this.store,this.sdk,this.notifications)),this.actions.setFrameworkInfo({type:"js",sdkVersion:Pk().version}),this.initialTriggerOnSubscribe=!1,Kt&&(window.__hms=this)}triggerOnSubscribe(){this.initialTriggerOnSubscribe||(vi.makeStoreTriggerOnSubscribe(this.store),this.initialTriggerOnSubscribe=!0)}getStore(){return this.store}getHMSActions(){return this.actions}getActions(){return this.actions}getNotifications(){return{onNotification:this.notifications.onNotification}}static createNewHMSStore(t,r){let n=ML(()=>r()),i=n.setState;n.setState=a=>{let l=typeof a=="function"?xL(a):a;i(l)};let s=n.getState;n.getState=a=>a?a(s()):s(),vi.compareWithShallowCheckInSubscribe(n);let o=vi.setUpDevtools(n,t);return be(Y({},n),{namedSetState:o})}static makeStoreTriggerOnSubscribe(t){let r=t.subscribe;t.subscribe=(n,i,s)=>(n(t.getState(i),void 0),r(n,i,s))}static compareWithShallowCheckInSubscribe(t){let r=t.subscribe;t.subscribe=(n,i,s)=>(i||(i=o=>o),s=s||LL,r(n,i,s))}static setUpDevtools(t,r){let n;try{n=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!n)return o=>{t.setState(o)};let i=n.connect(vi.devtoolsOptions(r));i.prefix=r?`${r} > `:"";let s=t.setState;return t.setState=o=>{s(o),i.send(`${i.prefix}setState`,t.getState())},i.subscribe(vi.devtoolsSubscribe(i,t,s)),i.send("setUpStore",t.getState()),(o,a)=>{s(o);let l=a||`${i.prefix}action`;i.send(l,t.getState())}}static devtoolsOptions(t){return{name:t,actionsBlacklist:["audioLevel","playlistProgress","connectionQuality"]}}static devtoolsSubscribe(t,r,n){return i=>{var s,o,a,l;if(i.type==="DISPATCH"&&i.state)["JUMP_TO_ACTION","JUMP_TO_STATE"].includes(i.payload.type)?n(JSON.parse(i.state)):r.setState(JSON.parse(i.state));else if(i.type==="DISPATCH"&&((s=i.payload)==null?void 0:s.type)==="COMMIT")t.init(r.getState());else if(i.type==="DISPATCH"&&((o=i.payload)==null?void 0:o.type)==="IMPORT_STATE"){let u=(a=i.payload.nextLiftedState)==null?void 0:a.actionsById;(((l=i.payload.nextLiftedState)==null?void 0:l.computedStates)||[]).forEach(({state:c},d)=>{let h=u[d]||`${t.prefix}setState`;d===0?t.init(c):(n(c),t.send(h,r.getState()))})}}}},iF=(e,t,r)=>{let n;r.getState(Yr)==="Connected"&&(n=qv(e,t,r)),r.subscribe(i=>{["Connected","Reconnecting"].includes(i)?n||(n=qv(e,t,r)):["Disconnected","Failed"].includes(i)&&n&&(aF(t,i),n(),n=void 0)},Yr)},qv=(e,t,r)=>{var n,i;let s=sF(r,t);(n=e.getWebrtcInternals())==null||n.start();let o=(i=e.getWebrtcInternals())==null?void 0:i.onStatsChange(a=>oF(t,a,r,e));return()=>{s(),o&&o()}},sF=(e,t)=>{let r,n,i;return e.getState(Ts)?t.namedSetState(s=>{s.localPeer.id=e.getState(Ts)},"localpeer-id"):r=e.subscribe(s=>{s&&t.namedSetState(o=>{o.localPeer.id=s},"localpeer-id")},Ts),e.getState(Nr)?t.namedSetState(s=>{s.localPeer.videoTrack=e.getState(Nr)},"localpeer-videotrack-id"):n=e.subscribe(s=>{s&&t.namedSetState(o=>{o.localPeer.videoTrack=s},"localpeer-videotrack-id")},Nr),e.getState(pn)?t.namedSetState(s=>{s.localPeer.audioTrack=e.getState(pn)},"localpeer-audiotrack-id"):i=e.subscribe(s=>{s&&t.namedSetState(o=>{o.localPeer.audioTrack=s},"localpeer-audiotrack-id")},pn),()=>{r==null||r(),n==null||n(),i==null||i()}},oF=(e,t,r,n)=>{let i=r.getState(it);e.namedSetState(s=>{let o=r.getState(Ts),a={},l=Object.keys(i).filter(c=>i[c].peerId!==o);for(let c of l){let d=t.getRemoteTrackStats(c);d&&(a[c]=d)}Bv(s.remoteTrackStats,a);let u={[o]:t.getLocalPeerStats()};Bv(s.peerStats,u),e$(s.localTrackStats,t.getLocalTrackStats(),n.store.getLocalPeerTracks())},"webrtc-stats")},aF=(e,t="resetState")=>{e.namedSetState(r=>{Object.assign(r,Ck())},t)},lF=class{constructor(e,t){this.hmsStore=e,this.sdk=t,this.store=gE.createNewHMSStore(lE("HMSStatsStore"),Ck),this.getState=this.store.getState,this.subscribe=this.store.subscribe,this.getPublishPeerConnection=()=>new Promise(r=>{var n,i;this.hmsStore.getState(Yr)==="Connected"?r((i=(n=this.sdk)==null?void 0:n.getWebrtcInternals())==null?void 0:i.getPublishPeerConnection()):this.hmsStore.subscribe(s=>{var o,a;s==="Connected"&&r((a=(o=this.sdk)==null?void 0:o.getWebrtcInternals())==null?void 0:a.getPublishPeerConnection())},Yr)}),this.getSubscribePeerConnection=()=>new Promise(r=>{var n,i;this.hmsStore.getState(Yr)==="Connected"?r((i=(n=this.sdk)==null?void 0:n.getWebrtcInternals())==null?void 0:i.getSubscribePeerConnection()):this.hmsStore.subscribe(s=>{var o,a;s==="Connected"&&r((a=(o=this.sdk)==null?void 0:o.getWebrtcInternals())==null?void 0:a.getSubscribePeerConnection())},Yr)}),this.sdk&&iF(this.sdk,this.store,this.hmsStore)}},uF=e=>e.localPeer.id,cF=e=>e.localPeer.audioTrack,dF=e=>e.localPeer.videoTrack,hF=(e,t)=>t,vE=(e,t)=>t,fF=e=>e.remoteTrackStats,yE=e=>e.peerStats,Gp=e=>e.localTrackStats,ai=Z([yE,uF],(e,t)=>e[t]);Z(ai,e=>{var t;return(t=e==null?void 0:e.subscribe)==null?void 0:t.packetsLost});Z(ai,e=>{var t;return(t=e==null?void 0:e.subscribe)==null?void 0:t.jitter});Z(ai,e=>{var t;return(t=e==null?void 0:e.publish)==null?void 0:t.bitrate});Z(ai,e=>{var t;return(t=e==null?void 0:e.subscribe)==null?void 0:t.bitrate});Z(ai,e=>{var t;return(t=e==null?void 0:e.publish)==null?void 0:t.availableOutgoingBitrate});Z(ai,e=>{var t;return(t=e==null?void 0:e.subscribe)==null?void 0:t.availableIncomingBitrate});Z(ai,e=>{var t;return(t=e==null?void 0:e.publish)==null?void 0:t.bytesSent});Z(ai,e=>{var t;return(t=e==null?void 0:e.subscribe)==null?void 0:t.bytesReceived});Z([yE,hF],(e,t)=>t?e[t]:void 0);Z([fF,vE],(e,t)=>t?e[t]:void 0);var SE=Z([Gp,vE],(e,t)=>t?e[t]:void 0);Z([Gp,cF],(e,t)=>{var r;return t?(r=e[t])==null?void 0:r[0]:void 0});Dt(Z(SE,e=>e==null?void 0:e[0]));Z([Gp,dF],(e,t)=>{var r;return t?(r=e[t])==null?void 0:r[0]:void 0});Dt(Z(SE,e=>e));function pF(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}var er,gr;(gr=er||(er={}))[gr.VERBOSE=0]="VERBOSE",gr[gr.DEBUG=1]="DEBUG",gr[gr.INFO=2]="INFO",gr[gr.WARN=3]="WARN",gr[gr.ERROR=4]="ERROR",gr[gr.NONE=5]="NONE";class TE{static v(t,...r){this.log(er.VERBOSE,t,...r)}static d(t,...r){this.log(er.DEBUG,t,...r)}static i(t,...r){this.log(er.INFO,t,...r)}static w(t,...r){this.log(er.WARN,t,...r)}static e(t,...r){this.log(er.ERROR,t,...r)}static log(t,r,...n){if(!(this.level.valueOf()>t.valueOf()))switch(t){case er.VERBOSE:console.log("HMSui-components: ",r,...n);break;case er.DEBUG:console.debug("HMSui-components: ",r,...n);break;case er.INFO:console.info("HMSui-components: ",r,...n);break;case er.WARN:console.warn("HMSui-components: ",r,...n);break;case er.ERROR:console.error("HMSui-components: ",r,...n)}}}TE.level=er.VERBOSE;var mF=TE;const kE=`It seems like you forgot to add your component within a top level HMSRoomProvider, please refer to 100ms react docs(https://www.100ms.live/docs/javascript/v2/how-to-guides/install-the-sdk/integration#react-hooks) to check on the required steps for using this hook. If the provider is present
  at the top level, check the yarn.lock/package-lock.json, if there are multiple versions of @100mslive/react-sdk. Please ensure the versions of @100mslive/react-sdk and @100mslive/roomkit-react are the same versions from the release notes(https://www.100ms.live/docs/javascript/v2/changelog/release-notes) that you are trying to update to.`;function gF(e){return(t,r=pF)=>{t||mF.w("fetching full store without passing any selector may have a heavy performance impact on your website.");const n=$.useContext(e);if(!n)throw new Error(kE);return(0,n.store)(t,r)}}const vF=typeof window<"u",Hp=$.createContext(null),yF=({children:e,actions:t,store:r,notifications:n,stats:i,isHMSStatsOn:s=!1,leaveOnUnload:o=!0})=>{const a=$.useMemo(()=>{let l;const u=()=>{throw new Error("modifying store is not allowed")};if(t&&r)l={actions:t,store:el(Object.assign(Object.assign({},r),{setState:u,destroy:u}))},n&&(l.notifications=n),i&&(l.statsStore=el({getState:i.getState,subscribe:i.subscribe,setState:u,destroy:u}));else{const c=new gE;if(l={actions:c.getActions(),store:el(Object.assign(Object.assign({},c.getStore()),{setState:u,destroy:u})),notifications:c.getNotifications()},s){const d=c.getStats();l.statsStore=el({getState:d.getState,subscribe:d.subscribe,setState:u,destroy:u})}}return l.actions.setFrameworkInfo({type:"react-web",version:I.version,sdkVersion:"0.10.11"}),l},[t,r,n,i,s]);return $.useEffect(()=>{if(vF&&o){const l=()=>a.actions.leave();return window.addEventListener("unload",l),()=>{window.removeEventListener("unload",l)}}return()=>{}},[o,a]),I.createElement(Hp.Provider,{value:a},e)},f3=gF(Hp),p3=()=>{const e=$.useContext(Hp);if(!e)throw new Error(kE);return e.actions};function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var SF=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kv=SF,ud=()=>Math.random().toString(36).substring(7).split("").join("."),TF={INIT:`@@redux/INIT${ud()}`,REPLACE:`@@redux/REPLACE${ud()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ud()}`},ku=TF;function kF(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EE(e,t,r){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(EE)(e,t)}let n=e,i=t,s=new Map,o=s,a=0,l=!1;function u(){o===s&&(o=new Map,s.forEach((k,T)=>{o.set(T,k)}))}function c(){if(l)throw new Error(yt(3));return i}function d(k){if(typeof k!="function")throw new Error(yt(4));if(l)throw new Error(yt(5));let T=!0;u();const y=a++;return o.set(y,k),function(){if(T){if(l)throw new Error(yt(6));T=!1,u(),o.delete(y),s=null}}}function h(k){if(!kF(k))throw new Error(yt(7));if(typeof k.type>"u")throw new Error(yt(8));if(typeof k.type!="string")throw new Error(yt(17));if(l)throw new Error(yt(9));try{l=!0,i=n(i,k)}finally{l=!1}return(s=o).forEach(y=>{y()}),k}function f(k){if(typeof k!="function")throw new Error(yt(10));n=k,h({type:ku.REPLACE})}function m(){const k=d;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(yt(11));function y(){const w=T;w.next&&w.next(c())}return y(),{unsubscribe:k(y)}},[Kv](){return this}}}return h({type:ku.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:f,[Kv]:m}}function EF(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ku.INIT})>"u")throw new Error(yt(12));if(typeof r(void 0,{type:ku.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function bF(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{EF(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],f=o[d],m=h(f,a);if(typeof m>"u")throw a&&a.type,new Error(yt(14));u[d]=m,l=l||m!==f}return l=l||n.length!==Object.keys(o).length,l?u:o}}function bE(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function _F(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(yt(15))};const o={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},a=e.map(l=>l(o));return s=bE(...a)(i.dispatch),{...i,dispatch:s}}}function PF(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var wF=PF();const CF="loginReducer/UPDATE_EMAIL",RF="loginReducer/UPDATE_PASSWORD",AF="loginReducer/ON_LOGGEDIN",IF={email:"",password:"",isLoggedin:!1},OF=(e=IF,t)=>{switch(t.type){case CF:return{...e,email:t.payload};case RF:return{...e,password:t.payload};case AF:return{...e,isLoggedin:t.payload};default:return e}},DF="navigationReducer/ON_PRESS_DASHBORD",xF="navigationReducer/ON_PRESS_DASHBORD_CHILD",LF="navigationReducer/ON_PRESS_THEME_COLOR",MF="navigationReducer/ON_PRESS_GENERAL_SETTING",NF="navigationReducer/ON_PRESS_NOTIFICATION",$F="navigationReducer/ON_PRESS_EQUALIZER",FF="navigationReducer/ON_PRESS_MENU_PROFILE_DROPDOWN",jF="navigationReducer/ON_PRESS_SIDE_MENU_TOGGLE",UF="navigationReducer/ON_PRESS_SIDE_MENU_TAB",_E="navigationReducer/TOGGLE_MENU_ARROW",BF="navigationReducer/TOAST_MESSAGE_LOAD",m3=()=>(e,t)=>{e({type:_E});const{menuArrowToggle:r}=t().navigationReducer;r?document.body.classList.add("layout-fullwidth"):document.body.classList.remove("layout-fullwidth")},zF={isToastMessage:!1,addClassactive:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChild:[!0,!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildApp:[!1,!1,!1,!1,!1,!1],addClassactiveChildFM:[!1,!1,!1,!1,!1],addClassactiveChildBlog:[!1,!1,!1,!1,!1],addClassactiveChildUI:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildWidgets:[!1,!1,!1,!1,!1,!1,!1],addClassactiveChildAuth:[!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildPages:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildForms:[!1,!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildTables:[!1,!1,!1,!1,!1,!1,!1],addClassactiveChildChart:[!1,!1,!1,!1,!1,!1,!1,!1],addClassactiveChildMaps:[!1,!1,!1],themeColor:"theme-purple",generalSetting:[!1,!1,!0,!0,!1,!1],toggleNotification:!1,toggleEqualizer:!1,menuProfileDropdown:!1,sideMenuTab:[!0,!1,!1,!1],menuArrowToggle:!1},VF=(e=zF,t)=>{switch(t.type){case DF:{const n=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];return n[t.payload]=!e.addClassactive[t.payload],{...e,addClassactive:[...n]}}case xF:switch(t.payload.perent){case 0:const n=[!1,!1,!1,!1,!1,!1,!1,!1,!1];return n[t.payload.index]=!0,{...e,addClassactiveChild:[...n]};case 1:const i=[!1,!1,!1,!1,!1,!1,!1,!1,!1];return i[t.payload.index]=!0,{...e,addClassactiveChildApp:[...i]};case 2:const s=[!1,!1,!1,!1,!1];return s[t.payload.index]=!0,{...e,addClassactiveChildFM:[...s]};case 3:const o=[!1,!1,!1,!1,!1];return o[t.payload.index]=!0,{...e,addClassactiveChildBlog:[...o]};case 4:const a=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];return a[t.payload.index]=!0,{...e,addClassactiveChildUI:[...a]};case 5:const l=[!1,!1,!1,!1,!1,!1,!1];return l[t.payload.index]=!0,{...e,addClassactiveChildWidgets:[...l]};case 6:const u=[!1,!1,!1,!1,!1,!1,!1,!1];return u[t.payload.index]=!0,{...e,addClassactiveChildAuth:[...u]};case 7:const c=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];return c[t.payload.index]=!0,{...e,addClassactiveChildPages:[...c]};case 8:const d=[!1,!1,!1,!1,!1,!1,!1,!1,!1];return d[t.payload.index]=!0,{...e,addClassactiveChildForms:[...d],toggleEqualizer:!1};case 9:const h=[!1,!1,!1,!1,!1,!1,!1];return h[t.payload.index]=!0,{...e,addClassactiveChildTables:[...h],toggleEqualizer:!1};case 10:const f=[!1,!1,!1,!1,!1,!1,!1,!1];return f[t.payload.index]=!0,{...e,addClassactiveChildChart:[...f],toggleEqualizer:!1};case 11:const m=[!1,!1,!1];return m[t.payload.index]=!0,{...e,addClassactiveChildMaps:[...m],toggleEqualizer:!1}}break;case LF:return{...e,themeColor:t.payload,toggleEqualizer:!1};case MF:return{...e,generalSetting:!e.generalSetting[t.payload],menuProfileDropdown:!1,toggleEqualizer:!1,toggleNotification:!1};case NF:return{...e,toggleNotification:!e.toggleNotification,menuProfileDropdown:!1,toggleEqualizer:!1};case $F:return{...e,toggleEqualizer:!e.toggleEqualizer,menuProfileDropdown:!1,toggleNotification:!1};case FF:return{...e,menuProfileDropdown:!e.menuProfileDropdown,toggleEqualizer:!1,toggleNotification:!1};case jF:return{...e,menuProfileDropdown:!1,toggleEqualizer:!1,toggleNotification:!1};case UF:{var r=[!1,!1,!1,!1];return r[t.payload]=!0,{...e,sideMenuTab:[...r],menuProfileDropdown:!1,toggleEqualizer:!1,toggleNotification:!1}}case _E:return{...e,menuArrowToggle:!e.menuArrowToggle,menuProfileDropdown:!1,toggleEqualizer:!1,toggleNotification:!1};case BF:return{...e,isToastMessage:!e.isToastMessage};default:return e}},PE="analyticalReducer/LOAD_SPARCLE_CARD",wE="analyticalReducer/ON_PRESS_TOP_PRODUCT_DROPDOWN",CE="analyticalReducer/ON_PRESS_REFERRALS_DROPDOWN",GF="analyticalReducer/ON_PRESS_TOTAL_REVENUE_DROPDOWN",RE="analyticalReducer/ON_PRESS_DATA_MANAGED_DROPDOWN",AE="analyticalReducer/ON_PRESS_RECENT_CHAT_DROPDOWN",IE="analyticalReducer/FACEBOOK_PROGRESS_BAR",OE="analyticalReducer/TWITTER_PROGRESS_BAR",DE="analyticalReducer/SEARCH_PROGRESS_BAR",xE="analyticalReducer/AFFILIATES_PROGRESS_BAR",g3=e=>t=>{t({type:PE,payload:e})},v3=()=>e=>{e({type:wE})},y3=()=>e=>{e({type:CE})},S3=()=>e=>{e({type:RE})},T3=()=>e=>{e({type:AE})},k3=()=>(e,t)=>{var r=setInterval(()=>{const{facebookShowProgressBar:n}=t().analyticalReducer;var i=n+1;e({type:IE,payload:i}),n>87&&clearInterval(r)},10)},E3=()=>(e,t)=>{var r=setInterval(()=>{const{twitterShowProgressBar:n}=t().analyticalReducer;var i=n+1;e({type:OE,payload:i}),n>34&&clearInterval(r)},10)},b3=()=>(e,t)=>{var r=setInterval(()=>{const{searchShowProgressBar:n}=t().analyticalReducer;var i=n+1;e({type:DE,payload:i}),n>54&&clearInterval(r)},10)},_3=()=>(e,t)=>{var r=setInterval(()=>{const{affiliatesShowProgressBar:n}=t().analyticalReducer;var i=n+1;e({type:xE,payload:i}),n>64&&clearInterval(r)},10)},HF={loadingPage:!1,sparkleCardData:[],topProductDropDown:!1,referralsDropDown:!1,recentChatDropDown:!1,totalRevenueDropDown:!1,dataManagedDropDown:!1,facebookShowProgressBar:0,twitterShowProgressBar:0,searchShowProgressBar:0,affiliatesShowProgressBar:0},WF=(e=HF,t)=>{switch(t.type){case PE:return{...e,sparkleCardData:[...t.payload]};case wE:return{...e,topProductDropDown:!e.topProductDropDown,recentChatDropDown:!1,totalRevenueDropDown:!1,dataManagedDropDown:!1,referralsDropDown:!1};case CE:return{...e,referralsDropDown:!e.referralsDropDown,topProductDropDown:!1,recentChatDropDown:!1,totalRevenueDropDown:!1,dataManagedDropDown:!1};case GF:return{...e,totalRevenueDropDown:!e.totalRevenueDropDown,topProductDropDown:!1,recentChatDropDown:!1,dataManagedDropDown:!1,referralsDropDown:!1};case RE:return{...e,dataManagedDropDown:!e.dataManagedDropDown,topProductDropDown:!1,recentChatDropDown:!1,totalRevenueDropDown:!1,referralsDropDown:!1};case AE:return{...e,recentChatDropDown:!e.recentChatDropDown,topProductDropDown:!1,totalRevenueDropDown:!1,dataManagedDropDown:!1,referralsDropDown:!1};case IE:return{...e,facebookShowProgressBar:t.payload};case OE:return{...e,twitterShowProgressBar:t.payload};case xE:return{...e,affiliatesShowProgressBar:t.payload};case DE:return{...e,searchShowProgressBar:t.payload,loadingPage:!1};default:return e}},qF="demographicReducer/ON_PRESS_SITE_VISITOR_DROPDOWN",KF="demographicReducer/ON_PRESS_GENDER_OVERVIEW_DROPDOWN",QF="demographicReducer/ON_PRESS_BROWSER_USAGE_DROPDOWN",YF={isSiteVisitorDropDown:!1,isGenderOverviewDropDown:!1,isBrowserUsageDropDown:!1},JF=(e=YF,t)=>{switch(t.type){case qF:return{...e,isSiteVisitorDropDown:!e.isSiteVisitorDropDown,isGenderOverviewDropDown:!1,isBrowserUsageDropDown:!1};case KF:return{...e,isGenderOverviewDropDown:!e.isGenderOverviewDropDown,isSiteVisitorDropDown:!1,isBrowserUsageDropDown:!1};case QF:return{...e,isBrowserUsageDropDown:!e.isBrowserUsageDropDown,isSiteVisitorDropDown:!1,isGenderOverviewDropDown:!1};default:return e}},LE="ioTReducer/ON_PRESS_SECURITY_SYSTEM",ME="ioTReducer/ON_PRESS_MAIN_GATE",NE="ioTReducer/ON_PRESS_SWITCH_BOARD_BUTTON",$E="ioTReducer/ON_PRESS_OUT_SWITCH_BOARD_BUTTON",FE="ioTReducer/ON_PRESS_APPLIENCES_SWITCH_BOARD_BUTTON",jE="ioTReducer/ON_SWITCH_BOARD_DROPDOWN",UE="ioTReducer/ON_ONPRESS_OUT_DOOR_DROPDOWN",BE="ioTReducer/ON_ONPRESS_SWITCH_ON_ALL_OUT",zE="ioTReducer/ON_ONPRESS_SWITCH_OFF_ALL_OUT",VE="ioTReducer/ON_ONPRESS_SWITCH_ON_ALL_IN",GE="ioTReducer/ON_ONPRESS_SWITCH_OFF_ALL_IN",P3=()=>e=>{e({type:LE})},w3=()=>e=>{e({type:ME})},C3=e=>t=>{t({type:NE,payload:e})},R3=e=>t=>{t({type:$E,payload:e})},A3=e=>t=>{t({type:FE,payload:e})},I3=e=>t=>{t({type:jE})},O3=()=>e=>{e({type:UE})},D3=()=>e=>{e({type:BE})},x3=()=>e=>{e({type:zE})},L3=()=>e=>{e({type:VE})},M3=()=>e=>{e({type:GE})},XF={isSecuritySystem:!1,isMaingate:!1,switchBoardSwitch:[!0,!1,!1,!1,!1,!1,!1,!1,!1],switchOutBoardSwitch:[!0,!1,!1,!1,!1,!1,!1,!1,!1],switchAppliencesBoardSwitch:[!0,!1,!1,!1,!1,!1,!1,!1,!1],isIndoorDropdown:!1,isOutdoorDropdown:!1},ZF=(e=XF,t)=>{switch(t.type){case LE:return{...e,isSecuritySystem:!e.isSecuritySystem};case ME:return{...e,isMaingate:!e.isMaingate};case NE:{const r=e.switchBoardSwitch;return r[t.payload]=!e.switchBoardSwitch[t.payload],{...e,switchBoardSwitch:[...r]}}case $E:{const r=e.switchOutBoardSwitch;return r[t.payload]=!e.switchOutBoardSwitch[t.payload],{...e,switchOutBoardSwitch:[...r]}}case FE:{const r=e.switchAppliencesBoardSwitch;return r[t.payload]=!e.switchAppliencesBoardSwitch[t.payload],{...e,switchAppliencesBoardSwitch:[...r]}}case jE:return{...e,isIndoorDropdown:!e.isIndoorDropdown,isOutdoorDropdown:!1};case UE:return{...e,isOutdoorDropdown:!e.isOutdoorDropdown,isIndoorDropdown:!1};case BE:return{...e,switchOutBoardSwitch:[!0,!0,!0,!0,!0,!0],isOutdoorDropdown:!1};case zE:return{...e,switchOutBoardSwitch:[!1,!1,!1,!1,!1,!1],isOutdoorDropdown:!1};case GE:return{...e,switchBoardSwitch:[!0,!0,!0,!0,!0,!0],isIndoorDropdown:!1};case VE:return{...e,switchBoardSwitch:[!1,!1,!1,!1,!1,!1],isIndoorDropdown:!1};default:return e}},HE="mailInboxReducer/ON_PRESS_TAG_DROPDOWN",WE="mailInboxReducer/ON_PRESS_MORE_DROPDOWN",qE="mailInboxReducer/ON_PRESS_COMPOSE",KE="mailInboxReducer/ON_PRESS_ADD_EVENT",QE="mailInboxReducer/ON_PRESS_ADD_CONTACT",N3=()=>e=>{e({type:HE})},$3=()=>e=>{e({type:WE})},F3=e=>t=>{t({type:qE,payload:e})},j3=()=>e=>{e({type:KE})},U3=()=>e=>{e({type:QE})},B3=e=>t=>{console.error(e)},e2={isTagDropDown:!1,isMoreDropDown:!1,isInbox:!0,isEventModal:!1,isContactModal:!1},t2=(e=e2,t)=>{switch(t.type){case HE:return{...e,isTagDropDown:!e.isTagDropDown,isMoreDropDown:!1};case WE:return{...e,isMoreDropDown:!e.isMoreDropDown,isTagDropDown:!1};case qE:return{...e,isInbox:t.payload};case KE:return{...e,isEventModal:!e.isEventModal};case QE:return{...e,isContactModal:!e.isContactModal};default:return e}},YE="mailInboxReducer/ON_PRESS_SIMPLE_TAB",JE="mailInboxReducer/ON_PRESS_CLOSE_ALERT",XE="UIElementsReducer/NITIFY_GENERAL_INFO",ZE="UIElementsReducer/NITIFY_ON_CLOSE",eb="UIElementsReducer/ON_CLICK_MODAL_CARD",tb="UIElementsReducer/ON_CLOSE_MODAL",z3=(e,t)=>r=>{r({type:YE,payload:{index:e,perent:t}})},V3=e=>t=>{t({type:JE,payload:e})},G3=e=>t=>{t({type:XE,payload:e})},H3=e=>t=>{t({type:ZE,payload:e})},W3=e=>t=>{t({type:eb,payload:e})},q3=e=>t=>{t({type:tb,payload:e})},K3={alignData:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ",BlockquoteData:[{HeaderText:"Blockquote Primary",ParaClass:"blockquote blockquote-primary",ParagraphData:"I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that’s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at.",AutoName:"THEMEMAKKER"},{HeaderText:"Blockquote Info",ParaClass:"blockquote blockquote-info",ParagraphData:"I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that’s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at.",AutoName:"THEMEMAKKER"},{HeaderText:"Blockquote Danger",ParaClass:"blockquote blockquote-danger",ParagraphData:"I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that’s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at.",AutoName:"THEMEMAKKER"}]},r2=[{ContainerClass:"col-lg-6 col-md-12",HeaderText:"Bootstrap Simple Example Tab",HeaderDetails:"Takes the basic nav from above and adds the .nav-tabs class to generate a tabbed interface. Use them to create tabbable regions with our tab JavaScript plugin.",NavTabClass:"nav nav-tabs",TabData:[{header:"Home",panData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{header:"Profile",panData:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie."},{header:"Contact",panData:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS."}]},{ContainerClass:"col-lg-6 col-md-12",HeaderText:"Example Tab 2",HeaderDetails:"nav nav-tabs-new",NavTabClass:"nav nav-tabs-new",TabData:[{header:"Home",panData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{header:"Profile",panData:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie."},{header:"Contact",panData:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS."}]},{ContainerClass:"col-lg-12 col-md-12",HeaderText:"Example Tab 2",HeaderDetails:"nav nav-tabs-new2",NavTabClass:"nav nav-tabs-new2",TabData:[{IconClass:"",header:"Home",panData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{IconClass:"",header:"Profile",panData:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie."},{IconClass:"",header:"Contact",panData:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS."}]},{ContainerClass:"col-lg-12 col-md-12",HeaderText:"Example Tab 2",HeaderDetails:"nav nav-tabs",NavTabClass:"nav nav-tabs",TabData:[{IconClass:"fa fa-home",header:"Home",panData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{IconClass:"fa fa-user",header:"Profile",panData:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie."},{IconClass:"fa fa-vcard",header:"Contact",panData:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS."}]},{ContainerClass:"col-lg-12 col-md-12",HeaderText:"Example Tab 2",HeaderDetails:"nav nav-tabs",NavTabClass:"nav nav-tabs",TabData:[{IconClass:"fa fa-home",header:"",panData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{IconClass:"fa fa-user",header:"",panData:"Etsy mixtape wayfarers, ethical wes anderson tofu before they sold out mcsweeney's organic lomo retro fanny pack lo-fi farm-to-table readymade. Messenger bag gentrify pitchfork tattooed craft beer, iphone skateboard locavore carles etsy salvia banksy hoodie helvetica. DIY synth PBR banksy irony. Leggings gentrify squid 8-bit cred pitchfork. Williamsburg banh mi whatever gluten-free, carles pitchfork biodiesel fixie."},{IconClass:"fa fa-vcard",header:"",panData:"Food truck fixie locavore, accusamus mcsweeney's marfa nulla single-origin coffee squid. Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar helvetica VHS."}]}],Q3=[{HeaderText:"Tabs with dropdowns",HeaderDetails:"",NavTabClass:"nav nav-tabs",TabData:"Raw denim you probably haven't heard of them jean shorts Austin. Nesciunt tofu stumptown aliqua, retro synth master cleanse. Mustache cliche tempor, williamsburg carles vegan helvetica. Reprehenderit butcher retro keffiyeh dreamcatcher synth. Cosby sweater eu banh mi, qui irure terry richardson ex squid. Aliquip placeat salvia cillum iphone. Seitan aliquip quis cardigan american apparel, butcher voluptate nisi qui."},{HeaderText:"Pills with dropdowns",HeaderDetails:"",NavTabClass:"nav nav-pills",TabData:""}],n2={isTabExpend:[!0,!1,!1],activeTabData:r2,wind:{index:0,perent:0},alertData:[{variant:"info",iconClass:"fa fa-info-circle",message:"he system is running well",show:!0},{variant:"success",iconClass:"fa fa-check-circle",message:"Your settings have been succesfully saved",show:!0},{variant:"warning",iconClass:"fa fa-warning",message:"Warning, check your permission settings",show:!0},{variant:"danger",iconClass:"fa fa-times-circle",message:"Your account has been suspended",show:!0}],notifyData1:[{type:"info",position:"bottom-right",dialogText:"this is General theme info",show:!0},{type:"success",position:"bottom-right",dialogText:"this is Success theme info",show:!0},{type:"warning",position:"bottom-right",dialogText:"this is Warning theme info",show:!0},{type:"error",position:"bottom-right",dialogText:"this is Error theme info",show:!0},{type:"info",position:"bottom-right",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"bottom-left",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"top-left",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"top-right",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"top-full-width",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"bottom-full-width",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"top-center",dialogText:"Hi I'm Here",show:!0},{type:"info",position:"bottom-center",dialogText:"Hi I'm Here",show:!0}],notifyData:[],modalData:[{title:"Modal title",bodyText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin sodales orci ante, sed ornare eros vestibulum ut. Ut accumsan vitae eros sit amet  Integer dapibus, mi ac tempor varius, purus nibh mattis erat, vitae porta nunc nisi non tellus. Vivamus mollis ante non massa egestas fringilla. Vestibulum egestas consectetur nunc at ultricies. Morbi quis consectetur nunc.",size:"",show:!1},{title:"Modal title",bodyText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin sodales orci ante, sed ornare eros vestibulum ut. Ut accumsan vitae eros sit amet  Integer dapibus, mi ac tempor varius, purus nibh mattis erat, vitae porta nunc nisi non tellus. Vivamus mollis ante non massa egestas fringilla. Vestibulum egestas consectetur nunc at ultricies. Morbi quis consectetur nunc.",size:"lg",show:!1},{title:"Modal title",bodyText:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin sodales orci ante, sed ornare eros vestibulum ut. Ut accumsan vitae eros sit amet  Integer dapibus, mi ac tempor varius, purus nibh mattis erat, vitae porta nunc nisi non tellus. Vivamus mollis ante non massa egestas fringilla. Vestibulum egestas consectetur nunc at ultricies. Morbi quis consectetur nunc.",size:"sm",show:!1}],modalCard:[{title:"Modal Default Size"},{title:"Modal Large Size"},{title:"Modal Small Size"}],progressBarDefault:[{variant:"",value:25},{variant:"warning",value:50},{variant:"success",value:60},{variant:"danger",value:10}],progressBarSizes:[{variant:"",value:80,class:"progress progress-xs"},{variant:"warning",value:10,class:"progress progress-sm"},{variant:"success",value:70,class:"progress"},{variant:"danger",value:60,class:"progress progress-lg"}]},i2=(e=n2,t)=>{switch(t.type){case YE:{const a=[!1,!1,!1];return a[t.payload.index]=!0,{...e,isTabExpend:[...a],wind:t.payload}}case JE:{var r=e.alertData;return r[t.payload].show=!1,{...e,alertData:[...r]}}case XE:{var n=e.notifyData;return n.push(e.notifyData1[t.payload]),{...e,notifyData:[...n]}}case ZE:{var i=e.notifyData;return i.splice(t.payload,1),{...e,notifyData:[...i]}}case eb:{var s=e.modalData;return s[t.payload].show=!0,{...e,modalData:[...s]}}case tb:{var o=e.modalData;return o[t.payload].show=!1,{...e,modalData:[...o]}}default:return e}};class yo extends Error{}yo.prototype.name="InvalidTokenError";function s2(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function o2(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return s2(t)}catch{return atob(t)}}function Eu(e,t){if(typeof e!="string")throw new yo("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new yo(`Invalid token specified: missing part #${r+1}`);let i;try{i=o2(n)}catch(s){throw new yo(`Invalid token specified: invalid base64 for part #${r+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new yo(`Invalid token specified: invalid json for part #${r+1} (${s.message})`)}}function rb(e,t){return function(){return e.apply(t,arguments)}}var a2={};const{toString:l2}=Object.prototype,{getPrototypeOf:Wp}=Object,lc=(e=>t=>{const r=l2.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gr=e=>(e=e.toLowerCase(),t=>lc(t)===e),uc=e=>t=>typeof t===e,{isArray:Vs}=Array,aa=uc("undefined");function u2(e){return e!==null&&!aa(e)&&e.constructor!==null&&!aa(e.constructor)&&br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nb=Gr("ArrayBuffer");function c2(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nb(e.buffer),t}const d2=uc("string"),br=uc("function"),ib=uc("number"),cc=e=>e!==null&&typeof e=="object",h2=e=>e===!0||e===!1,Il=e=>{if(lc(e)!=="object")return!1;const t=Wp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},f2=Gr("Date"),p2=Gr("File"),m2=Gr("Blob"),g2=Gr("FileList"),v2=e=>cc(e)&&br(e.pipe),y2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||br(e.append)&&((t=lc(e))==="formdata"||t==="object"&&br(e.toString)&&e.toString()==="[object FormData]"))},S2=Gr("URLSearchParams"),[T2,k2,E2,b2]=["ReadableStream","Request","Response","Headers"].map(Gr),_2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ba(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),Vs(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(n=0;n<o;n++)a=s[n],t.call(null,e[a],a,e)}}function sb(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const ob=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:a2,ab=e=>!aa(e)&&e!==ob;function Hh(){const{caseless:e}=ab(this)&&this||{},t={},r=(n,i)=>{const s=e&&sb(t,i)||i;Il(t[s])&&Il(n)?t[s]=Hh(t[s],n):Il(n)?t[s]=Hh({},n):Vs(n)?t[s]=n.slice():t[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ba(arguments[n],r);return t}const P2=(e,t,r,{allOwnKeys:n}={})=>(ba(t,(i,s)=>{r&&br(i)?e[s]=rb(i,r):e[s]=i},{allOwnKeys:n}),e),w2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),C2=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},R2=(e,t,r,n)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Wp(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},A2=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},I2=e=>{if(!e)return null;if(Vs(e))return e;let t=e.length;if(!ib(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},O2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Wp(Uint8Array)),D2=(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},x2=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},L2=Gr("HTMLFormElement"),M2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Qv=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),N2=Gr("RegExp"),lb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ba(r,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(n[s]=o||i)}),Object.defineProperties(e,n)},$2=e=>{lb(e,(t,r)=>{if(br(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(br(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},F2=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Vs(e)?n(e):n(String(e).split(t)),r},j2=()=>{},U2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,cd="abcdefghijklmnopqrstuvwxyz",Yv="0123456789",ub={DIGIT:Yv,ALPHA:cd,ALPHA_DIGIT:cd+cd.toUpperCase()+Yv},B2=(e=16,t=ub.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r};function z2(e){return!!(e&&br(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const V2=e=>{const t=new Array(10),r=(n,i)=>{if(cc(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const s=Vs(n)?[]:{};return ba(n,(o,a)=>{const l=r(o,i+1);!aa(l)&&(s[a]=l)}),t[i]=void 0,s}}return n};return r(e,0)},G2=Gr("AsyncFunction"),H2=e=>e&&(cc(e)||br(e))&&br(e.then)&&br(e.catch),B={isArray:Vs,isArrayBuffer:nb,isBuffer:u2,isFormData:y2,isArrayBufferView:c2,isString:d2,isNumber:ib,isBoolean:h2,isObject:cc,isPlainObject:Il,isReadableStream:T2,isRequest:k2,isResponse:E2,isHeaders:b2,isUndefined:aa,isDate:f2,isFile:p2,isBlob:m2,isRegExp:N2,isFunction:br,isStream:v2,isURLSearchParams:S2,isTypedArray:O2,isFileList:g2,forEach:ba,merge:Hh,extend:P2,trim:_2,stripBOM:w2,inherits:C2,toFlatObject:R2,kindOf:lc,kindOfTest:Gr,endsWith:A2,toArray:I2,forEachEntry:D2,matchAll:x2,isHTMLForm:L2,hasOwnProperty:Qv,hasOwnProp:Qv,reduceDescriptors:lb,freezeMethods:$2,toObjectSet:F2,toCamelCase:M2,noop:j2,toFiniteNumber:U2,findKey:sb,global:ob,isContextDefined:ab,ALPHABET:ub,generateString:B2,isSpecCompliantForm:z2,toJSONObject:V2,isAsyncFn:G2,isThenable:H2};function Te(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}B.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const cb=Te.prototype,db={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{db[e]={value:e}});Object.defineProperties(Te,db);Object.defineProperty(cb,"isAxiosError",{value:!0});Te.from=(e,t,r,n,i,s)=>{const o=Object.create(cb);return B.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Te.call(o,e.message,t,r,n,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const W2=null;function Wh(e){return B.isPlainObject(e)||B.isArray(e)}function hb(e){return B.endsWith(e,"[]")?e.slice(0,-2):e}function Jv(e,t,r){return e?e.concat(t).map(function(i,s){return i=hb(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function q2(e){return B.isArray(e)&&!e.some(Wh)}const K2=B.toFlatObject(B,{},null,function(t){return/^is[A-Z]/.test(t)});function dc(e,t,r){if(!B.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=B.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,k){return!B.isUndefined(k[p])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(t);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(B.isDate(m))return m.toISOString();if(!l&&B.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(m)||B.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,k){let T=m;if(m&&!k&&typeof m=="object"){if(B.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(B.isArray(m)&&q2(m)||(B.isFileList(m)||B.endsWith(p,"[]"))&&(T=B.toArray(m)))return p=hb(p),T.forEach(function(S,w){!(B.isUndefined(S)||S===null)&&t.append(o===!0?Jv([p],w,s):o===null?p:p+"[]",u(S))}),!1}return Wh(m)?!0:(t.append(Jv(k,p,s),u(m)),!1)}const d=[],h=Object.assign(K2,{defaultVisitor:c,convertValue:u,isVisitable:Wh});function f(m,p){if(!B.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),B.forEach(m,function(T,y){(!(B.isUndefined(T)||T===null)&&i.call(t,T,B.isString(y)?y.trim():y,p,h))===!0&&f(T,p?p.concat(y):[y])}),d.pop()}}if(!B.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Xv(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function qp(e,t){this._pairs=[],e&&dc(e,this,t)}const fb=qp.prototype;fb.append=function(t,r){this._pairs.push([t,r])};fb.toString=function(t){const r=t?function(n){return t.call(this,n,Xv)}:Xv;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Q2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pb(e,t,r){if(!t)return e;const n=r&&r.encode||Q2,i=r&&r.serialize;let s;if(i?s=i(t,r):s=B.isURLSearchParams(t)?t.toString():new qp(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Zv{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){B.forEach(this.handlers,function(n){n!==null&&t(n)})}}const mb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y2=typeof URLSearchParams<"u"?URLSearchParams:qp,J2=typeof FormData<"u"?FormData:null,X2=typeof Blob<"u"?Blob:null,Z2={isBrowser:!0,classes:{URLSearchParams:Y2,FormData:J2,Blob:X2},protocols:["http","https","file","blob","url","data"]},Kp=typeof window<"u"&&typeof document<"u",ej=(e=>Kp&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),tj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rj=Kp&&window.location.href||"http://localhost",nj=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Kp,hasStandardBrowserEnv:ej,hasStandardBrowserWebWorkerEnv:tj,origin:rj},Symbol.toStringTag,{value:"Module"})),zr={...nj,...Z2};function ij(e,t){return dc(e,new zr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return zr.isNode&&B.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function sj(e){return B.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function oj(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function gb(e){function t(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),t(r,n,i[o],s)&&B.isArray(i[o])&&(i[o]=oj(i[o])),!a)}if(B.isFormData(e)&&B.isFunction(e.entries)){const r={};return B.forEachEntry(e,(n,i)=>{t(sj(n),i,r,0)}),r}return null}function aj(e,t,r){if(B.isString(e))try{return(t||JSON.parse)(e),B.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const _a={transitional:mb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=B.isObject(t);if(s&&B.isHTMLForm(t)&&(t=new FormData(t)),B.isFormData(t))return i?JSON.stringify(gb(t)):t;if(B.isArrayBuffer(t)||B.isBuffer(t)||B.isStream(t)||B.isFile(t)||B.isBlob(t)||B.isReadableStream(t))return t;if(B.isArrayBufferView(t))return t.buffer;if(B.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ij(t,this.formSerializer).toString();if((a=B.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return dc(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),aj(t)):t}],transformResponse:[function(t){const r=this.transitional||_a.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(t)||B.isReadableStream(t))return t;if(t&&B.isString(t)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zr.classes.FormData,Blob:zr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],e=>{_a.headers[e]={}});const lj=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uj=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&lj[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},ey=Symbol("internals");function ho(e){return e&&String(e).trim().toLowerCase()}function Ol(e){return e===!1||e==null?e:B.isArray(e)?e.map(Ol):String(e)}function cj(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const dj=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dd(e,t,r,n,i){if(B.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!B.isString(t)){if(B.isString(n))return t.indexOf(n)!==-1;if(B.isRegExp(n))return n.test(t)}}function hj(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function fj(e,t){const r=B.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,o){return this[n].call(this,t,i,s,o)},configurable:!0})})}class Wt{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(a,l,u){const c=ho(l);if(!c)throw new Error("header name must be a non-empty string");const d=B.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Ol(a))}const o=(a,l)=>B.forEach(a,(u,c)=>s(u,c,l));if(B.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(B.isString(t)&&(t=t.trim())&&!dj(t))o(uj(t),r);else if(B.isHeaders(t))for(const[a,l]of t.entries())s(l,a,n);else t!=null&&s(r,t,n);return this}get(t,r){if(t=ho(t),t){const n=B.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return cj(i);if(B.isFunction(r))return r.call(this,i,n);if(B.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ho(t),t){const n=B.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||dd(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(o){if(o=ho(o),o){const a=B.findKey(n,o);a&&(!r||dd(n,n[a],a,r))&&(delete n[a],i=!0)}}return B.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||dd(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return B.forEach(this,(i,s)=>{const o=B.findKey(n,s);if(o){r[o]=Ol(i),delete r[s];return}const a=t?hj(s):String(s).trim();a!==s&&delete r[s],r[a]=Ol(i),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return B.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&B.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[ey]=this[ey]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ho(o);n[a]||(fj(i,o),n[a]=!0)}return B.isArray(t)?t.forEach(s):s(t),this}}Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(Wt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});B.freezeMethods(Wt);function hd(e,t){const r=this||_a,n=t||r,i=Wt.from(n.headers);let s=n.data;return B.forEach(e,function(a){s=a.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function vb(e){return!!(e&&e.__CANCEL__)}function Gs(e,t,r){Te.call(this,e??"canceled",Te.ERR_CANCELED,t,r),this.name="CanceledError"}B.inherits(Gs,Te,{__CANCEL__:!0});function yb(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function pj(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function mj(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let d=s,h=0;for(;d!==i;)h+=r[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const f=c&&u-c;return f?Math.round(h*1e3/f):void 0}}function gj(e,t){let r=0;const n=1e3/t;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-r>n)return i&&(clearTimeout(i),i=null),r=a,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,r=Date.now(),e.apply(null,arguments)),n-(a-r)))}}const bu=(e,t,r=3)=>{let n=0;const i=mj(50,250);return gj(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),c=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null};d[t?"download":"upload"]=!0,e(d)},r)},vj=zr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=B.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}(),yj=zr.hasStandardBrowserEnv?{write(e,t,r,n,i,s){const o=[e+"="+encodeURIComponent(t)];B.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),B.isString(n)&&o.push("path="+n),B.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sj(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Tj(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Sb(e,t){return e&&!Sj(t)?Tj(e,t):t}const ty=e=>e instanceof Wt?{...e}:e;function xi(e,t){t=t||{};const r={};function n(u,c,d){return B.isPlainObject(u)&&B.isPlainObject(c)?B.merge.call({caseless:d},u,c):B.isPlainObject(c)?B.merge({},c):B.isArray(c)?c.slice():c}function i(u,c,d){if(B.isUndefined(c)){if(!B.isUndefined(u))return n(void 0,u,d)}else return n(u,c,d)}function s(u,c){if(!B.isUndefined(c))return n(void 0,c)}function o(u,c){if(B.isUndefined(c)){if(!B.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,d){if(d in t)return n(u,c);if(d in e)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>i(ty(u),ty(c),!0)};return B.forEach(Object.keys(Object.assign({},e,t)),function(c){const d=l[c]||i,h=d(e[c],t[c],c);B.isUndefined(h)&&d!==a||(r[c]=h)}),r}const Tb=e=>{const t=xi({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Wt.from(o),t.url=pb(Sb(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(B.isFormData(r)){if(zr.hasStandardBrowserEnv||zr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(zr.hasStandardBrowserEnv&&(n&&B.isFunction(n)&&(n=n(t)),n||n!==!1&&vj(t.url))){const u=i&&s&&yj.read(s);u&&o.set(i,u)}return t},kj=typeof XMLHttpRequest<"u",Ej=kj&&function(e){return new Promise(function(r,n){const i=Tb(e);let s=i.data;const o=Wt.from(i.headers).normalize();let{responseType:a}=i,l;function u(){i.cancelToken&&i.cancelToken.unsubscribe(l),i.signal&&i.signal.removeEventListener("abort",l)}let c=new XMLHttpRequest;c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout;function d(){if(!c)return;const f=Wt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};yb(function(T){r(T),u()},function(T){n(T),u()},p),c=null}"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(n(new Te("Request aborted",Te.ECONNABORTED,i,c)),c=null)},c.onerror=function(){n(new Te("Network Error",Te.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let m=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const p=i.transitional||mb;i.timeoutErrorMessage&&(m=i.timeoutErrorMessage),n(new Te(m,p.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,i,c)),c=null},s===void 0&&o.setContentType(null),"setRequestHeader"in c&&B.forEach(o.toJSON(),function(m,p){c.setRequestHeader(p,m)}),B.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&a!=="json"&&(c.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&c.addEventListener("progress",bu(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",bu(i.onUploadProgress)),(i.cancelToken||i.signal)&&(l=f=>{c&&(n(!f||f.type?new Gs(null,e,c):f),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(l),i.signal&&(i.signal.aborted?l():i.signal.addEventListener("abort",l)));const h=pj(i.url);if(h&&zr.protocols.indexOf(h)===-1){n(new Te("Unsupported protocol "+h+":",Te.ERR_BAD_REQUEST,e));return}c.send(s||null)})},bj=(e,t)=>{let r=new AbortController,n;const i=function(l){if(!n){n=!0,o();const u=l instanceof Error?l:this.reason;r.abort(u instanceof Te?u:new Gs(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{i(new Te(`timeout ${t} of ms exceeded`,Te.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(l=>{l&&(l.removeEventListener?l.removeEventListener("abort",i):l.unsubscribe(i))}),e=null)};e.forEach(l=>l&&l.addEventListener&&l.addEventListener("abort",i));const{signal:a}=r;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},_j=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},Pj=async function*(e,t,r){for await(const n of e)yield*_j(ArrayBuffer.isView(n)?n:await r(String(n)),t)},ry=(e,t,r,n,i)=>{const s=Pj(e,t,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:l,value:u}=await s.next();if(l){a.close(),n();return}let c=u.byteLength;r&&r(o+=c),a.enqueue(new Uint8Array(u))},cancel(a){return n(a),s.return()}},{highWaterMark:2})},ny=(e,t)=>{const r=e!=null;return n=>setTimeout(()=>t({lengthComputable:r,total:e,loaded:n}))},hc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kb=hc&&typeof ReadableStream=="function",qh=hc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wj=kb&&(()=>{let e=!1;const t=new Request(zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),iy=64*1024,Kh=kb&&!!(()=>{try{return B.isReadableStream(new Response("").body)}catch{}})(),_u={stream:Kh&&(e=>e.body)};hc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!_u[t]&&(_u[t]=B.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Te(`Response type '${t}' is not supported`,Te.ERR_NOT_SUPPORT,n)})})})(new Response);const Cj=async e=>{if(e==null)return 0;if(B.isBlob(e))return e.size;if(B.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(B.isArrayBufferView(e))return e.byteLength;if(B.isURLSearchParams(e)&&(e=e+""),B.isString(e))return(await qh(e)).byteLength},Rj=async(e,t)=>{const r=B.toFiniteNumber(e.getContentLength());return r??Cj(t)},Aj=hc&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:h}=Tb(e);u=u?(u+"").toLowerCase():"text";let[f,m]=i||s||o?bj([i,s],o):[],p,k;const T=()=>{!p&&setTimeout(()=>{f&&f.unsubscribe()}),p=!0};let y;try{if(l&&wj&&r!=="get"&&r!=="head"&&(y=await Rj(c,n))!==0){let U=new Request(t,{method:"POST",body:n,duplex:"half"}),L;B.isFormData(n)&&(L=U.headers.get("content-type"))&&c.setContentType(L),U.body&&(n=ry(U.body,iy,ny(y,bu(l)),null,qh))}B.isString(d)||(d=d?"cors":"omit"),k=new Request(t,{...h,signal:f,method:r.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",withCredentials:d});let S=await fetch(k);const w=Kh&&(u==="stream"||u==="response");if(Kh&&(a||w)){const U={};["status","statusText","headers"].forEach(z=>{U[z]=S[z]});const L=B.toFiniteNumber(S.headers.get("content-length"));S=new Response(ry(S.body,iy,a&&ny(L,bu(a,!0)),w&&T,qh),U)}u=u||"text";let F=await _u[B.findKey(_u,u)||"text"](S,e);return!w&&T(),m&&m(),await new Promise((U,L)=>{yb(U,L,{data:F,headers:Wt.from(S.headers),status:S.status,statusText:S.statusText,config:e,request:k})})}catch(S){throw T(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,e,k),{cause:S.cause||S}):Te.from(S,S&&S.code,e,k)}}),Qh={http:W2,xhr:Ej,fetch:Aj};B.forEach(Qh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sy=e=>`- ${e}`,Ij=e=>B.isFunction(e)||e===null||e===!1,Eb={getAdapter:e=>{e=B.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!Ij(r)&&(n=Qh[(o=String(r)).toLowerCase()],n===void 0))throw new Te(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(sy).join(`
`):" "+sy(s[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Qh};function fd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gs(null,e)}function oy(e){return fd(e),e.headers=Wt.from(e.headers),e.data=hd.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Eb.getAdapter(e.adapter||_a.adapter)(e).then(function(n){return fd(e),n.data=hd.call(e,e.transformResponse,n),n.headers=Wt.from(n.headers),n},function(n){return vb(n)||(fd(e),n&&n.response&&(n.response.data=hd.call(e,e.transformResponse,n.response),n.response.headers=Wt.from(n.response.headers))),Promise.reject(n)})}const bb="1.7.2",Qp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ay={};Qp.transitional=function(t,r,n){function i(s,o){return"[Axios v"+bb+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(t===!1)throw new Te(i(o," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!ay[o]&&(ay[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,a):!0}};function Oj(e,t,r){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const Yh={assertOptions:Oj,validators:Qp},On=Yh.validators;class Pi{constructor(t){this.defaults=t,this.interceptors={request:new Zv,response:new Zv}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=xi(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Yh.assertOptions(n,{silentJSONParsing:On.transitional(On.boolean),forcedJSONParsing:On.transitional(On.boolean),clarifyTimeoutError:On.transitional(On.boolean)},!1),i!=null&&(B.isFunction(i)?r.paramsSerializer={serialize:i}:Yh.assertOptions(i,{encode:On.function,serialize:On.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[r.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Wt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(l=l&&p.synchronous,a.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,h;if(!l){const m=[oy.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,u),h=m.length,c=Promise.resolve(r);d<h;)c=c.then(m[d++],m[d++]);return c}h=a.length;let f=r;for(d=0;d<h;){const m=a[d++],p=a[d++];try{f=m(f)}catch(k){p.call(this,k);break}}try{c=oy.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=u.length;d<h;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=xi(this.defaults,t);const r=Sb(t.baseURL,t.url);return pb(r,t.params,t.paramsSerializer)}}B.forEach(["delete","get","head","options"],function(t){Pi.prototype[t]=function(r,n){return this.request(xi(n||{},{method:t,url:r,data:(n||{}).data}))}});B.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,a){return this.request(xi(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Pi.prototype[t]=r(),Pi.prototype[t+"Form"]=r(!0)});class Yp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,a){n.reason||(n.reason=new Gs(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new Yp(function(i){t=i}),cancel:t}}}function Dj(e){return function(r){return e.apply(null,r)}}function xj(e){return B.isObject(e)&&e.isAxiosError===!0}const Jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jh).forEach(([e,t])=>{Jh[t]=e});function _b(e){const t=new Pi(e),r=rb(Pi.prototype.request,t);return B.extend(r,Pi.prototype,t,{allOwnKeys:!0}),B.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return _b(xi(e,i))},r}const tt=_b(_a);tt.Axios=Pi;tt.CanceledError=Gs;tt.CancelToken=Yp;tt.isCancel=vb;tt.VERSION=bb;tt.toFormData=dc;tt.AxiosError=Te;tt.Cancel=tt.CanceledError;tt.all=function(t){return Promise.all(t)};tt.spread=Dj;tt.isAxiosError=xj;tt.mergeConfig=xi;tt.AxiosHeaders=Wt;tt.formToJSON=e=>gb(B.isHTMLForm(e)?new FormData(e):e);tt.getAdapter=Eb.getAdapter;tt.HttpStatusCode=Jh;tt.default=tt;const Lj=()=>window.location.pathname.substring(0,window.location.pathname.indexOf("/",2)),Mj=()=>{{let e=window.localStorage.getItem("legal-path");return e=e?e+"/":null,e||Lj()+"/"}},Xh=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),sessionStorage.removeItem("token")},Nj=Mj(),$j=401,Fj=()=>window.location.replace("/#/login"),fc=tt.create({baseURL:Nj,timeout:2e4});fc.defaults.headers["Access-Control-Allow-Origin"]="*";fc.interceptors.request.use(e=>{try{const t=["signin","getallcontactus_details","getissueauthoritybynationality","getallcountries","businessdetails/create"],r=localStorage.getItem("token"),n=!jj(r);if(r&&n)if(!t.some(i=>e.url.endsWith(i)))e.headers.Authorization=`Bearer ${r}`;else return Xh(),e}catch(t){console.log(t)}return e},e=>Promise.reject(e));fc.interceptors.response.use(e=>e,e=>{if(e.code==="ERR_NETWORK")try{Xh(),Fj()}catch(t){console.log(t)}if(e.response===$j)try{Xh()}catch(t){console.log(t)}return Promise.reject(e)});const jj=e=>{if(e&&Eu(e)){const t=Eu(e),r=t.exp,n=t.iat,i=new Date;return i.getTime()>r*1e3?!0:i.getTime()<n*10-6e4?(alert(`Wrong System Time 
 Please correct your system time`),!0):!1}return!0},Pb=tt.CancelToken.source();fc.interceptors.request.use(e=>(e.cancelToken=Pb.token,e),e=>Promise.reject(e));Pb.token;const Y3=()=>{const e=localStorage==null?void 0:localStorage.getItem("token");return e?Eu(e):{}},J3=e=>{e&&localStorage.setItem("token",e)},X3=e=>{e&&localStorage.setItem("refreshToken",e)},Z3=()=>!!Zh(),Zh=()=>localStorage.getItem("token"),Uj="LOGIN_SUCCESS",Bj="LOGOUT",So={token:Zh()||null,validToken:!!Zh(),role:null,verified:!1};if(So.token){const e=Eu(So.token);So.role=e.role,So.verified=e.isSignupCompleted}const zj=(e=So,t)=>{switch(t.type){case Uj:return{...e,token:t.payload.token,validToken:!0,role:t.payload.role,verified:t.payload.verified};case Bj:return{...e,token:null,validToken:!1,role:null,verified:!1};default:return e}},Vj=bF({auth:zj,loginReducer:OF,navigationReducer:VF,analyticalReducer:WF,demographicReducer:JF,ioTReducer:ZF,mailInboxReducer:t2,UIElementsReducer:i2}),Gj=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||bE,Hj=EE(Vj,Gj(_F(wF)));var pc=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(n){var i=this,s=n||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),wb=typeof window>"u";function Lt(){}function Wj(e,t){return typeof e=="function"?e(t):e}function qj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Pu(e){return Array.isArray(e)?e:[e]}function Kj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function pd(e,t,r){return Pa(e)?typeof t=="function"?oe({},r,{queryKey:e,queryFn:t}):oe({},t,{queryKey:e}):e}function eB(e,t,r){return Pa(e)?typeof t=="function"?oe({},r,{mutationKey:e,mutationFn:t}):oe({},t,{mutationKey:e}):typeof e=="function"?oe({},t,{mutationFn:e}):oe({},e)}function Mn(e,t,r){return Pa(e)?[oe({},t,{queryKey:e}),r]:[e||{},t]}function Qj(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var r=e??!t;return r?"active":"inactive"}function ly(e,t){var r=e.active,n=e.exact,i=e.fetching,s=e.inactive,o=e.predicate,a=e.queryKey,l=e.stale;if(Pa(a)){if(n){if(t.queryHash!==Jp(a,t.options))return!1}else if(!wu(t.queryKey,a))return!1}var u=Qj(r,s);if(u==="none")return!1;if(u!=="all"){var c=t.isActive();if(u==="active"&&!c||u==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof i=="boolean"&&t.isFetching()!==i||o&&!o(t))}function uy(e,t){var r=e.exact,n=e.fetching,i=e.predicate,s=e.mutationKey;if(Pa(s)){if(!t.options.mutationKey)return!1;if(r){if(ki(t.options.mutationKey)!==ki(s))return!1}else if(!wu(t.options.mutationKey,s))return!1}return!(typeof n=="boolean"&&t.state.status==="loading"!==n||i&&!i(t))}function Jp(e,t){var r=(t==null?void 0:t.queryKeyHashFn)||ki;return r(e)}function ki(e){var t=Pu(e);return Yj(t)}function Yj(e){return JSON.stringify(e,function(t,r){return ef(r)?Object.keys(r).sort().reduce(function(n,i){return n[i]=r[i],n},{}):r})}function wu(e,t){return Cb(Pu(e),Pu(t))}function Cb(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(r){return!Cb(e[r],t[r])}):!1}function Rb(e,t){if(e===t)return e;var r=Array.isArray(e)&&Array.isArray(t);if(r||ef(e)&&ef(t)){for(var n=r?e.length:Object.keys(e).length,i=r?t:Object.keys(t),s=i.length,o=r?[]:{},a=0,l=0;l<s;l++){var u=r?l:i[l];o[u]=Rb(e[u],t[u]),o[u]===e[u]&&a++}return n===s&&a===n?e:o}return t}function tB(e,t){if(e&&!t||t&&!e)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}function ef(e){if(!cy(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var r=t.prototype;return!(!cy(r)||!r.hasOwnProperty("isPrototypeOf"))}function cy(e){return Object.prototype.toString.call(e)==="[object Object]"}function Pa(e){return typeof e=="string"||Array.isArray(e)}function Jj(e){return new Promise(function(t){setTimeout(t,e)})}function dy(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Ab(){if(typeof AbortController=="function")return new AbortController}var Xj=function(e){tc(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(i){var s;if(!wb&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},r.setFocused=function(i){this.focused=i,i&&this.onFocus()},r.onFocus=function(){this.listeners.forEach(function(i){i()})},r.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(pc),Dl=new Xj,Zj=function(e){tc(t,e);function t(){var n;return n=e.call(this)||this,n.setup=function(i){var s;if(!wb&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},n}var r=t.prototype;return r.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},r.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},r.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},r.setOnline=function(i){this.online=i,i&&this.onOnline()},r.onOnline=function(){this.listeners.forEach(function(i){i()})},r.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(pc),xl=new Zj;function eU(e){return Math.min(1e3*Math.pow(2,e),3e4)}function Cu(e){return typeof(e==null?void 0:e.cancel)=="function"}var Ib=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function md(e){return e instanceof Ib}var Ob=function(t){var r=this,n=!1,i,s,o,a;this.abort=t.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){n=!0},this.continueRetry=function(){n=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,f){o=h,a=f});var l=function(f){r.isResolved||(r.isResolved=!0,t.onSuccess==null||t.onSuccess(f),s==null||s(),o(f))},u=function(f){r.isResolved||(r.isResolved=!0,t.onError==null||t.onError(f),s==null||s(),a(f))},c=function(){return new Promise(function(f){s=f,r.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){s=void 0,r.isPaused=!1,t.onContinue==null||t.onContinue()})},d=function h(){if(!r.isResolved){var f;try{f=t.fn()}catch(m){f=Promise.reject(m)}i=function(p){if(!r.isResolved&&(u(new Ib(p)),r.abort==null||r.abort(),Cu(f)))try{f.cancel()}catch{}},r.isTransportCancelable=Cu(f),Promise.resolve(f).then(l).catch(function(m){var p,k;if(!r.isResolved){var T=(p=t.retry)!=null?p:3,y=(k=t.retryDelay)!=null?k:eU,S=typeof y=="function"?y(r.failureCount,m):y,w=T===!0||typeof T=="number"&&r.failureCount<T||typeof T=="function"&&T(r.failureCount,m);if(n||!w){u(m);return}r.failureCount++,t.onFail==null||t.onFail(r.failureCount,m),Jj(S).then(function(){if(!Dl.isFocused()||!xl.isOnline())return c()}).then(function(){n?u(m):h()})}})}};d()},tU=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(r){r()},this.batchNotifyFn=function(r){r()}}var t=e.prototype;return t.batch=function(n){var i;this.transactions++;try{i=n()}finally{this.transactions--,this.transactions||this.flush()}return i},t.schedule=function(n){var i=this;this.transactions?this.queue.push(n):dy(function(){i.notifyFn(n)})},t.batchCalls=function(n){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){n.apply(void 0,o)})}},t.flush=function(){var n=this,i=this.queue;this.queue=[],i.length&&dy(function(){n.batchNotifyFn(function(){i.forEach(function(s){n.notifyFn(s)})})})},t.setNotifyFunction=function(n){this.notifyFn=n},t.setBatchNotifyFunction=function(n){this.batchNotifyFn=n},e}(),kt=new tU,Db=console;function xb(){return Db}function rU(e){Db=e}var nU=function(){function e(r){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=r.defaultOptions,this.setOptions(r.options),this.observers=[],this.cache=r.cache,this.queryKey=r.queryKey,this.queryHash=r.queryHash,this.initialState=r.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=r.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(n){var i;this.options=oe({},this.defaultOptions,n),this.meta=n==null?void 0:n.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},t.setDefaultOptions=function(n){this.defaultOptions=n},t.scheduleGc=function(){var n=this;this.clearGcTimeout(),qj(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){n.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(n,i){var s,o,a=this.state.data,l=Wj(n,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=Rb(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},t.setState=function(n,i){this.dispatch({type:"setState",state:n,setStateOptions:i})},t.cancel=function(n){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(n),s?s.then(Lt).catch(Lt):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(n){return n.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(n){return n.getCurrentResult().isStale})},t.isStaleByTime=function(n){return n===void 0&&(n=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Kj(this.state.dataUpdatedAt,n)},t.onFocus=function(){var n,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},t.onOnline=function(){var n,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(n=this.retryer)==null||n.continue()},t.addObserver=function(n){this.observers.indexOf(n)===-1&&(this.observers.push(n),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:n}))},t.removeObserver=function(n){this.observers.indexOf(n)!==-1&&(this.observers=this.observers.filter(function(i){return i!==n}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:n}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(n,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(n&&this.setOptions(n),!this.options.queryFn){var c=this.observers.find(function(y){return y.options.queryFn});c&&this.setOptions(c.options)}var d=Pu(this.queryKey),h=Ab(),f={queryKey:d,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(h)return s.abortSignalConsumed=!0,h.signal}});var m=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(f)):Promise.reject("Missing queryFn")},p={fetchOptions:i,options:this.options,queryKey:d,state:this.state,fetchFn:m,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var k;(k=this.options.behavior)==null||k.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=p.fetchOptions)==null?void 0:a.meta)){var T;this.dispatch({type:"fetch",meta:(T=p.fetchOptions)==null?void 0:T.meta})}return this.retryer=new Ob({fn:p.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(S){s.setData(S),s.cache.config.onSuccess==null||s.cache.config.onSuccess(S,s),s.cacheTime===0&&s.optionalRemove()},onError:function(S){md(S)&&S.silent||s.dispatch({type:"error",error:S}),md(S)||(s.cache.config.onError==null||s.cache.config.onError(S,s),xb().error(S)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(n){var i=this;this.state=this.reducer(this.state,n),kt.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(n)}),i.cache.notify({query:i,type:"queryUpdated",action:n})})},t.getDefaultState=function(n){var i=typeof n.initialData=="function"?n.initialData():n.initialData,s=typeof n.initialData<"u",o=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(n,i){var s,o;switch(i.type){case"failed":return oe({},n,{fetchFailureCount:n.fetchFailureCount+1});case"pause":return oe({},n,{isPaused:!0});case"continue":return oe({},n,{isPaused:!1});case"fetch":return oe({},n,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!n.dataUpdatedAt&&{error:null,status:"loading"});case"success":return oe({},n,{data:i.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return md(a)&&a.revert&&this.revertState?oe({},this.revertState):oe({},n,{error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return oe({},n,{isInvalidated:!0});case"setState":return oe({},n,i.state);default:return n}},e}(),iU=function(e){tc(t,e);function t(n){var i;return i=e.call(this)||this,i.config=n||{},i.queries=[],i.queriesMap={},i}var r=t.prototype;return r.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:Jp(l,s),c=this.get(u);return c||(c=new nU({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(c)),c},r.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},r.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},r.clear=function(){var i=this;kt.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},r.get=function(i){return this.queriesMap[i]},r.getAll=function(){return this.queries},r.find=function(i,s){var o=Mn(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return ly(a,l)})},r.findAll=function(i,s){var o=Mn(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return ly(a,l)}):this.queries},r.notify=function(i){var s=this;kt.batch(function(){s.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){var i=this;kt.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},r.onOnline=function(){var i=this;kt.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},t}(pc),sU=function(){function e(r){this.options=oe({},r.defaultOptions,r.options),this.mutationId=r.mutationId,this.mutationCache=r.mutationCache,this.observers=[],this.state=r.state||oU(),this.meta=r.meta}var t=e.prototype;return t.setState=function(n){this.dispatch({type:"setState",state:n})},t.addObserver=function(n){this.observers.indexOf(n)===-1&&this.observers.push(n)},t.removeObserver=function(n){this.observers=this.observers.filter(function(i){return i!==n})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Lt).catch(Lt)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var n=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){n.mutationCache.config.onMutate==null||n.mutationCache.config.onMutate(n.state.variables,n)}).then(function(){return n.options.onMutate==null?void 0:n.options.onMutate(n.state.variables)}).then(function(a){a!==n.state.context&&n.dispatch({type:"loading",context:a,variables:n.state.variables})})),o.then(function(){return n.executeMutation()}).then(function(a){i=a,n.mutationCache.config.onSuccess==null||n.mutationCache.config.onSuccess(i,n.state.variables,n.state.context,n)}).then(function(){return n.options.onSuccess==null?void 0:n.options.onSuccess(i,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(i,null,n.state.variables,n.state.context)}).then(function(){return n.dispatch({type:"success",data:i}),i}).catch(function(a){return n.mutationCache.config.onError==null||n.mutationCache.config.onError(a,n.state.variables,n.state.context,n),xb().error(a),Promise.resolve().then(function(){return n.options.onError==null?void 0:n.options.onError(a,n.state.variables,n.state.context)}).then(function(){return n.options.onSettled==null?void 0:n.options.onSettled(void 0,a,n.state.variables,n.state.context)}).then(function(){throw n.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var n=this,i;return this.retryer=new Ob({fn:function(){return n.options.mutationFn?n.options.mutationFn(n.state.variables):Promise.reject("No mutationFn found")},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(n){var i=this;this.state=aU(this.state,n),kt.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(n)}),i.mutationCache.notify(i)})},e}();function oU(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function aU(e,t){switch(t.type){case"failed":return oe({},e,{failureCount:e.failureCount+1});case"pause":return oe({},e,{isPaused:!0});case"continue":return oe({},e,{isPaused:!1});case"loading":return oe({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return oe({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return oe({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return oe({},e,t.state);default:return e}}var lU=function(e){tc(t,e);function t(n){var i;return i=e.call(this)||this,i.config=n||{},i.mutations=[],i.mutationId=0,i}var r=t.prototype;return r.build=function(i,s,o){var a=new sU({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},r.add=function(i){this.mutations.push(i),this.notify(i)},r.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},r.clear=function(){var i=this;kt.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},r.getAll=function(){return this.mutations},r.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return uy(i,s)})},r.findAll=function(i){return this.mutations.filter(function(s){return uy(i,s)})},r.notify=function(i){var s=this;kt.batch(function(){s.listeners.forEach(function(o){o(i)})})},r.onFocus=function(){this.resumePausedMutations()},r.onOnline=function(){this.resumePausedMutations()},r.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return kt.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Lt)})},Promise.resolve())})},t}(pc);function uU(){return{onFetch:function(t){t.fetchFn=function(){var r,n,i,s,o,a,l=(r=t.fetchOptions)==null||(n=r.meta)==null?void 0:n.refetchPage,u=(i=t.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,c=u==null?void 0:u.pageParam,d=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",f=((o=t.state.data)==null?void 0:o.pages)||[],m=((a=t.state.data)==null?void 0:a.pageParams)||[],p=Ab(),k=p==null?void 0:p.signal,T=m,y=!1,S=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},w=function(te,j,W,X){return T=X?[j].concat(T):[].concat(T,[j]),X?[W].concat(te):[].concat(te,[W])},F=function(te,j,W,X){if(y)return Promise.reject("Cancelled");if(typeof W>"u"&&!j&&te.length)return Promise.resolve(te);var g={queryKey:t.queryKey,signal:k,pageParam:W,meta:t.meta},b=S(g),P=Promise.resolve(b).then(function(A){return w(te,W,A,X)});if(Cu(b)){var C=P;C.cancel=b.cancel}return P},U;if(!f.length)U=F([]);else if(d){var L=typeof c<"u",z=L?c:hy(t.options,f);U=F(f,L,z)}else if(h){var J=typeof c<"u",Q=J?c:cU(t.options,f);U=F(f,J,Q,!0)}else(function(){T=[];var ce=typeof t.options.getNextPageParam>"u",te=l&&f[0]?l(f[0],0,f):!0;U=te?F([],ce,m[0]):Promise.resolve(w([],m[0],f[0]));for(var j=function(g){U=U.then(function(b){var P=l&&f[g]?l(f[g],g,f):!0;if(P){var C=ce?m[g]:hy(t.options,b);return F(b,ce,C)}return Promise.resolve(w(b,m[g],f[g]))})},W=1;W<f.length;W++)j(W)})();var re=U.then(function(ce){return{pages:ce,pageParams:T}}),de=re;return de.cancel=function(){y=!0,p==null||p.abort(),Cu(U)&&U.cancel()},re}}}}function hy(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function cU(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var dU=function(){function e(r){r===void 0&&(r={}),this.queryCache=r.queryCache||new iU,this.mutationCache=r.mutationCache||new lU,this.defaultOptions=r.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var n=this;this.unsubscribeFocus=Dl.subscribe(function(){Dl.isFocused()&&xl.isOnline()&&(n.mutationCache.onFocus(),n.queryCache.onFocus())}),this.unsubscribeOnline=xl.subscribe(function(){Dl.isFocused()&&xl.isOnline()&&(n.mutationCache.onOnline(),n.queryCache.onOnline())})},t.unmount=function(){var n,i;(n=this.unsubscribeFocus)==null||n.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(n,i){var s=Mn(n,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(n){return this.mutationCache.findAll(oe({},n,{fetching:!0})).length},t.getQueryData=function(n,i){var s;return(s=this.queryCache.find(n,i))==null?void 0:s.state.data},t.getQueriesData=function(n){return this.getQueryCache().findAll(n).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},t.setQueryData=function(n,i,s){var o=pd(n),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},t.setQueriesData=function(n,i,s){var o=this;return kt.batch(function(){return o.getQueryCache().findAll(n).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},t.getQueryState=function(n,i){var s;return(s=this.queryCache.find(n,i))==null?void 0:s.state},t.removeQueries=function(n,i){var s=Mn(n,i),o=s[0],a=this.queryCache;kt.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},t.resetQueries=function(n,i,s){var o=this,a=Mn(n,i,s),l=a[0],u=a[1],c=this.queryCache,d=oe({},l,{active:!0});return kt.batch(function(){return c.findAll(l).forEach(function(h){h.reset()}),o.refetchQueries(d,u)})},t.cancelQueries=function(n,i,s){var o=this,a=Mn(n,i,s),l=a[0],u=a[1],c=u===void 0?{}:u;typeof c.revert>"u"&&(c.revert=!0);var d=kt.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.cancel(c)})});return Promise.all(d).then(Lt).catch(Lt)},t.invalidateQueries=function(n,i,s){var o,a,l,u=this,c=Mn(n,i,s),d=c[0],h=c[1],f=oe({},d,{active:(o=(a=d.refetchActive)!=null?a:d.active)!=null?o:!0,inactive:(l=d.refetchInactive)!=null?l:!1});return kt.batch(function(){return u.queryCache.findAll(d).forEach(function(m){m.invalidate()}),u.refetchQueries(f,h)})},t.refetchQueries=function(n,i,s){var o=this,a=Mn(n,i,s),l=a[0],u=a[1],c=kt.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.fetch(void 0,oe({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),d=Promise.all(c).then(Lt);return u!=null&&u.throwOnError||(d=d.catch(Lt)),d},t.fetchQuery=function(n,i,s){var o=pd(n,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},t.prefetchQuery=function(n,i,s){return this.fetchQuery(n,i,s).then(Lt).catch(Lt)},t.fetchInfiniteQuery=function(n,i,s){var o=pd(n,i,s);return o.behavior=uU(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(n,i,s){return this.fetchInfiniteQuery(n,i,s).then(Lt).catch(Lt)},t.cancelMutations=function(){var n=this,i=kt.batch(function(){return n.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Lt).catch(Lt)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(n){return this.mutationCache.build(this,n).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(n){this.defaultOptions=n},t.setQueryDefaults=function(n,i){var s=this.queryDefaults.find(function(o){return ki(n)===ki(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:n,defaultOptions:i})},t.getQueryDefaults=function(n){var i;return n?(i=this.queryDefaults.find(function(s){return wu(n,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(n,i){var s=this.mutationDefaults.find(function(o){return ki(n)===ki(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:n,defaultOptions:i})},t.getMutationDefaults=function(n){var i;return n?(i=this.mutationDefaults.find(function(s){return wu(n,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(n){if(n!=null&&n._defaulted)return n;var i=oe({},this.defaultOptions.queries,this.getQueryDefaults(n==null?void 0:n.queryKey),n,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Jp(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(n){return this.defaultQueryOptions(n)},t.defaultMutationOptions=function(n){return n!=null&&n._defaulted?n:oe({},this.defaultOptions.mutations,this.getMutationDefaults(n==null?void 0:n.mutationKey),n,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),hU=fC.unstable_batchedUpdates;kt.setBatchNotifyFunction(hU);var fU=console;rU(fU);var fy=I.createContext(void 0),Lb=I.createContext(!1);function Mb(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=fy),window.ReactQueryClientContext):fy}var rB=function(){var t=I.useContext(Mb(I.useContext(Lb)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pU=function(t){var r=t.client,n=t.contextSharing,i=n===void 0?!1:n,s=t.children;I.useEffect(function(){return r.mount(),function(){r.unmount()}},[r]);var o=Mb(i);return I.createElement(Lb.Provider,{value:i},I.createElement(o.Provider,{value:r},s))};const mU=$.createContext({toggleMode:()=>{},mode:"light",isMobile:!1,toggleMobile:()=>{},palette:{}}),py=e=>({primary:{main:"#aa2ae1",light:"#6DAB23",dark:"#7bb338",holiday:"#FF8A7B"},border:{main:"#aa2ae1"},secondary:{main:"#98D8F1",light:"#418fdd",dark:"#336cb8"},background:{main:"#aa2ae1",default:"#f8f8f8",light:"#e7e7e7",paper:"#fff",imageCaption:"#616161",tabbg:"#E8F5E9",activetabBg:"#C8E6C9",event:"#D5FFCB",holiday:"#FFEDEA",toDo:"#F2F4F4",error:"red",modal:"#4aa14e",header:"#4aa191"},text:{primary:"#000",secondary:"#616161",white:"#000",tableHead:"#25262E",error:"#930a0a",light:"#aa2ae1"},button:{primary:"#aa2ae1",secondary:"#38b6ff",error:"#930a0a"},hover:{primary:"#9925CA",secondary:"#32A3E5",error:"#930a0a"},boxShadow:{default:"rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px"},surface:{neutral:"rgba(225, 233, 238, 1)",light:"#eef1f4"},divider:"rgba(0,0,0,0.12)"}),gU=({children:e})=>{const t=localStorage.getItem("mode")||"light",[r,n]=$.useState(t),[i,s]=$.useState(window.innerWidth),[o,a]=$.useState(i<=768),l=$.useCallback(()=>{s(window.innerWidth),a(i<=768)},[i]);$.useEffect(()=>(window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}),[l]);const u=$.useMemo(()=>({isMobile:o,palette:py()}),[o,r]);let c=ET({palette:py(),components:{MuiButton:{styleOverrides:{root:{textTransform:"none"}}}}});return c=sI(c),R.jsx(mU.Provider,{value:u,children:R.jsx(uI,{theme:c,children:e})})},la=e=>typeof e=="number"&&!isNaN(e),wi=e=>typeof e=="string",ir=e=>typeof e=="function",Ll=e=>wi(e)||ir(e)?e:null,tf=e=>$.isValidElement(e)||wi(e)||ir(e)||la(e);function vU(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function mc(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:h,playToast:f}=o;const m=n?`${t}--${l}`:t,p=n?`${r}--${l}`:r,k=$.useRef(0);return $.useLayoutEffect(()=>{const T=d.current,y=m.split(" "),S=w=>{w.target===d.current&&(f(),T.removeEventListener("animationend",S),T.removeEventListener("animationcancel",S),k.current===0&&w.type!=="animationcancel"&&T.classList.remove(...y))};T.classList.add(...y),T.addEventListener("animationend",S),T.addEventListener("animationcancel",S)},[]),$.useEffect(()=>{const T=d.current,y=()=>{T.removeEventListener("animationend",y),i?vU(T,c,s):c()};h||(u?y():(k.current=1,T.className+=` ${p}`,T.addEventListener("animationend",y)))},[h]),I.createElement(I.Fragment,null,a)}}function my(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Nt=new Map;let ua=[];const rf=new Set,yU=e=>rf.forEach(t=>t(e)),Nb=()=>Nt.size>0;function $b(e,t){var r;if(t)return!((r=Nt.get(t))==null||!r.isToastActive(e));let n=!1;return Nt.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function Fb(e,t){tf(e)&&(Nb()||ua.push({content:e,options:t}),Nt.forEach(r=>{r.buildToast(e,t)}))}function gy(e,t){Nt.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function SU(e){const{subscribe:t,getSnapshot:r,setProps:n}=$.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(c,d,h){let f=1,m=0,p=[],k=[],T=[],y=d;const S=new Map,w=new Set,F=()=>{T=Array.from(S.values()),w.forEach(z=>z())},U=z=>{k=z==null?[]:k.filter(J=>J!==z),F()},L=z=>{const{toastId:J,onOpen:Q,updateId:re,children:de}=z.props,ce=re==null;z.staleId&&S.delete(z.staleId),S.set(J,z),k=[...k,z.props.toastId].filter(te=>te!==z.staleId),F(),h(my(z,ce?"added":"updated")),ce&&ir(Q)&&Q($.isValidElement(de)&&de.props)};return{id:c,props:y,observe:z=>(w.add(z),()=>w.delete(z)),toggle:(z,J)=>{S.forEach(Q=>{J!=null&&J!==Q.props.toastId||ir(Q.toggle)&&Q.toggle(z)})},removeToast:U,toasts:S,clearQueue:()=>{m-=p.length,p=[]},buildToast:(z,J)=>{if((A=>{let{containerId:D,toastId:N,updateId:G}=A;const x=D?D!==c:c!==1,H=S.has(N)&&G==null;return x||H})(J))return;const{toastId:Q,updateId:re,data:de,staleId:ce,delay:te}=J,j=()=>{U(Q)},W=re==null;W&&m++;const X={...y,style:y.toastStyle,key:f++,...Object.fromEntries(Object.entries(J).filter(A=>{let[D,N]=A;return N!=null})),toastId:Q,updateId:re,data:de,closeToast:j,isIn:!1,className:Ll(J.className||y.toastClassName),bodyClassName:Ll(J.bodyClassName||y.bodyClassName),progressClassName:Ll(J.progressClassName||y.progressClassName),autoClose:!J.isLoading&&(g=J.autoClose,b=y.autoClose,g===!1||la(g)&&g>0?g:b),deleteToast(){const A=S.get(Q),{onClose:D,children:N}=A.props;ir(D)&&D($.isValidElement(N)&&N.props),h(my(A,"removed")),S.delete(Q),m--,m<0&&(m=0),p.length>0?L(p.shift()):F()}};var g,b;X.closeButton=y.closeButton,J.closeButton===!1||tf(J.closeButton)?X.closeButton=J.closeButton:J.closeButton===!0&&(X.closeButton=!tf(y.closeButton)||y.closeButton);let P=z;$.isValidElement(z)&&!wi(z.type)?P=$.cloneElement(z,{closeToast:j,toastProps:X,data:de}):ir(z)&&(P=z({closeToast:j,toastProps:X,data:de}));const C={content:P,props:X,staleId:ce};y.limit&&y.limit>0&&m>y.limit&&W?p.push(C):la(te)?setTimeout(()=>{L(C)},te):L(C)},setProps(z){y=z},setToggle:(z,J)=>{S.get(z).toggle=J},isToastActive:z=>k.some(J=>J===z),getSnapshot:()=>y.newestOnTop?T.reverse():T}}(o,s,yU);Nt.set(o,l);const u=l.observe(a);return ua.forEach(c=>Fb(c.content,c.options)),ua=[],()=>{u(),Nt.delete(o)}},setProps(a){var l;(l=Nt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=Nt.get(o))==null?void 0:a.getSnapshot()}}}(e)).current;n(e);const i=$.useSyncExternalStore(t,r,r);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:$b,count:i==null?void 0:i.length}}function TU(e){const[t,r]=$.useState(!1),[n,i]=$.useState(!1),s=$.useRef(null),o=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=e;var h,f;function m(){r(!0)}function p(){r(!1)}function k(S){const w=s.current;o.canDrag&&w&&(o.didMove=!0,t&&p(),o.delta=e.draggableDirection==="x"?S.clientX-o.start:S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function T(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",T);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}(f=Nt.get((h={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||f.setToggle(h.id,h.fn),$.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",m),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);const y={onPointerDown:function(S){if(e.draggable===!0||e.draggable===S.pointerType){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",T);const w=s.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",e.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=w.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(S){const{top:w,bottom:F,left:U,right:L}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&e.pauseOnHover&&S.clientX>=U&&S.clientX<=L&&S.clientY>=w&&S.clientY<=F?p():m()}};return a&&l&&(y.onMouseEnter=p,e.stacked||(y.onMouseLeave=m)),d&&(y.onClick=S=>{c&&c(S),o.canCloseOnClick&&u()}),{playToast:m,pauseToast:p,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:y}}function kU(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:h}=e;const f=s||l&&u===0,m={...a,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(m.transform=`scaleX(${u})`);const p=Bn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),k=ir(o)?o({rtl:c,type:i,defaultClassName:p}):Bn(p,o),T={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&n()}};return I.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},I.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${i}`}),I.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:k,style:m,...T}))}let EU=1;const jb=()=>""+EU++;function bU(e){return e&&(wi(e.toastId)||la(e.toastId))?e.toastId:jb()}function Io(e,t){return Fb(e,t),t.toastId}function Ru(e,t){return{...t,type:t&&t.type||e,toastId:bU(t)}}function il(e){return(t,r)=>Io(t,Ru(e,r))}function je(e,t){return Io(e,Ru("default",t))}je.loading=(e,t)=>Io(e,Ru("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),je.promise=function(e,t,r){let n,{pending:i,error:s,success:o}=t;i&&(n=wi(i)?je.loading(i,r):je.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,h)=>{if(d==null)return void je.dismiss(n);const f={type:c,...a,...r,data:h},m=wi(d)?{render:d}:d;return n?je.update(n,{...f,...m}):je(m.render,{...f,...m}),h},u=ir(e)?e():e;return u.then(c=>l("success",o,c)).catch(c=>l("error",s,c)),u},je.success=il("success"),je.info=il("info"),je.error=il("error"),je.warning=il("warning"),je.warn=je.warning,je.dark=(e,t)=>Io(e,Ru("default",{theme:"dark",...t})),je.dismiss=function(e){(function(t){var r;if(Nb()){if(t==null||wi(r=t)||la(r))Nt.forEach(n=>{n.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const n=Nt.get(t.containerId);n?n.removeToast(t.id):Nt.forEach(i=>{i.removeToast(t.id)})}}else ua=ua.filter(n=>t!=null&&n.options.toastId!==t)})(e)},je.clearWaitingQueue=function(e){e===void 0&&(e={}),Nt.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},je.isActive=$b,je.update=function(e,t){t===void 0&&(t={});const r=((n,i)=>{var s;let{containerId:o}=i;return(s=Nt.get(o||1))==null?void 0:s.toasts.get(n)})(e,t);if(r){const{props:n,content:i}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:jb()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Io(o,s)}},je.done=e=>{je.update(e,{progress:1})},je.onChange=function(e){return rf.add(e),()=>{rf.delete(e)}},je.play=e=>gy(!0,e),je.pause=e=>gy(!1,e);const _U=typeof window<"u"?$.useLayoutEffect:$.useEffect,sl=e=>{let{theme:t,type:r,isLoading:n,...i}=e;return I.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},gd={info:function(e){return I.createElement(sl,{...e},I.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return I.createElement(sl,{...e},I.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return I.createElement(sl,{...e},I.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return I.createElement(sl,{...e},I.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return I.createElement("div",{className:"Toastify__spinner"})}},PU=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=TU(e),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:h,transition:f,position:m,className:p,style:k,bodyClassName:T,bodyStyle:y,progressClassName:S,progressStyle:w,updateId:F,role:U,progress:L,rtl:z,toastId:J,deleteToast:Q,isIn:re,isLoading:de,closeOnClick:ce,theme:te}=e,j=Bn("Toastify__toast",`Toastify__toast-theme--${te}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":ce}),W=ir(p)?p({rtl:z,position:m,type:c,defaultClassName:j}):Bn(j,p),X=function(C){let{theme:A,type:D,isLoading:N,icon:G}=C,x=null;const H={theme:A,type:D};return G===!1||(ir(G)?x=G({...H,isLoading:N}):$.isValidElement(G)?x=$.cloneElement(G,H):N?x=gd.spinner():(ne=>ne in gd)(D)&&(x=gd[D](H))),x}(e),g=!!L||!l,b={closeToast:h,type:c,theme:te};let P=null;return o===!1||(P=ir(o)?o(b):$.isValidElement(o)?$.cloneElement(o,b):function(C){let{closeToast:A,theme:D,ariaLabel:N="close"}=C;return I.createElement("button",{className:`Toastify__close-button Toastify__close-button--${D}`,type:"button",onClick:G=>{G.stopPropagation(),A(G)},"aria-label":N},I.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},I.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(b)),I.createElement(f,{isIn:re,done:Q,position:m,preventExitTransition:r,nodeRef:n,playToast:s},I.createElement("div",{id:J,onClick:u,"data-in":re,className:W,...i,style:k,ref:n},I.createElement("div",{...re&&{role:U},className:ir(T)?T({type:c}):Bn("Toastify__toast-body",T),style:y},X!=null&&I.createElement("div",{className:Bn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!de})},X),I.createElement("div",null,a)),P,I.createElement(kU,{...F&&!g?{key:`pb-${F}`}:{},rtl:z,theme:te,delay:l,isRunning:t,isIn:re,closeToast:h,hide:d,type:c,style:w,className:S,controlledProgress:g,progress:L||0})))},gc=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},wU=mc(gc("bounce",!0));mc(gc("slide",!0));mc(gc("zoom"));mc(gc("flip"));const CU={position:"top-right",transition:wU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function RU(e){let t={...CU,...e};const r=e.stacked,[n,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=SU(t),{className:u,style:c,rtl:d,containerId:h}=t;function f(p){const k=Bn("Toastify__toast-container",`Toastify__toast-container--${p}`,{"Toastify__toast-container--rtl":d});return ir(u)?u({position:p,rtl:d,defaultClassName:k}):Bn(k,Ll(u))}function m(){r&&(i(!0),je.play())}return _U(()=>{if(r){var p;const k=s.current.querySelectorAll('[data-in="true"]'),T=12,y=(p=t.position)==null?void 0:p.includes("top");let S=0,w=0;Array.from(k).reverse().forEach((F,U)=>{const L=F;L.classList.add("Toastify__toast--stacked"),U>0&&(L.dataset.collapsed=`${n}`),L.dataset.pos||(L.dataset.pos=y?"top":"bot");const z=S*(n?.2:1)+(n?0:T*U);L.style.setProperty("--y",`${y?z:-1*z}px`),L.style.setProperty("--g",`${T}`),L.style.setProperty("--s",""+(1-(n?w:0))),S+=L.offsetHeight,w+=.025})}},[n,l,r]),I.createElement("div",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{r&&(i(!1),je.pause())},onMouseLeave:m},o((p,k)=>{const T=k.length?{...c}:{...c,pointerEvents:"none"};return I.createElement("div",{className:f(p),style:T,key:`container-${p}`},k.map(y=>{let{content:S,props:w}=y;return I.createElement(PU,{...w,stacked:r,collapseAll:m,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},S)}))}))}const AU=["localeText"],vy=$.createContext(null),IU=function(t){var r;const{localeText:n}=t,i=Pn(t,AU),{utils:s,localeText:o}=(r=$.useContext(vy))!=null?r:{utils:void 0,localeText:void 0},a=aI({props:i,name:"MuiLocalizationProvider"}),{children:l,dateAdapter:u,dateFormats:c,dateLibInstance:d,adapterLocale:h,localeText:f}=a,m=$.useMemo(()=>oe({},f,o,n),[f,o,n]),p=$.useMemo(()=>{if(!u)return s||null;const y=new u({locale:h,formats:c,instance:d});if(!y.isMUIAdapter)throw new Error(["MUI: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return y},[u,h,c,d,s]),k=$.useMemo(()=>p?{minDate:p.date("1900-01-01T00:00:00.000"),maxDate:p.date("2099-12-31T00:00:00.000")}:null,[p]),T=$.useMemo(()=>({utils:p,defaultDates:k,localeText:m}),[k,p,m]);return R.jsx(vy.Provider,{value:T,children:l})},OU=(e,t="warning")=>{let r=!1;const n=Array.isArray(e)?e.join(`
`):e;return()=>{r||(r=!0,t==="error"?console.error(n):console.warn(n))}};var Ub={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ls,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",m="date",p="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var j=["th","st","nd","rd"],W=te%100;return"["+te+(j[(W-20)%10]||j[W]||j[0])+"]"}},S=function(te,j,W){var X=String(te);return!X||X.length>=j?te:""+Array(j+1-X.length).join(W)+te},w={s:S,z:function(te){var j=-te.utcOffset(),W=Math.abs(j),X=Math.floor(W/60),g=W%60;return(j<=0?"+":"-")+S(X,2,"0")+":"+S(g,2,"0")},m:function te(j,W){if(j.date()<W.date())return-te(W,j);var X=12*(W.year()-j.year())+(W.month()-j.month()),g=j.clone().add(X,d),b=W-g<0,P=j.clone().add(X+(b?-1:1),d);return+(-(X+(W-g)/(b?g-P:P-g))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:d,y:f,w:c,d:u,D:m,h:l,m:a,s:o,ms:s,Q:h}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},F="en",U={};U[F]=y;var L="$isDayjsObject",z=function(te){return te instanceof de||!(!te||!te[L])},J=function te(j,W,X){var g;if(!j)return F;if(typeof j=="string"){var b=j.toLowerCase();U[b]&&(g=b),W&&(U[b]=W,g=b);var P=j.split("-");if(!g&&P.length>1)return te(P[0])}else{var C=j.name;U[C]=j,g=C}return!X&&g&&(F=g),g||!X&&F},Q=function(te,j){if(z(te))return te.clone();var W=typeof j=="object"?j:{};return W.date=te,W.args=arguments,new de(W)},re=w;re.l=J,re.i=z,re.w=function(te,j){return Q(te,{locale:j.$L,utc:j.$u,x:j.$x,$offset:j.$offset})};var de=function(){function te(W){this.$L=J(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[L]=!0}var j=te.prototype;return j.parse=function(W){this.$d=function(X){var g=X.date,b=X.utc;if(g===null)return new Date(NaN);if(re.u(g))return new Date;if(g instanceof Date)return new Date(g);if(typeof g=="string"&&!/Z$/i.test(g)){var P=g.match(k);if(P){var C=P[2]-1||0,A=(P[7]||"0").substring(0,3);return b?new Date(Date.UTC(P[1],C,P[3]||1,P[4]||0,P[5]||0,P[6]||0,A)):new Date(P[1],C,P[3]||1,P[4]||0,P[5]||0,P[6]||0,A)}}return new Date(g)}(W),this.init()},j.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},j.$utils=function(){return re},j.isValid=function(){return this.$d.toString()!==p},j.isSame=function(W,X){var g=Q(W);return this.startOf(X)<=g&&g<=this.endOf(X)},j.isAfter=function(W,X){return Q(W)<this.startOf(X)},j.isBefore=function(W,X){return this.endOf(X)<Q(W)},j.$g=function(W,X,g){return re.u(W)?this[X]:this.set(g,W)},j.unix=function(){return Math.floor(this.valueOf()/1e3)},j.valueOf=function(){return this.$d.getTime()},j.startOf=function(W,X){var g=this,b=!!re.u(X)||X,P=re.p(W),C=function(me,le){var fe=re.w(g.$u?Date.UTC(g.$y,le,me):new Date(g.$y,le,me),g);return b?fe:fe.endOf(u)},A=function(me,le){return re.w(g.toDate()[me].apply(g.toDate("s"),(b?[0,0,0,0]:[23,59,59,999]).slice(le)),g)},D=this.$W,N=this.$M,G=this.$D,x="set"+(this.$u?"UTC":"");switch(P){case f:return b?C(1,0):C(31,11);case d:return b?C(1,N):C(0,N+1);case c:var H=this.$locale().weekStart||0,ne=(D<H?D+7:D)-H;return C(b?G-ne:G+(6-ne),N);case u:case m:return A(x+"Hours",0);case l:return A(x+"Minutes",1);case a:return A(x+"Seconds",2);case o:return A(x+"Milliseconds",3);default:return this.clone()}},j.endOf=function(W){return this.startOf(W,!1)},j.$set=function(W,X){var g,b=re.p(W),P="set"+(this.$u?"UTC":""),C=(g={},g[u]=P+"Date",g[m]=P+"Date",g[d]=P+"Month",g[f]=P+"FullYear",g[l]=P+"Hours",g[a]=P+"Minutes",g[o]=P+"Seconds",g[s]=P+"Milliseconds",g)[b],A=b===u?this.$D+(X-this.$W):X;if(b===d||b===f){var D=this.clone().set(m,1);D.$d[C](A),D.init(),this.$d=D.set(m,Math.min(this.$D,D.daysInMonth())).$d}else C&&this.$d[C](A);return this.init(),this},j.set=function(W,X){return this.clone().$set(W,X)},j.get=function(W){return this[re.p(W)]()},j.add=function(W,X){var g,b=this;W=Number(W);var P=re.p(X),C=function(N){var G=Q(b);return re.w(G.date(G.date()+Math.round(N*W)),b)};if(P===d)return this.set(d,this.$M+W);if(P===f)return this.set(f,this.$y+W);if(P===u)return C(1);if(P===c)return C(7);var A=(g={},g[a]=n,g[l]=i,g[o]=r,g)[P]||1,D=this.$d.getTime()+W*A;return re.w(D,this)},j.subtract=function(W,X){return this.add(-1*W,X)},j.format=function(W){var X=this,g=this.$locale();if(!this.isValid())return g.invalidDate||p;var b=W||"YYYY-MM-DDTHH:mm:ssZ",P=re.z(this),C=this.$H,A=this.$m,D=this.$M,N=g.weekdays,G=g.months,x=g.meridiem,H=function(le,fe,he,_e){return le&&(le[fe]||le(X,b))||he[fe].slice(0,_e)},ne=function(le){return re.s(C%12||12,le,"0")},me=x||function(le,fe,he){var _e=le<12?"AM":"PM";return he?_e.toLowerCase():_e};return b.replace(T,function(le,fe){return fe||function(he){switch(he){case"YY":return String(X.$y).slice(-2);case"YYYY":return re.s(X.$y,4,"0");case"M":return D+1;case"MM":return re.s(D+1,2,"0");case"MMM":return H(g.monthsShort,D,G,3);case"MMMM":return H(G,D);case"D":return X.$D;case"DD":return re.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return H(g.weekdaysMin,X.$W,N,2);case"ddd":return H(g.weekdaysShort,X.$W,N,3);case"dddd":return N[X.$W];case"H":return String(C);case"HH":return re.s(C,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return me(C,A,!0);case"A":return me(C,A,!1);case"m":return String(A);case"mm":return re.s(A,2,"0");case"s":return String(X.$s);case"ss":return re.s(X.$s,2,"0");case"SSS":return re.s(X.$ms,3,"0");case"Z":return P}return null}(le)||P.replace(":","")})},j.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},j.diff=function(W,X,g){var b,P=this,C=re.p(X),A=Q(W),D=(A.utcOffset()-this.utcOffset())*n,N=this-A,G=function(){return re.m(P,A)};switch(C){case f:b=G()/12;break;case d:b=G();break;case h:b=G()/3;break;case c:b=(N-D)/6048e5;break;case u:b=(N-D)/864e5;break;case l:b=N/i;break;case a:b=N/n;break;case o:b=N/r;break;default:b=N}return g?b:re.a(b)},j.daysInMonth=function(){return this.endOf(d).$D},j.$locale=function(){return U[this.$L]},j.locale=function(W,X){if(!W)return this.$L;var g=this.clone(),b=J(W,X,!0);return b&&(g.$L=b),g},j.clone=function(){return re.w(this.$d,this)},j.toDate=function(){return new Date(this.valueOf())},j.toJSON=function(){return this.isValid()?this.toISOString():null},j.toISOString=function(){return this.$d.toISOString()},j.toString=function(){return this.$d.toUTCString()},te}(),ce=de.prototype;return Q.prototype=ce,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",m]].forEach(function(te){ce[te[1]]=function(j){return this.$g(j,te[0],te[1])}}),Q.extend=function(te,j){return te.$i||(te(j,de,Q),te.$i=!0),Q},Q.locale=J,Q.isDayjs=z,Q.unix=function(te){return Q(1e3*te)},Q.en=U[F],Q.Ls=U,Q.p={},Q})})(Ub);var DU=Ub.exports;const At=rn(DU);var Bb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ls,function(){var r="week",n="year";return function(i,s,o){var a=s.prototype;a.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(n).add(1,n).date(u),d=o(this).endOf(r);if(c.isBefore(d))return 1}var h=o(this).startOf(n).date(u).startOf(r).subtract(1,"millisecond"),f=this.diff(h,r,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},a.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(Bb);var xU=Bb.exports;const LU=rn(xU);var zb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ls,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(k){this[p]=+k}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(k){if(!k||k==="Z")return 0;var T=k.match(/([+-]|\d\d)/g),y=60*T[1]+(+T[2]||0);return y===0?0:T[0]==="+"?-y:y}(p)}],d=function(p){var k=a[p];return k&&(k.indexOf?k:k.s.concat(k.f))},h=function(p,k){var T,y=a.meridiem;if(y){for(var S=1;S<=24;S+=1)if(p.indexOf(y(S,0,k))>-1){T=S>12;break}}else T=p===(k?"pm":"PM");return T},f={A:[o,function(p){this.afternoon=h(p,!1)}],a:[o,function(p){this.afternoon=h(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[i,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[o,function(p){var k=a.ordinal,T=p.match(/\d+/);if(this.day=T[0],k)for(var y=1;y<=31;y+=1)k(y).replace(/\[|\]/g,"")===p&&(this.day=y)}],M:[s,u("month")],MM:[i,u("month")],MMM:[o,function(p){var k=d("months"),T=(d("monthsShort")||k.map(function(y){return y.slice(0,3)})).indexOf(p)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[o,function(p){var k=d("months").indexOf(p)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(p){this.year=l(p)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function m(p){var k,T;k=p,T=a&&a.formats;for(var y=(p=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(J,Q,re){var de=re&&re.toUpperCase();return Q||T[re]||r[re]||T[de].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ce,te,j){return te||j.slice(1)})})).match(n),S=y.length,w=0;w<S;w+=1){var F=y[w],U=f[F],L=U&&U[0],z=U&&U[1];y[w]=z?{regex:L,parser:z}:F.replace(/^\[|\]$/g,"")}return function(J){for(var Q={},re=0,de=0;re<S;re+=1){var ce=y[re];if(typeof ce=="string")de+=ce.length;else{var te=ce.regex,j=ce.parser,W=J.slice(de),X=te.exec(W)[0];j.call(Q,X),J=J.replace(X,"")}}return function(g){var b=g.afternoon;if(b!==void 0){var P=g.hours;b?P<12&&(g.hours+=12):P===12&&(g.hours=0),delete g.afternoon}}(Q),Q}}return function(p,k,T){T.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var y=k.prototype,S=y.parse;y.parse=function(w){var F=w.date,U=w.utc,L=w.args;this.$u=U;var z=L[1];if(typeof z=="string"){var J=L[2]===!0,Q=L[3]===!0,re=J||Q,de=L[2];Q&&(de=L[2]),a=this.$locale(),!J&&de&&(a=T.Ls[de]),this.$d=function(W,X,g){try{if(["x","X"].indexOf(X)>-1)return new Date((X==="X"?1e3:1)*W);var b=m(X)(W),P=b.year,C=b.month,A=b.day,D=b.hours,N=b.minutes,G=b.seconds,x=b.milliseconds,H=b.zone,ne=new Date,me=A||(P||C?1:ne.getDate()),le=P||ne.getFullYear(),fe=0;P&&!C||(fe=C>0?C-1:ne.getMonth());var he=D||0,_e=N||0,_t=G||0,hr=x||0;return H?new Date(Date.UTC(le,fe,me,he,_e,_t,hr+60*H.offset*1e3)):g?new Date(Date.UTC(le,fe,me,he,_e,_t,hr)):new Date(le,fe,me,he,_e,_t,hr)}catch{return new Date("")}}(F,z,U),this.init(),de&&de!==!0&&(this.$L=this.locale(de).$L),re&&F!=this.format(z)&&(this.$d=new Date("")),a={}}else if(z instanceof Array)for(var ce=z.length,te=1;te<=ce;te+=1){L[1]=z[te-1];var j=T.apply(this,L);if(j.isValid()){this.$d=j.$d,this.$L=j.$L,this.init();break}te===ce&&(this.$d=new Date(""))}else S.call(this,w)}}})})(zb);var MU=zb.exports;const NU=rn(MU);var Vb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ls,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var o=i.prototype,a=o.format;s.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,m,p){var k=p&&p.toUpperCase();return m||h[p]||r[p]||h[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(T,y,S){return y||S.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(Vb);var $U=Vb.exports;const FU=rn($U);var Gb={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ls,function(){return function(r,n,i){n.prototype.isBetween=function(s,o,a,l){var u=i(s),c=i(o),d=(l=l||"()")[0]==="(",h=l[1]===")";return(d?this.isAfter(u,a):!this.isBefore(u,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(d?this.isBefore(u,a):!this.isAfter(u,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(Gb);var jU=Gb.exports;const UU=rn(jU);At.extend(NU);At.extend(FU);At.extend(UU);const BU=OU(["Your locale has not been found.","Either the locale key is not a supported one. Locales supported by dayjs are available here: https://github.com/iamkun/dayjs/tree/dev/src/locale","Or you forget to import the locale from 'dayjs/locale/{localeUsed}'","fallback on English locale"]),zU={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},VU={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",fullDateWithWeekday:"dddd, LL",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",monthAndYear:"MMMM YYYY",monthAndDate:"MMMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},vd=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),yy=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),GU=(e,t)=>t?(...r)=>e(...r).locale(t):e;class HU{constructor({locale:t,formats:r,instance:n}={}){var i;this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.rawDayJsInstance=void 0,this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=zU,this.setLocaleToValue=s=>{const o=this.getCurrentLocaleCode();return o===s.locale()?s:s.locale(o)},this.hasUTCPlugin=()=>typeof At.utc<"u",this.hasTimezonePlugin=()=>typeof At.tz<"u",this.isSame=(s,o,a)=>{const l=this.setTimezone(o,this.getTimezone(s));return s.format(a)===l.format(a)},this.cleanTimezone=s=>{switch(s){case"default":return;case"system":return At.tz.guess();default:return s}},this.createSystemDate=s=>{if(this.rawDayJsInstance)return this.rawDayJsInstance(s);if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=At.tz.guess();return o!=="UTC"?At.tz(s,o):At(s)}return At(s)},this.createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(vd);return At.utc(s)},this.createTZDate=(s,o)=>{if(!this.hasUTCPlugin())throw new Error(vd);if(!this.hasTimezonePlugin())throw new Error(yy);const a=s!==void 0&&!s.endsWith("Z");return At(s).tz(this.cleanTimezone(o),a)},this.getLocaleFormats=()=>{const s=At.Ls,o=this.locale||"en";let a=s[o];return a===void 0&&(BU(),a=s.en),a.formats},this.adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const o=this.getTimezone(s);if(o!=="UTC"){var a,l;const u=s.tz(this.cleanTimezone(o),!0);return((a=u.$offset)!=null?a:0)===((l=s.$offset)!=null?l:0)?s:u}return s},this.date=s=>s===null?null:this.dayjs(s),this.dateWithTimezone=(s,o)=>{if(s===null)return null;let a;return o==="UTC"?a=this.createUTCDate(s):o==="system"||o==="default"&&!this.hasTimezonePlugin()?a=this.createSystemDate(s):a=this.createTZDate(s,o),this.locale===void 0?a:a.locale(this.locale)},this.getTimezone=s=>{if(this.hasTimezonePlugin()){var o;const a=(o=s.$x)==null?void 0:o.$timezone;if(a)return a}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"},this.setTimezone=(s,o)=>{if(this.getTimezone(s)===o)return s;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(vd);return s.utc()}if(o==="system")return s.local();if(!this.hasTimezonePlugin()){if(o==="default")return s;throw new Error(yy)}return At.tz(s,this.cleanTimezone(o))},this.toJsDate=s=>s.toDate(),this.parseISO=s=>this.dayjs(s),this.toISO=s=>s.toISOString(),this.parse=(s,o)=>s===""?null:this.dayjs(s,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=s=>{const o=this.getLocaleFormats(),a=l=>l.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(u,c,d)=>c||d.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(l,u,c)=>{const d=c&&c.toUpperCase();return u||o[c]||a(o[d])})},this.getFormatHelperText=s=>this.expandFormat(s).replace(/a/gi,"(a|p)m").toLocaleLowerCase(),this.isNull=s=>s===null,this.isValid=s=>this.dayjs(s).isValid(),this.format=(s,o)=>this.formatByString(s,this.formats[o]),this.formatByString=(s,o)=>this.dayjs(s).format(o),this.formatNumber=s=>s,this.getDiff=(s,o,a)=>s.diff(o,a),this.isEqual=(s,o)=>s===null&&o===null?!0:this.dayjs(s).toDate().getTime()===this.dayjs(o).toDate().getTime(),this.isSameYear=(s,o)=>this.isSame(s,o,"YYYY"),this.isSameMonth=(s,o)=>this.isSame(s,o,"YYYY-MM"),this.isSameDay=(s,o)=>this.isSame(s,o,"YYYY-MM-DD"),this.isSameHour=(s,o)=>s.isSame(o,"hour"),this.isAfter=(s,o)=>s>o,this.isAfterYear=(s,o)=>this.hasUTCPlugin()?!this.isSameYear(s,o)&&s.utc()>o.utc():s.isAfter(o,"year"),this.isAfterDay=(s,o)=>this.hasUTCPlugin()?!this.isSameDay(s,o)&&s.utc()>o.utc():s.isAfter(o,"day"),this.isBefore=(s,o)=>s<o,this.isBeforeYear=(s,o)=>this.hasUTCPlugin()?!this.isSameYear(s,o)&&s.utc()<o.utc():s.isBefore(o,"year"),this.isBeforeDay=(s,o)=>this.hasUTCPlugin()?!this.isSameDay(s,o)&&s.utc()<o.utc():s.isBefore(o,"day"),this.isWithinRange=(s,[o,a])=>s>=o&&s<=a,this.startOfYear=s=>this.adjustOffset(s.startOf("year")),this.startOfMonth=s=>this.adjustOffset(s.startOf("month")),this.startOfWeek=s=>this.adjustOffset(s.startOf("week")),this.startOfDay=s=>this.adjustOffset(s.startOf("day")),this.endOfYear=s=>this.adjustOffset(s.endOf("year")),this.endOfMonth=s=>this.adjustOffset(s.endOf("month")),this.endOfWeek=s=>this.adjustOffset(s.endOf("week")),this.endOfDay=s=>this.adjustOffset(s.endOf("day")),this.addYears=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"year"):s.add(o,"year")),this.addMonths=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"month"):s.add(o,"month")),this.addWeeks=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"week"):s.add(o,"week")),this.addDays=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"day"):s.add(o,"day")),this.addHours=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"hour"):s.add(o,"hour")),this.addMinutes=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"minute"):s.add(o,"minute")),this.addSeconds=(s,o)=>this.adjustOffset(o<0?s.subtract(Math.abs(o),"second"):s.add(o,"second")),this.getYear=s=>s.year(),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.getHours=s=>s.hour(),this.getMinutes=s=>s.minute(),this.getSeconds=s=>s.second(),this.getMilliseconds=s=>s.millisecond(),this.setYear=(s,o)=>this.adjustOffset(s.set("year",o)),this.setMonth=(s,o)=>this.adjustOffset(s.set("month",o)),this.setDate=(s,o)=>this.adjustOffset(s.set("date",o)),this.setHours=(s,o)=>this.adjustOffset(s.set("hour",o)),this.setMinutes=(s,o)=>this.adjustOffset(s.set("minute",o)),this.setSeconds=(s,o)=>this.adjustOffset(s.set("second",o)),this.setMilliseconds=(s,o)=>this.adjustOffset(s.set("millisecond",o)),this.getDaysInMonth=s=>s.daysInMonth(),this.getNextMonth=s=>this.addMonths(s,1),this.getPreviousMonth=s=>this.addMonths(s,-1),this.getMonthArray=s=>{const a=[s.startOf("year")];for(;a.length<12;){const l=a[a.length-1];a.push(this.addMonths(l,1))}return a},this.mergeDateAndTime=(s,o)=>s.hour(o.hour()).minute(o.minute()).second(o.second()),this.getWeekdays=()=>{const s=this.dayjs().startOf("week");return[0,1,2,3,4,5,6].map(o=>this.formatByString(this.addDays(s,o),"dd"))},this.getWeekArray=s=>{const o=this.setLocaleToValue(s),a=o.startOf("month").startOf("week"),l=o.endOf("month").endOf("week");let u=0,c=a;const d=[];for(;c<l;){const h=Math.floor(u/7);d[h]=d[h]||[],d[h].push(c),c=this.addDays(c,1),u+=1}return d},this.getWeekNumber=s=>s.week(),this.getYearRange=(s,o)=>{const a=s.startOf("year"),l=o.endOf("year"),u=[];let c=a;for(;c<l;)u.push(c),c=this.addYears(c,1);return u},this.getMeridiemText=s=>s==="am"?"AM":"PM",this.rawDayJsInstance=n,this.dayjs=GU((i=this.rawDayJsInstance)!=null?i:At,t),this.locale=t,this.formats=oe({},VU,r),At.extend(LU)}}window.global=window;const WU=new dU({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}});yd.createRoot(document.getElementById("root")).render(R.jsx(I.StrictMode,{children:R.jsx(fO,{store:Hj,children:R.jsx(gU,{children:R.jsx(IU,{dateAdapter:HU,children:R.jsx(pU,{client:WU,contextSharing:!0,children:R.jsxs(yF,{children:[R.jsx(RU,{position:"top-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),R.jsx(Xx,{})]})})})})})}));export{qj as $,bI as A,aT as B,sA as C,r3 as D,Xh as E,V as F,Y3 as G,dT as H,rB as I,je as J,ZS as K,ZU as L,XU as M,J3 as N,KU as O,X3 as P,Eu as Q,I as R,Uj as S,s3 as T,tc as U,SA as V,kA as W,n3 as X,Lt as Y,wb as Z,oe as _,fc as a,K3 as a$,Kj as a0,Dl as a1,Rb as a2,xb as a3,tB as a4,md as a5,kt as a6,pc as a7,oU as a8,eB as a9,Y1 as aA,nR as aB,YS as aC,sR as aD,J1 as aE,JU as aF,K1 as aG,qi as aH,dR as aI,eA as aJ,dp as aK,ZR as aL,YU as aM,fC as aN,Oo as aO,S1 as aP,t3 as aQ,kn as aR,lT as aS,iA as aT,QA as aU,sT as aV,e3 as aW,va as aX,oA as aY,Ls as aZ,vh as a_,pd as aa,vy as ab,OU as ac,uT as ad,IU as ae,At as af,HU as ag,bT as ah,au as ai,Rs as aj,en as ak,rn as al,qU as am,Ty as an,QU as ao,N3 as ap,$3 as aq,F3 as ar,xS as as,j3 as at,U3 as au,B3 as av,hp as aw,ET as ax,oR as ay,op as az,tt as b,r2 as b0,Q3 as b1,z3 as b2,V3 as b3,G3 as b4,H3 as b5,W3 as b6,q3 as b7,p3 as b8,mF as b9,_i as ba,f3 as bb,u3 as bc,jv as bd,CN as be,h3 as bf,d3 as bg,UN as bh,jp as bi,Ss as bj,P3 as bk,w3 as bl,C3 as bm,R3 as bn,A3 as bo,I3 as bp,O3 as bq,D3 as br,x3 as bs,L3 as bt,M3 as bu,M as bv,i3 as c,y3 as d,T3 as e,S3 as f,k3 as g,E3 as h,gA as i,R as j,_3 as k,g3 as l,iT as m,Pn as n,v3 as o,Bn as p,Hj as q,$ as r,b3 as s,m3 as t,aI as u,Lj as v,oI as w,js as x,jS as y,Z3 as z};
