import{r,y as P,j as e,b}from"./index-CZLZpOaH.js";import{C as g}from"./common.constants-BAKO8LyS.js";import{M as f}from"./Modal-CsKgPfCY.js";import{F as l}from"./Form-ExWjSL5Y.js";import{R as U}from"./Row-q1SNRrbp.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";function de(v){const[d,I]=r.useState(v.location.state),p=P(),[n,y]=r.useState(),[s,N]=r.useState(null),[C,k]=r.useState(null),[u,x]=r.useState(!1),[w,S]=r.useState(!1),[m,A]=r.useState(null),[h,j]=r.useState(!1),E=()=>S(!1),R=t=>{const a=t.target.checked;j(a)},L=async t=>{if(n==""||n==null)x(!0);else if(s===null||s==null)x(!0);else{let a=new FormData;const o={name:n,enabled:h,isCustomized:!0};a.append("data",JSON.stringify(o)),a.append("logo",s);try{(await b.post(g.BASE_URL+"/addpaymentname",a)).data.status===!0&&p("/paymenttype")}catch(c){console.log(c)}}},B=async()=>{if(n=="")x(!0);else{let t=new FormData;const a={id:d,name:n,enabled:h,isCustomized:!0};t.append("data",JSON.stringify(a)),s?t.append("logo",s):t.append("logo",m);try{(await b.post(g.BASE_URL+"/updatepaymentnamebyid",t)).data.status===!0&&p("/paymenttype")}catch(o){console.log(o)}}},F=async()=>{var t,a,o,c;try{const i=await b.post(g.BASE_URL+"/getpaymentnamebyid",{id:d});y((t=i.data.data)==null?void 0:t.name),k((a=i.data.data)==null?void 0:a.enabled),A((o=i.data.data)==null?void 0:o.logo),j((c=i.data.data)==null?void 0:c.enabled)}catch(i){console.log(i)}};return r.useEffect(()=>{F()},[]),e.jsx("div",{children:e.jsx("div",{children:e.jsx("div",{className:"container-fluid",children:e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-black rounded-2",children:[e.jsx("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:"Payment Type"}),e.jsxs("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:[e.jsxs(l,{id:"notificationCheck",children:[e.jsxs(l.Group,{className:"mb-3",controlId:"formBasicEmail",children:[e.jsx(l.Label,{children:"Name"}),e.jsx(l.Control,{type:"text",placeholder:"",className:"required",onChange:t=>{const o=t.target.value.replace(/[^A-Za-z\s]/g,"");y(o)},value:n}),u&&!n&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Name"})]}),(m||s)&&e.jsx("img",{src:s?URL.createObjectURL(s):m,alt:"selectedImg",className:"deliverImage mb-3"}),e.jsx(U,{className:"mb-4",children:e.jsxs(l.Group,{controlId:"formGridCity",className:"border-0",children:[e.jsx(l.Label,{children:"Logo"}),e.jsx(l.Control,{type:"file",className:"w-auto rounded-0 border-0 required",accept:"image/*",onChange:t=>N(t.target.files[0])}),d?u&&!m&&e.jsx("small",{className:"responsiveFontLarge  text-danger ",children:"Please Select File"}):u&&!s&&e.jsx("small",{className:"responsiveFontLarge  text-danger ",children:"Please Select File"})]})}),console.log(C),e.jsx(l.Group,{children:e.jsxs("div",{className:"mt-3 d-flex",children:[e.jsx("input",{type:"checkbox",id:"vehicle1",name:"isActive",value:"true",className:"main-radio requiredCheckBox",onChange:R,checked:h}),e.jsx("label",{for:"vehicle1",className:"ms-2",children:"Active"})]})}),e.jsxs("div",{className:"row d-flex m-auto pt-3 border-top",children:[d?e.jsx("div",{style:{background:"#AA2AE1"},className:"rounded btn text-white bolder w-auto",onClick:t=>B(),children:"Update"}):e.jsx("div",{style:{background:"#AA2AE1"},className:"rounded btn text-white bolder w-auto",onClick:t=>L(),children:"Create"}),"  ",e.jsxs("a",{className:"btn btn-default  text-black bolder border 2 w-auto",onClick:()=>p("/paymenttype"),children:[" ","Cancel"]})]})]}),e.jsx("div",{children:e.jsxs(f,{className:"rounded",show:w,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[e.jsxs("div",{className:"d-flex flex-column py-4",children:[e.jsx("i",{className:"fa fa-exclamation-circle fa-5x mb-4",color:"red"}),e.jsx("p",{className:"text-center fs-6 mb-0",children:"ERROR"})]}),e.jsx(f.Body,{children:e.jsx("p",{className:"text-center",children:"Payment Name Already Exist!"})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"w-25 success-btn purpleBackground border-0 rounded text-light",onClick:()=>E(),children:"Ok"})})]})})]})]})})})})})}export{de as default};
