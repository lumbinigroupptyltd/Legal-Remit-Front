import{r as o,b as f,y as G,j as e}from"./index-CZLZpOaH.js";import"./PageHeader-6CScOhCz.js";import{D as x,r as H}from"./react-draft-wysiwyg-DGDLocOJ.js";import{C}from"./common.constants-BAKO8LyS.js";import{M}from"./ModalComponent-Can9sfzz.js";import{L as _}from"./Loader-BUXOLHKX.js";import{F as s}from"./Form-ExWjSL5Y.js";import{R as K}from"./Row-q1SNRrbp.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";const O={options:["inline","blockType","list","textAlign","history","fontFamily","colorPicker","emoji"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough"]},colorPicker:{className:void 0,component:void 0,popupClassName:void 0,colors:["rgb(97,189,109)","rgb(26,188,156)","rgb(84,172,210)","rgb(44,130,201)","rgb(147,101,184)","rgb(71,85,119)","rgb(204,204,204)","rgb(65,168,95)","rgb(0,168,133)","rgb(61,142,185)","rgb(41,105,176)","rgb(85,57,130)","rgb(40,50,78)","rgb(0,0,0)","rgb(247,218,100)","rgb(251,160,38)","rgb(235,107,86)","rgb(226,80,65)","rgb(163,143,132)","rgb(239,239,239)","rgb(255,255,255)","rgb(250,197,28)","rgb(243,121,52)","rgb(209,72,65)","rgb(184,49,47)","rgb(124,112,107)","rgb(209,213,216)"]},emoji:{className:void 0,component:void 0,popupClassName:void 0,emojis:["😀","😁","😂","😃","😉","😋","😎","😍","😗","🤗","🤔","😣","😫","😴","😌","🤓","😛","😜","😠","😇","😷","😈","👻","😺","😸","😹","😻","😼","😽","🙀","🙈","🙉","🙊","👼","👮","🕵","💂","👳","🎅","👸","👰","👲","🙍","🙇","🚶","🏃","💃","⛷","🏂","🏌","🏄","🚣","🏊","⛹","🏋","🚴","👫","💪","👈","👉","👉","👆","🖕","👇","🖖","🤘","🖐","👌","👍","👎","✊","👊","👏","🙌","🙏","🐵","🐶","🐇","🐥","🐸","🐌","🐛","🐜","🐝","🍉","🍄","🍔","🍤","🍨","🍪","🎂","🍰","🍾","🍷","🍸","🍺","🌍","🚑","⏰","🌙","🌝","🌞","⭐","🌟","🌠","🌨","🌩","⛄","🔥","🎄","🎈","🎉","🎊","🎁","🎗","🏀","🏈","🎲","🔇","🔈","📣","🔔","🎵","🎷","💰","🖊","📅","✅","❎","💯"]},list:{inDropdown:!0,options:["unordered","ordered"]},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],className:void 0,component:void 0,dropdownClassName:void 0},textAlign:{inDropdown:!0,options:["left","center","right","justify"]},link:{inDropdown:!1,showOpenOptionOnHover:!1,defaultTargetOption:"_blank"},history:{inDropdown:!1,options:["undo","redo"]}};function Ee(L){const[i,q]=o.useState(L.location.state),[n,v]=o.useState(""),[l,j]=o.useState(""),[V,k]=o.useState("");o.useState(!1);const[c,w]=o.useState(""),[d,S]=o.useState(""),[m,N]=o.useState(""),[T,D]=o.useState(!1),[F,A]=o.useState(!1),[P,W]=o.useState(!1),[g,R]=o.useState(""),[u,y]=o.useState(x.EditorState.createEmpty()),[p,E]=o.useState(!1);o.useState({title:"",location:"",slug:"",description:"",metatitle:"",metakeywords:"",metadescription:"",createdBy:"",updatedBy:""}),o.useEffect(()=>{i&&B()},[i]);const B=async()=>{try{const t=await f.post(C.BASE_URL+"/getcmsbyid",{id:i});if(t.data.status===!0){const a=t.data.data;v(a.title),j(a.slug),k(a.description),w(a.metatitle),S(a.metakeywords),N(a.metadescription),y(x.EditorState.createWithContent(x.ContentState.createFromBlockArray(x.convertFromHTML(a.description))))}}catch(t){console.error("Error fetching CMS details:",t)}};o.useRef("");const h=G(),I=t=>{y(t),R(t.getCurrentContent().getPlainText())},U=async t=>{t.preventDefault();try{if(i){const a=u.getCurrentContent().getPlainText();if(!n||!l||!(g||a)||!c||!d||!m)E(!0);else{const b={id:i,title:n,slug:l,description:g||a,metatitle:c,metakeywords:d,metadescription:m};await f.post(C.BASE_URL+"/updatecms",b).then(r=>{r.data.status==!0&&h("/CMS")}).catch(r=>console.log(r))}}else if(!n||!l||!u||!c||!d||!m)E(!0);else{const a=u.getCurrentContent().getPlainText(),b={title:n,slug:l,description:g||a,metatitle:c,metakeywords:d,metadescription:m};await f.post(C.BASE_URL+"/savecms",b).then(r=>{r.data.status==!0&&h("/CMS")}).catch(r=>console.log(r))}}catch(a){console.log(a)}};return e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[P==!0?e.jsx(_,{}):"",e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-black rounded-2",children:[e.jsx("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:"CMS"}),e.jsxs("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:[e.jsxs(s,{id:"notificationCheck",children:[e.jsx(K,{children:e.jsxs(s.Group,{className:"mb-3 row d-flex",controlId:"formBasicEmail",children:[e.jsxs("div",{className:"col-lg-6 pbSt",children:[e.jsx(s.Label,{children:"Page Name"}),e.jsx(s.Control,{type:"text",className:"required",value:n,onChange:t=>{v(t.target.value)}}),p&&!n&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Title"})]}),e.jsxs("div",{className:"col-lg-6",children:[e.jsx(s.Label,{children:"URL Slug"}),e.jsx(s.Control,{type:"text",className:"required",defaultValue:l,onChange:t=>j(t.target.value)}),p&&!l&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter URL Slug"})]})]})}),e.jsxs(s.Group,{children:[e.jsx(s.Label,{children:"Description"}),e.jsx(H.Editor,{editorState:u,wrapperClassName:"email-editor-wrapper",editorClassName:"email-editor-content",onEditorStateChange:I,toolbar:O}),p&&!g&&e.jsx("small",{className:"responsiveFontLarge  text-danger error_message ms-2 error",children:"Please Enter Description"})]}),e.jsxs("div",{className:"d-flex mt-3 mb-2 respoChildFooter",children:[e.jsxs(s.Group,{className:"mb-3 col-lg-6 ps-0",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(s.Label,{children:"Meta Title"}),e.jsx(s.Control,{as:"textarea",rows:3,value:c,onChange:t=>{w(t.target.value)}}),p&&!c&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Meta Title"})]}),e.jsxs(s.Group,{className:"mb-3 col-lg-6",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(s.Label,{children:"Meta Keywords"}),e.jsx(s.Control,{as:"textarea",rows:3,value:d,onChange:t=>{S(t.target.value)}}),p&&!d&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Meta Keywords"})]})]}),e.jsxs(s.Group,{className:"mb-3 pe-0",controlId:"exampleForm.ControlTextarea1",children:[e.jsx(s.Label,{children:"Meta Description"}),e.jsx(s.Control,{as:"textarea",rows:3,value:m,onChange:t=>{N(t.target.value)}}),p&&!m&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Meta Description"})]}),e.jsxs("div",{className:"row d-flex ms-auto mt-3",children:[e.jsx("a",{style:{background:"#AA2AE1"},className:"w-auto px-3 rounded btn text-white bolder",onClick:U,children:i?"Update":"Create"}),e.jsx("a",{className:"w-auto px-3 btn btn-default ms-3 text-black bolder border 2",onClick:()=>h("/CMS"),children:" Cancel"})]})]}),e.jsx(M,{show:F,title1:"Notification Template updated successfully",onHide:()=>A(!1)}),e.jsx(M,{show:T,title11:"Notification Template added successfully",onHide:()=>D(!1)})]})]})})]})})})}export{Ee as default};
