import{y as E,r,R as l,j as e,b as I}from"./index-CZLZpOaH.js";import{P as F}from"./PageHeader-6CScOhCz.js";import{C as m}from"./common.constants-BAKO8LyS.js";import{N as M}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{L as _}from"./Loader-BUXOLHKX.js";import{F as L}from"./Form-ExWjSL5Y.js";import{P as k}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";import"./TransitionGroupContext-QmIPOmoK.js";function se(){const h=E();r.useState([]),r.useState(!1),r.useState(!1);const[d,x]=l.useState(""),[g,u]=r.useState(!1),[o,f]=l.useState(m.DefaultPageSize),[j,p]=r.useState(!1),[n,c]=l.useState(1),[i,S]=l.useState(0),[v,N]=l.useState(0),[s,b]=r.useState([]);r.useState({id:"",haveCustomerId:null,customerId:"",userId:0,fullName:"",email:"",phone:"",reportingFraud:"",fraudSuspectCountryId:0,fraudSuspectCountry:"",fraudReportingCountryId:0,fraudReportingCountry:"",title:"",details:"",createdAt:"",updatedAt:"",deleted:!1});const C=async()=>{u(!0);const t={pageindex:n,pagesize:o,searchdata:d};await I.post(m.BASE_URL+"/getallcms",t).then(a=>{b(a.data.data),N(a.data.totalPageCount),S(a.data.recordCount),p(a.data.recordCount==0?d!="":!0)}).catch(a=>{console.log(a)}),u(!1)},y=t=>{const a=t.target.value;x(a),p(s.length>0||a.trim()!=="")},P=t=>{f(Number(t.target.value)),c(1)},R=(t,a)=>{a==n,c(a)},w=t=>{h({pathname:"/edit-CMS",state:t}),console.log("id",t)},A=()=>{h({pathname:"/edit-CMS"})};return r.useEffect(()=>{C()},[d,o,n]),e.jsxs(e.Fragment,{children:[g==!0?e.jsx(_,{}):"",e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(F,{HeaderText:"Content Management System ",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"body project_report",children:[e.jsxs("div",{className:"table-responsive",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[s&&s.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(L.Select,{name:"tbl_meeting_length",onChange:P,value:o,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:m.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[j&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsxs("label",{className:"font-weight-normal mb-0",children:["Search:"," "]})," ","  ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3 ",placeholder:"",onChange:y})]})," "," ",e.jsx("div",{className:"d-none ps-0 d-flex justify-content-end",children:e.jsxs("a",{onClick:()=>{A()},className:"btn btn-default purpleBackground text-white bolder pbSt",children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})})]})]}),e.jsx("div",{className:"row"}),s&&(s==null?void 0:s.length)>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 table-hover mt-3",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Page Name"}),e.jsx("th",{children:"URL Slug"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:s==null?void 0:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t==null?void 0:t.title}),e.jsx("td",{children:t==null?void 0:t.slug}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{onClick:()=>w(t.id),className:"btn btn-outline-secondary mr-1",children:e.jsx("i",{className:"fa fa-edit",title:"Edit"})})," "]})]}))})]})}):e.jsx(M,{})]}),s&&s.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:i>0?`Showing ${(n-1)*o+1} to ${n*o>i?i:n*o} of ${i} entries`:"No records Available"}),e.jsx(k,{count:v,className:"pbDowSt pbSt",page:n,onChange:R,color:"secondary",shape:"rounded"})]})]})})})})]})]})}export{se as default};
