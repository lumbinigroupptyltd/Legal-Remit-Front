import{y as te,r,j as e,b as o}from"./index-CZLZpOaH.js";import{P as se}from"./PageHeader-6CScOhCz.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{h as le}from"./moment-CAEcp8GN.js";import{M as re}from"./ModalComponent-Can9sfzz.js";import{C as i}from"./Chip-D__LQUMY.js";import{D as n}from"./Dropdown-Ch9aBKyy.js";import{B as T}from"./Button-CasUi-tz.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./ButtonBase-Dp3TaUiU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./SSRProvider-B1aayNdq.js";import"./NavContext-iw-sc-NQ.js";import"./mergeOptionsWithPopperConfig-B7-DhFAF.js";import"./createPopper-iTKh2FQm.js";import"./Button-wtvkehlk.js";import"./hook-BunR6YGu.js";import"./Anchor-BcSSV2GN.js";import"./NavbarContext-BEl9KYy_.js";import"./Button-BsmK-xwD.js";function Ie(h){const p=te(),[s,A]=r.useState({}),[a,R]=r.useState([]),[x,D]=r.useState([]),[N,j]=r.useState(""),[g,E]=r.useState([]),[v,_]=r.useState([]),[u,y]=r.useState(),[U,b]=r.useState(""),[O,C]=r.useState(""),[f,w]=r.useState(),[S,k]=r.useState(""),[z,M]=r.useState(""),[L,H]=r.useState(),[V,Y]=r.useState(!1),[B,W]=r.useState(""),F=(t,l)=>{j(l),C(t)},q=(t,l)=>{y(l),b(t)},G=(t,l)=>{w(l),M(t)},J=t=>{k(t.target.value)},K=async()=>{var t;try{const l={id:h.location.state.id},m=await o.post(c.NEW_BASE_URL+"/gettransactionbyid",l),d=m==null?void 0:m.data.data;C(d.partnerBankId),A(m.data.data),j(d.partnerBankName),y(d.transferPurpose),b(d.transferPurposeId),M(d.deliveryMethodId),w(d.deliveryMethodName),k(d.paymentNote),W(d.paymentMethod);const P=d.recipientId;H(P);const ae=await o.post(c.BASE_URL+"/getrecipientsbyid",{id:P});R((t=ae.data)==null?void 0:t.data)}catch(l){console.log(l,"error")}},Q=async()=>{try{const t={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await o.post(c.BASE_URL+"/getallpartnerbanks",t).then(l=>{D(l.data.data)})}catch(t){console.log(t)}},X=async()=>{try{const t={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await o.post(c.BASE_URL+"/getallpurposeoftransfer",t).then(l=>{E(l.data.data)})}catch(t){console.log(t)}},Z=async()=>{try{const t={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await o.post(c.BASE_URL+"/getalldeliverymethods",t).then(l=>{_(l.data.data)})}catch(t){console.log(t)}},$=()=>{p("/transaction-utility")},I=async()=>{let t={id:h.location.state.id,recipientId:L,partnerBankId:O,deliveryMethodId:z,transferPurposeId:U,paymentMethod:B,paymentNote:S};await o.post(c.NEW_BASE_URL+"/updatetransaction",t).then(l=>{l.data.status==!0&&Y(!0)}).catch(l=>{console.log(l)})};r.useEffect(()=>{K(),Q(),X(),Z()},[]);const ee=()=>{p("/transaction-utility")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(se,{HeaderText:"Transaction",Breadcrumb:[{name:"Transactions",navigate:""},{name:"Transactions",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Received At"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:le(s==null?void 0:s.createdAt).format("YYYY-MM-DD HH:MM:SS")})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sender Name"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.userName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sender Phone"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:"	+61482014000"})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiver"})}),e.jsxs(n,{children:[e.jsx(n.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 d-flex justify-content-between align-items-center rounded-4 bg-transparent dropdown-status1 text-start border",variant:"secondary",children:e.jsx("small",{children:(s==null?void 0:s.recipientName)==" "?(a==null?void 0:a.businessName)==""?a==null?void 0:a.fullName:a==null?void 0:a.businessName:s==null?void 0:s.recipientName})}),e.jsx(n.Menu,{className:"w-100",children:e.jsx(n.Item,{className:"border-bottom",children:e.jsxs("div",{className:"d-flex flex-column ",children:[e.jsxs("b",{className:"text-black",children:[(a==null?void 0:a.firstName)+" "+(a==null?void 0:a.lastName),a==null?void 0:a.businessName,(a==null?void 0:a.fullName)=="[]"?"":a==null?void 0:a.fullName]}),e.jsx("small",{children:a==null?void 0:a.phone}),e.jsx("small",{children:a==null?void 0:a.bankName}),e.jsx("small",{children:a==null?void 0:a.address})]})})})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sending Currency Code"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.sendingCurrencyCode})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiving Currency Code"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.recevingCurrencyCode})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sending Country"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.sendingCountryName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiving Country"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.recevingCountryName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Partner bank Assigned"}),e.jsxs(n,{children:[e.jsx(n.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:N||"Select an option"}),e.jsx(n.Menu,{className:"w-100",children:x&&x.map(t=>e.jsx(n.Item,{onClick:()=>F(t.id,t.name),children:t.name},t.id))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Amount"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Amount",value:s==null?void 0:s.amount,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Transfer Purpose"}),e.jsxs(n,{children:[e.jsx(n.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:u||"Select an option"}),e.jsx(n.Menu,{className:"w-100",children:g&&g.map(t=>e.jsx(n.Item,{onClick:()=>q(t.id,t.name),children:t.name},t.name))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Exchange Rate"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"	",value:s==null?void 0:s.exchangeRate})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Service Charge"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"	",value:s==null?void 0:s.serviceCharge})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Payment Method"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:B})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Delivery Method"}),e.jsxs(n,{children:[e.jsx(n.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:f||a.deliveryMethodName}),e.jsx(n.Menu,{className:"w-100",children:v&&v.map(t=>e.jsx(n.Item,{onClick:()=>G(t.id,t.deliveryTypeName),children:t.deliveryTypeName},t.deliveryTypeName))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Bank Deposit Account Number"}),e.jsx("input",{type:"text",className:"form-control",value:(a==null?void 0:a.bankAccNo)==null?s==null?void 0:s.bankAccNo:a==null?void 0:a.bankAccNo,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Bank Deposit Branch"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"bankBranch",value:a==null?void 0:a.bankBranch,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Status"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:s==null?void 0:s.transactionStatus})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Payment Note"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Payment Note",onChange:t=>J(t),defaultValue:S})]})]})}),e.jsxs("div",{className:"row d-flex justify-content-end mt-3 ",children:[e.jsx("div",{className:"col-lg-1",children:e.jsx(T,{className:"m-0 mt-3 purpleBackground",variant:"contained",onClick:I,children:"Update"})}),e.jsx("div",{className:"col-lg-1",children:e.jsx(T,{className:"m-0 mt-3 text-black border",variant:"outlined",onClick:$,children:"Close"})})]})]})})})]}),e.jsx(re,{show:V,title11:"Transaction Updated Successfully",onHide:ee})]})}export{Ie as default};
