import{r as n,R as c,y as T,j as e,b as f}from"./index-CZLZpOaH.js";import{h as b}from"./moment-CAEcp8GN.js";import{F as U}from"./Form-ExWjSL5Y.js";import{P as $}from"./PageHeader-6CScOhCz.js";import{C as d}from"./common.constants-BAKO8LyS.js";import{M as H}from"./ModalComponent-Can9sfzz.js";import{M as z}from"./ModalComponentPopup-D_u4dGYC.js";import{N as q}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{N as K}from"./NoRecord-YEWFTOK2.js";import{P as W}from"./Pagination-DBwceeB_.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./divWithClassName-BYsY4_Vt.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";const Ie=()=>{const[s,N]=n.useState([]),[S,p]=n.useState(!1),[v,y]=c.useState(0),[r,i]=c.useState(1),[o,C]=c.useState(d.DefaultPageSize),[l,x]=c.useState(""),[h,w]=c.useState(0),[P,m]=n.useState(!1),[M,E]=n.useState(0),u=T(),[A,j]=n.useState(!1),D=()=>{u("/create-payment-methods")},R=t=>{u("/create-payment-methods",t)},k=async t=>{m(!0),E(t)},_=()=>{m(!1)},B=async()=>{m(!1),await f.post(`${d.BASE_URL}/deletepaymentmethodbyid`,{id:M}).then(t=>{p(!0),g()}).catch(t=>{console.log(t)})},g=async()=>{var t={pageindex:r,pagesize:o,searchdata:l===""?"%%":l,sortparam:"create_at",sortorder:"DESC"};await f.post(d.BASE_URL+"/getallpaymentmethods",t).then(a=>{N(a.data.data),y(a.data.totalPageCount),w(a.data.recordCount),j(a.data.recordCount==0?l!="":!0)}).catch(a=>{console.log(a)})},Y=(t,a)=>{a==r?i(r):i(a)},I=t=>{C(Number(t.target.value)),i(1)},L=t=>{if(t.key==="Enter"){var a=document.getElementById("search").value;x("%"+a+"%"),i(1)}},F=t=>{const a=t.target.value;x(a),j(s.length>0||a.trim()!=="")};return n.useEffect(()=>{g()},[r,l,o]),e.jsx("div",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx($,{HeaderText:"Payment Methods",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("div",{className:"row g-0",children:e.jsx("div",{className:" d-flex justify-content-end"})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[s&&s.length>0&&e.jsxs("div",{className:"filter-row pb-2 pbSt",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(U.Select,{name:"tbl_meeting_length",onChange:I,value:o,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:d.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex align-items-center  respoChildFooter",children:[A&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsx("label",{className:"font-weight-normal mb-0",children:"Search: "}),"   ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3",placeholder:"",onKeyPress:L,onChange:F})]}),"   ",e.jsx("div",{className:"pbSt",children:e.jsxs("a",{className:"purpleBackground btn btn-default  text-white bolder",onClick:()=>{D()},children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})})]})]}),s&&s.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 ",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Logo"}),e.jsx("th",{children:"Enable"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Create"}),e.jsx("th",{children:"Update"}),e.jsx("th",{children:"Actions"})]})}),s.map((t,a)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:t==null?void 0:t.name}),e.jsx("td",{className:"Image_TableData",children:e.jsx("img",{src:t.logo!=""?d.BASE_URL+(t==null?void 0:t.logo):"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-image-182145777.jpg",className:"paymentMethodLogo"})}),e.jsx("td",{children:(t==null?void 0:t.enabled)==!0?"True":"False"}),e.jsx("td",{children:t==null?void 0:t.countryName}),e.jsx("td",{children:b(t==null?void 0:t.createdAt).format("DD/MM/YYYY")}),e.jsx("td",{children:b(t==null?void 0:t.updatedAt).format("DD/MM/YYYY")}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",onClick:()=>{R(t.id)},children:e.jsx("i",{className:"fa fa-edit ",title:"Edit"})})," "," ",e.jsx("a",{onClick:()=>{k(t==null?void 0:t.id)},className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})]})]})},a))]})}):l===""?e.jsx(K,{}):e.jsx(q,{}),s&&s.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2 pbSt",children:h>0?`Showing ${(r-1)*o+1} to ${r*o>h?h:r*o} of ${h} entries`:"No records Available"}),e.jsx(W,{count:Number(v),page:r,onChange:Y,color:"secondary",shape:"rounded"})]}),e.jsx(H,{show:S,title11:"Deleted successfully",onHide:()=>p(!1)}),e.jsx(z,{show:P,title1:"Are you sure want to delete this record ?",cancle:t=>_(),SavePr:()=>B()})]})})})})})]})})})})};export{Ie as default};
