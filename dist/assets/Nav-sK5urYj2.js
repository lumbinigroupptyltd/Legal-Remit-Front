import{d as h,a as q,q as B}from"./DataKey-COGXBUcQ.js";import{r as c,j as g}from"./index-CZLZpOaH.js";import{S as y,N as R,m as A,u as L}from"./NavContext-iw-sc-NQ.js";import{u as _}from"./useMergedRefs-CC2NoeT3.js";import{u as U}from"./useEventCallback-BAoW58St.js";import{B as k}from"./Button-wtvkehlk.js";const S=c.createContext(null),W=["as","active","eventKey"];function F(e,u){if(e==null)return{};var r={},s=Object.keys(e),n,t;for(t=0;t<s.length;t++)n=s[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}function M({key:e,onClick:u,active:r,id:s,role:n,disabled:t}){const v=c.useContext(y),d=c.useContext(R),x=c.useContext(S);let f=r;const o={role:n};if(d){!n&&d.role==="tablist"&&(o.role="tab");const a=d.getControllerId(e??null),m=d.getControlledId(e??null);o[h("event-key")]=e,o.id=a||s,f=r==null&&e!=null?d.activeKey===e:r,(f||!(x!=null&&x.unmountOnExit)&&!(x!=null&&x.mountOnEnter))&&(o["aria-controls"]=m)}return o.role==="tab"&&(o["aria-selected"]=f,f||(o.tabIndex=-1),t&&(o.tabIndex=-1,o["aria-disabled"]=!0)),o.onClick=U(a=>{t||(u==null||u(a),e!=null&&v&&!a.isPropagationStopped()&&v(e,a))}),[o,{isActive:f}]}const D=c.forwardRef((e,u)=>{let{as:r=k,active:s,eventKey:n}=e,t=F(e,W);const[v,d]=M(Object.assign({key:A(n,t.href),active:s},t));return v[h("active")]=d.isActive,g.jsx(r,Object.assign({},t,v,{ref:u}))});D.displayName="NavItem";const V=D,Y=["as","onSelect","activeKey","role","onKeyDown"];function z(e,u){if(e==null)return{};var r={},s=Object.keys(e),n,t;for(t=0;t<s.length;t++)n=s[t],!(u.indexOf(n)>=0)&&(r[n]=e[n]);return r}const w=()=>{},E=h("event-key"),P=c.forwardRef((e,u)=>{let{as:r="div",onSelect:s,activeKey:n,role:t,onKeyDown:v}=e,d=z(e,Y);const x=L(),f=c.useRef(!1),o=c.useContext(y),a=c.useContext(S);let m,K;a&&(t=t||"tablist",n=a.activeKey,m=a.getControlledId,K=a.getControllerId);const C=c.useRef(null),N=l=>{const i=C.current;if(!i)return null;const b=B(i,`[${E}]:not([aria-disabled=true])`),I=i.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const O=b.indexOf(I);if(O===-1)return null;let p=O+l;return p>=b.length&&(p=0),p<0&&(p=b.length-1),b[p]},j=(l,i)=>{l!=null&&(s==null||s(l,i),o==null||o(l,i))},T=l=>{if(v==null||v(l),!a)return;let i;switch(l.key){case"ArrowLeft":case"ArrowUp":i=N(-1);break;case"ArrowRight":case"ArrowDown":i=N(1);break;default:return}i&&(l.preventDefault(),j(i.dataset[q("EventKey")]||null,l),f.current=!0,x())};c.useEffect(()=>{if(C.current&&f.current){const l=C.current.querySelector(`[${E}][aria-selected=true]`);l==null||l.focus()}f.current=!1});const $=_(u,C);return g.jsx(y.Provider,{value:j,children:g.jsx(R.Provider,{value:{role:t,activeKey:A(n),getControlledId:m||w,getControllerId:K||w},children:g.jsx(r,Object.assign({},d,{onKeyDown:T,ref:$,role:t}))})})});P.displayName="Nav";const ee=Object.assign(P,{Item:V});export{ee as B,S as T,M as u};
