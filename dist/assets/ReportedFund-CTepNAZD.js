import{r as i,R as n,j as e,b as N}from"./index-CZLZpOaH.js";import{P as _}from"./PageHeader-6CScOhCz.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{d as k}from"./RemoveRedEye-CUxvqEwQ.js";import{h as g}from"./moment-CAEcp8GN.js";import{d as Y}from"./Close-Dzfaz63K.js";import{N as L}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{L as T}from"./Loader-BUXOLHKX.js";import{F as W}from"./Form-ExWjSL5Y.js";import{P as $}from"./Pagination-DBwceeB_.js";import{M as H}from"./Modal-Cgbm8Po3.js";import{B as z}from"./Box-Jn0s_-VR.js";import{B as O}from"./Button-CasUi-tz.js";import"./DashbordData-n50t2wKP.js";import"./createSvgIcon-BXb30exD.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./ownerWindow-B35kT-qP.js";import"./useId-BCOK0MJf.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./useControlled-CSwFU9cf.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./ButtonBase-Dp3TaUiU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./isHostComponent-D6l1mxjA.js";import"./Transition-yovTjeQN.js";import"./Portal-BnZs0see.js";function Se(){const[l,v]=i.useState([]);i.useState(!1);const[b,p]=i.useState(!1),[m,y]=n.useState(""),[S,u]=i.useState(!1),[d,C]=n.useState(c.DefaultPageSize),[r,h]=n.useState(1),[o,F]=n.useState(0),[R,w]=n.useState(0),[I,j]=i.useState(!1),[s,f]=i.useState({id:"",haveCustomerId:null,customerId:"",userId:0,fullName:"",email:"",phone:"",reportingFraud:"",fraudSuspectCountryId:0,fraudSuspectCountry:"",fraudReportingCountryId:0,fraudReportingCountry:"",title:"",details:"",createdAt:"",updatedAt:"",deleted:!1}),x=()=>{p(!1)},M=async t=>{await N.post(c.BASE_URL+"/getreportfraudbyid",{id:t}).then(a=>{a.data.status==!0&&(f(a.data.data),p(!0))}).catch(a=>console.log(a))},P=async()=>{u(!0);const t={pageindex:r,pagesize:d,searchdata:m};await N.post(c.BASE_URL+"/getallreportfraud",t).then(a=>{v(a.data.data),f(a.data.data[0]),w(a.data.totalPageCount),F(a.data.recordCount),j(a.data.recordCount==0?m!="":!0)}).catch(a=>{console.log(a)}),u(!1)},A=t=>{const a=t.target.value;y(a),j(l.length>0||a.trim()!=="")},B=t=>{C(Number(t.target.value)),h(1)},E=(t,a)=>{a==r,h(a)};return i.useEffect(()=>{P()},[m,d,r]),e.jsxs(e.Fragment,{children:[S==!0?e.jsx(T,{}):"",e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(_,{HeaderText:"Reported Fraud",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"body project_report",children:[e.jsxs("div",{className:"table-responsive",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[l&&l.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(W.Select,{name:"tbl_meeting_length",onChange:B,value:d,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:c.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[I&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsx("label",{className:"font-weight-normal mb-0",children:"Search: "}),"   ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3 ",placeholder:"",onChange:A})]}),"  "]})]}),e.jsx("div",{className:"row"}),l&&l.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 table-hover mt-3",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Customer Id"}),e.jsx("th",{children:"Who Is Reporting Fraud"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.fullName==""?"-":t.fullName}),e.jsx("td",{children:t.email==""?"-":t.email}),e.jsx("td",{children:t.phone==""?"-":t.phone}),e.jsx("td",{children:t.customerId==""?"-":t.customerId}),e.jsx("td",{children:t.reportingFraud}),e.jsx("td",{children:g(t.createdAt).format("YYYY-MM-DD")}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",title:"View",onClick:()=>M(t.id),children:e.jsx(k,{})})," "," "]})]}))})]})}):e.jsx(L,{})]}),l&&l.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:o>0?`Showing ${(r-1)*d+1} to ${r*d>o?o:r*d} of ${o} entries`:"No records Available"}),e.jsx($,{count:R,className:"pbDowSt pbSt",page:r,onChange:E,color:"secondary",shape:"rounded"})]})]})})})})]}),e.jsx(H,{open:b,onClose:x,children:e.jsxs(z,{className:"ReportFraudModal",sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",width:{xs:"90%",sm:"70%",md:"50%",lg:"50%"},paddingBottom:"20px"},children:[e.jsxs("div",{className:" border-bottom py-2 mb-4 d-flex justify-content-between",children:[e.jsx("h5",{children:"Details"})," ",e.jsx("div",{onClick:x,className:"pointer",children:e.jsx(Y,{})})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:"row viewModal",children:e.jsx("div",{className:"my-2",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Full Name:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.fullName})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Email:"}),e.jsx("div",{className:"ms-3",style:{overflowWrap:"break-word"},children:s==null?void 0:s.email})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Mobile:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.phone})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Customer Id:"}),e.jsx("div",{className:"ms-3",children:(s==null?void 0:s.customerId)==""?"-":s==null?void 0:s.customerId})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Who Is Reporting Fraud:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.reportingFraud})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Fraud Suspect Country:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.fraudSuspectCountry})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Fraud Reporting Country:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.fraudReportingCountry})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Title:"}),e.jsx("div",{className:"ms-3",children:s==null?void 0:s.title})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Details of matter:"}),e.jsx("div",{className:"ms-4 w-50",children:s==null?void 0:s.details})]}),e.jsxs("li",{className:"py-2 d-flex",children:[e.jsx("div",{className:"font-weight-normal w-50",children:"Date:"}),e.jsx("div",{className:"ms-3",children:g(s==null?void 0:s.createdAt).format("YYYY-MM-DD")})]})]})})})}),e.jsx("div",{className:"row d-flex justify-content-end mt-3 border-top",children:e.jsx("div",{className:"col-lg-3",children:e.jsx(O,{className:"m-0 mt-3",variant:"outlined",onClick:x,children:"Close"})})})]})})]})}export{Se as default};
