import{r as t,y as A,j as e,b as p}from"./index-CZLZpOaH.js";import{P as M}from"./PageHeader-6CScOhCz.js";import{C as h}from"./common.constants-BAKO8LyS.js";import{S as E}from"./react-select.esm-DWB7Uees.js";import{F as s}from"./Form-ExWjSL5Y.js";import{R as o}from"./Row-q1SNRrbp.js";import{C as G}from"./Col-BflThe67.js";import{B as j}from"./Button-BsmK-xwD.js";import"./DashbordData-n50t2wKP.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./assertThisInitialized-B9jnkVVz.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";import"./Button-wtvkehlk.js";function se(v){const[R,d]=t.useState(null),[B,y]=t.useState([]),[f,V]=t.useState(!1);t.useState(!1),t.useState("pay1"),t.useState("payinner1"),t.useState("payinners1");const[l,D]=t.useState(v.location.state),[i,C]=t.useState([]),[c,N]=t.useState(null);t.useState(),A(),t.useState({id:"",senderCountryId:"",recieverCountryIds:[]});const[m,g]=t.useState(void 0),[n,S]=t.useState([]),b=async r=>{try{const a=await p.get(h.BASE_URL+"/getcountries");if(a.data.status===!0){const P=a.data.data.map(x=>({value:x.id,label:x.name}));S(P)}else a.data.status}catch{}},w=r=>{console.log(r),d(r.value)},I=async()=>{try{const a=await p.post(`${h.BASE_URL}/getcountrysettingsbyid`,{id:l});d(a.data.data.senderCountryId),y(a.data.data.recieverCountryIds),N(a.data.data.senderCountryId),C(a.data.data.recieverCountryIds);var r=a.data.data.senderCountryId}catch(a){console.log(a)}};i.length>0&&l&&i.forEach(r=>{n.find(a=>a.value==r)}),t.useEffect(()=>{b(),l&&I()},[]);const L=()=>{m!==void 0&&g(void 0)};var u=[n[0]];return c!=null&&(u=n.find(r=>r.value==c)),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(M,{HeaderText:"Add Points",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"bg-white rounded-4 p-4",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 col-md-12 pr-0 pl-0",children:e.jsx("div",{className:"cardas",children:e.jsx("div",{className:"bodys",children:e.jsxs("div",{className:"px-3",children:[e.jsx("div",{className:"w-auto d-flex",children:e.jsx("div",{className:"alert alert-warning w-auto px-3",role:"alert",children:"This Calculation based on only US Dollar Currency."})}),e.jsxs(s,{children:[e.jsxs(o,{className:"my-4",children:[e.jsx("div",{className:"col-lg-6 ps-0",children:e.jsxs(s.Group,{as:G,controlId:"formGridState",children:[e.jsx(s.Label,{children:"Select Country"}),e.jsx(E,{isMulti:!0,defaultValue:u,menuIsOpen:m,name:"senderCountryId",options:n,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:w,onMenuOpen:L}),f&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please select a Sender."})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Currency code"}),e.jsx(s.Control,{type:"text",disabled:!0,placeholder:"USD"})]})})]}),e.jsxs(o,{className:"my-4",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs(s.Group,{className:"d-flex justify-content-between align-items-center",controlId:"formGridCity",children:[e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Amount"}),e.jsx(s.Control,{type:"text",placeholder:"Amount",inputMode:"numeric",pattern:"[0-9]*"})]}),e.jsx("div",{className:"px-5 mt-4",children:e.jsx("i",{class:"fa fa-angle-double-right text-black"})}),e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Converted Points"}),e.jsx(s.Control,{type:"text",placeholder:"Converted Points",inputMode:"numeric",pattern:"[0-9]*"})]})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs(s.Group,{className:"d-flex justify-content-between align-items-center",controlId:"formGridCity",children:[e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Amount"}),e.jsx(s.Control,{type:"text",placeholder:"Amount",inputMode:"numeric",pattern:"[0-9]*"})]}),e.jsx("div",{className:"px-5 mt-4",children:e.jsx("i",{class:"fa fa-angle-double-right text-black"})}),e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Reedem Points"}),e.jsx(s.Control,{type:"text",placeholder:"Reedem Points",inputMode:"numeric",pattern:"[0-9]*"})]})]})})]}),e.jsxs(o,{className:"my-4",children:[e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"Expiry Date"}),e.jsx(s.Control,{type:"date"})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"w-100",children:[e.jsx(s.Label,{children:"How much points reedem per transaction?"}),e.jsx(s.Control,{type:"text",placeholder:"Redeem Points per transaction",inputMode:"numeric",pattern:"[0-9]*"})]})})]})]}),e.jsxs("div",{className:"row d-flex justify-content-end mt-3 ",children:[e.jsx("div",{className:"col-lg-1",children:e.jsx(j,{className:"m-0 mt-3 purpleBackground text-white",variant:"contained",children:"Add"})}),e.jsx("div",{className:"col-lg-1",children:e.jsx(j,{className:"m-0 mt-3 text-black border",variant:"outlined",children:"Close"})})]})]})})})})})})]})})}export{se as default};
