import{y as V,r as s,j as e,b as j}from"./index-CZLZpOaH.js";import{M as F}from"./ModalComponent-Can9sfzz.js";import{O,N as H,C as R}from"./common.constants-BAKO8LyS.js";import{C as w}from"./Container-D9at3elR.js";import{R as n}from"./Row-q1SNRrbp.js";import{F as a}from"./Form-ExWjSL5Y.js";import{C as p}from"./Col-BflThe67.js";import{B as b}from"./Button-BsmK-xwD.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Button-wtvkehlk.js";function ve(L){const k=V();s.useState();const[l,f]=s.useState(1),[c,C]=s.useState(),[m,y]=s.useState(),[d,N]=s.useState(),[M,S]=s.useState(!1),[h,g]=s.useState(!1),[x,P]=s.useState(L.location.state),[i,A]=s.useState(1),[v,r]=s.useState("Amount"),I=t=>{switch(A(t.target.value),t.target.value==3&&f(365),t.target.value){case"1":r("Amount");break;case"2":r("Transaction");break;case"3":r("Number Of Active Recipients");break;default:r("");break}},D=()=>{if(l==null||c==null||m==null||d==null)return g(!0),0;const t={categoryId:i,days:l,lowRisk:c,mediumRisk:m,highRisk:d};j.post(R.BASE_URL+"/saveupdaterisksettings",t).then(async o=>{S(!0),o.data.status==!0&&k("/risk-management")}).catch(o=>console.log(o))},E=()=>{x&&j.post(R.BASE_URL+"/getrisksettingsbyid",{id:x}).then(t=>{f(t.data.data.days),C(t.data.data.lowRisk),y(t.data.data.mediumRisk),N(t.data.data.highRisk),A(t.data.data.categoryId),t.data.data.categoryId==1?r("Amount"):t.data.data.categoryId==2?r("Transaction"):r("Number Of Active Recipients")}).catch(t=>console.log(t))},B=()=>{const t={id:x,categoryId:i,days:l,lowRisk:c,mediumRisk:m,highRisk:d};j.post(R.BASE_URL+"/saveupdaterisksettings",t).then(async o=>{o.data.status==!0&&k("/risk-management")}).catch(o=>console.log(o))},G=()=>{k("/risk-management")};return s.useEffect(()=>{E()},[i]),e.jsx(e.Fragment,{children:e.jsx("section",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsxs(w,{className:"",children:[e.jsx("div",{className:"mainBoxService mt-3",children:e.jsxs("div",{className:"serviceHeader bg-white text-black rounded-0",children:[e.jsx("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:"Risk Management"}),e.jsx("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:e.jsxs(w,{className:"",children:[e.jsx(n,{className:"mb-4",children:e.jsxs(a.Group,{as:p,controlId:"formGridCity",defaultValue:i,onChange:I,children:[e.jsx(a.Label,{children:"Category of Risk"}),e.jsx(a.Select,{"aria-label":"Default select example",children:O.map(t=>e.jsx("option",{value:t.value,selected:i===t.value,children:t.name},t.value))})]})}),e.jsxs(n,{className:"mb-4",children:[e.jsxs(a.Group,{as:p,controlId:"formGridCity",children:[e.jsx(a.Label,{children:"Duration (Days)"}),e.jsx(a.Select,{"aria-label":"Default select example",value:i==="3"?365:l,disabled:i=="3",onChange:t=>f(t.target.value),children:H.map(t=>e.jsx("option",{value:t.value,children:t.name},t.value))})]}),h&&!l&&e.jsx("small",{className:"responsiveFontLarge text-danger",children:"Please Enter Duration "})]}),e.jsx(n,{className:"mb-4",children:e.jsxs(a.Group,{as:p,controlId:"formGridCity",children:[e.jsxs(a.Label,{children:["Low Risk ",i&&`(${v})`]}),e.jsx(a.Control,{type:"text",placeholder:"Low Risk Amount",value:c,onChange:t=>{const u=t.target.value.replace(/[^0-9]/g,"");C(u)},inputMode:"numeric",pattern:"[0-9]*"}),h&&!c&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Low Risk Amount "})]})}),e.jsx(n,{className:"mb-4",children:e.jsxs(a.Group,{as:p,controlId:"formGridCity",children:[e.jsxs(a.Label,{children:["Medium Risk ",i&&`(${v})`]}),e.jsx(a.Control,{type:"text",placeholder:"Medium Risk Amount",value:m,onChange:t=>{const u=t.target.value.replace(/[^0-9]/g,"");y(u)},inputMode:"numeric",pattern:"[0-9]*"}),h&&!m&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Medium Risk Amount "})]})}),e.jsx(n,{className:"mb-4",children:e.jsxs(a.Group,{as:p,controlId:"formGridCity",children:[e.jsxs(a.Label,{children:["High Risk ",i&&`(${v})`]}),e.jsx(a.Control,{type:"text",placeholder:"High Risk Amount",value:d,onChange:t=>{const u=t.target.value.replace(/[^0-9]/g,"");N(u)},inputMode:"numeric",pattern:"[0-9]*"}),h&&!d&&e.jsx("small",{className:"responsiveFontLarge  text-danger ",children:"Please Enter High Risk Amount "})]})}),e.jsxs(n,{className:"row d-flex m-auto  pt-3",children:[x?e.jsx(b,{size:"sm",className:"purpleBackground border-0 w-auto px-3",onClick:()=>B(),children:"Update"}):e.jsx(b,{size:"sm",className:"purpleBackground text-white border text-black w-auto px-3",onClick:()=>D(),children:"Create"}),e.jsx(b,{size:"sm",className:"bg-transparent  border text-black w-auto px-3",onClick:G,children:"Cancel"})]})]})})]})}),e.jsx(F,{show:M,title11:"Create Risk Management successfully",onHide:()=>S(!1)})]})})})}export{ve as default};
