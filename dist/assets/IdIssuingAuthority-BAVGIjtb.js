import{r as o,R as l,y as U,j as e,b as u}from"./index-CZLZpOaH.js";import{P as T}from"./PageHeader-6CScOhCz.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{M as z}from"./ModalComponent-Can9sfzz.js";import{M as G}from"./ModalComponentPopup-D_u4dGYC.js";import{F as W}from"./Form-ExWjSL5Y.js";import{N as X}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{N as q}from"./NoRecord-YEWFTOK2.js";import{P as J}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";function He(){const[K,h]=o.useState(!1),[a,N]=o.useState([]),[O,S]=o.useState([]),[y,x]=o.useState(!1),[b,p]=o.useState(!1),[v,C]=o.useState(0),[w,P]=l.useState(0),[r,d]=l.useState(1),[i,A]=l.useState(c.DefaultPageSize),[n,I]=l.useState(""),[m,R]=l.useState(0),[k,g]=o.useState(!1),_=async t=>{p(!0),C(t)},E=()=>{p(!1)},D=async t=>{try{const s=await u.get(c.BASE_URL+"/getallcountries");s.data.status===!0?S(s.data.data):s.data.status}catch{}},f=U(),B=()=>{window.scrollTo(0,0),f("/create-id-issuing-authority")},j=async()=>{h(!0);try{var t={pageindex:r,pagesize:i,searchdata:"%"+n+"%",sortparam:"create_at",sortorder:"ASC"};const s=await u.post(c.BASE_URL+"/getallissueauthority",t);P(s.data.totalPageCount),R(s.data.recordCount),g(s.data.recordCount==0?n!="":!0),N(s.data.data),h(!1)}catch(s){console.log(s),h(!1)}},F=(t,s)=>{s==r?d(r):d(s)},M=t=>{console.log(t.target.value),A(Number(t.target.value)),d(1)},$=async()=>{p(!1),await u.post(`${c.BASE_URL}/deleteissueauthority`,{id:v}).then(t=>{x(!0),j()}).catch(t=>{console.log(t,"err")})},H=t=>{f("/create-id-issuing-authority",t)},L=t=>{const s=t.target.value;I(s),g(a.length>0||s.trim()!==""),d(1)};return o.useEffect(()=>{j(),D()},[r,i,n]),e.jsx(e.Fragment,{children:e.jsx("div",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(T,{HeaderText:"Id Issuing Authority",Breadcrumb:[{name:"Id Issuing Authority",navigate:""},{name:"Id Issuing Authority",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("div",{className:"row d-flex g-0",children:e.jsx("div",{className:" d-flex justify-content-end"})}),e.jsx("div",{className:"row"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[a&&a.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(W.Select,{name:"tbl_meeting_length",onChange:M,value:i,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:c.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex pbSt align-items-center respoChildFooter ",children:[k&&e.jsxs("div",{className:"form-group d-flex align-items-center pbSt mb-0",children:[e.jsx("label",{className:"font-weight-normal mb-0",children:"Search: "}),"   ",e.jsx("input",{type:"search",className:"form-control p-0 px-3",placeholder:"",onChange:L})]}),"   ",a.length>=0&&n===""&&e.jsxs("a",{className:"btn btn-default respoAddNew purpleBackground text-white bolder",onClick:()=>{B()},children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})]})]}),a&&a.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 ",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Nationality"}),e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Id Issuing Authority"}),e.jsx("th",{children:"Actions"})]})}),a==null?void 0:a.map(t=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:t.nationality?t.nationality:"-"}),e.jsx("td",{className:"project-title",children:e.jsx("h6",{children:e.jsx("a",{children:t.countryName==null?"-":t.countryName})})}),e.jsx("td",{children:t.authorityName}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{onClick:()=>H(t.id),className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-edit ",title:"Edit"})})," "," ",e.jsx("a",{onClick:()=>{_(t.id)},className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})]})]})}))]})}):n===""?e.jsx(q,{}):e.jsx(X,{}),a&&a.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:m>0?`Showing ${(r-1)*i+1} to ${r*i>m?m:r*i} of ${m} entries`:"No records Available"}),e.jsx(J,{count:Number(w),page:r,className:"pbDowSt",onChange:F,color:"secondary",shape:"rounded"})]}),e.jsx(z,{show:y,title11:"Deleted successfully",onHide:()=>x(!1)}),e.jsx(G,{show:b,title1:"Are you sure want to delete this record ?",cancle:t=>E(),SavePr:()=>$()})]})})})})})]})})})}export{He as default};
