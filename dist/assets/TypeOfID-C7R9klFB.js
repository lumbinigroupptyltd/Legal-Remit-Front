import{r,R as i,y as X,j as e,b as f}from"./index-CZLZpOaH.js";import{P as q}from"./PageHeader-6CScOhCz.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{M as J}from"./ModalComponent-Can9sfzz.js";import{M as K}from"./ModalComponentPopup-D_u4dGYC.js";import{F as Q}from"./Form-ExWjSL5Y.js";import{N as V}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{N as Y}from"./NoRecord-YEWFTOK2.js";import{B as g}from"./Button-CasUi-tz.js";import{P as Z}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";import"./useControlled-CSwFU9cf.js";function We(){const[ee,p]=r.useState(!1),[a,y]=r.useState([]),[te,w]=r.useState([]),[C,j]=r.useState(!1),[P,h]=r.useState(!1),[k,A]=r.useState(0),[N,B]=r.useState("id"),[u,I]=r.useState("id"),[D,E]=i.useState(0),[o,d]=i.useState(1),[n,R]=i.useState(c.DefaultPageSize),[l,T]=i.useState(""),[m,_]=i.useState(0),[$,v]=r.useState(!1),F=async t=>{h(!0),A(t)},U=()=>{h(!1)},M=async t=>{try{const s=await f.get(c.BASE_URL+"/getallcountries");s.data.status===!0?w(s.data.data):s.data.status}catch{}},S=X(),H=()=>{window.scrollTo(0,0),S("/create-type-of-id")},b=async()=>{p(!0);try{var t={type:N,pageindex:o,pagesize:n,searchdata:"%"+l+"%",sortparam:"create_at",sortorder:"DESC"};const s=await f.post(c.BASE_URL+"/getallidtypes",t);E(s.data.totalPageCount),_(s.data.recordCount),y(s.data.data),v(s.data.recordCount==0?l!="":!0),p(!1)}catch(s){console.log(s),p(!1)}},L=(t,s)=>{s==o?d(o):d(s)},z=t=>{R(Number(t.target.value)),d(1)},G=async()=>{h(!1),await f.post(`${c.BASE_URL}/deleteidtypebyid`,{id:k}).then(t=>{j(!0),b()}).catch(t=>{console.log(t,"err")})},O=t=>{S("/create-type-of-id",t)},W=t=>{const s=t.target.value;T(s),v(a.length>0||s.trim()!==""),d(1)},x=t=>{I(t),B(t)};return r.useEffect(()=>{b(),M()},[l,o,n,N]),e.jsx(e.Fragment,{children:e.jsx("div",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(q,{HeaderText:"Type of ID",Breadcrumb:[{name:"Id Issuing Authority",navigate:""},{name:"Id Issuing Authority",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("div",{className:"row d-flex g-0",children:e.jsx("div",{className:" d-flex justify-content-end"})}),e.jsx("div",{className:"row"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter",children:[a&&a.length>0&&e.jsxs("div",{className:"d-flex",children:[e.jsxs("div",{className:"filter-row pb-2 pbSt",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(Q.Select,{name:"tbl_meeting_length",onChange:z,value:n,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:c.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),"  ",e.jsxs("div",{children:[e.jsx(g,{className:`m-0 mt-3 w-auto px-1 ${u==="id"?"purpleBackground text-white":""}`,variant:"outlined",onClick:()=>x("id"),children:"ID"}),"  ",e.jsx(g,{className:`m-0 mt-3 w-auto px-1 ${u==="business"?"purpleBackground text-white":""}`,variant:"outlined",onClick:()=>x("business"),children:"Business"}),"  ",e.jsx(g,{className:`m-0 mt-3 w-auto px-1 ${u===""?"purpleBackground text-white":""}`,variant:"outlined",onClick:()=>x(""),children:"All"})]})]}),e.jsxs("div",{className:"d-flex pbSt align-items-center respoChildFooter",children:[$&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsx("label",{className:"font-weight-normal mb-0",children:"Search: "}),"   ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3",placeholder:"",onChange:W})]}),"   ",a&&a.length>=0&&l===""&&e.jsxs("a",{className:"btn btn-default purpleBackground text-white bolder",onClick:()=>{H()},children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})]})]}),a&&a.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 ",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Country"}),e.jsx("th",{children:"Type of Id"}),e.jsx("th",{children:"Enable"}),e.jsx("th",{children:"Actions"})]})}),a.map(t=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"project-title",children:e.jsx("h6",{children:e.jsx("a",{children:t.countryName==""?"-":t.countryName})})}),e.jsx("td",{children:t.name}),e.jsx("td",{children:(t==null?void 0:t.enabled)==!0?"True":"False"}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{onClick:()=>O(t.id),className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-edit ",title:"Edit"})})," "," ",e.jsx("a",{onClick:()=>{F(t.id)},className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})]})]})}))]})}):l===""?e.jsx(Y,{}):e.jsx(V,{}),a&&a.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:m>0?`Showing ${(o-1)*n+1} to ${o*n>m?m:o*n} of ${m} entries`:"No records Available"}),e.jsx(Z,{count:Number(D),className:"pbDowSt",page:o,onChange:L,color:"secondary",shape:"rounded"})]}),e.jsx(J,{show:C,title11:"Deleted successfully",onHide:()=>j(!1)}),e.jsx(K,{show:P,title1:"Are you sure want to delete this record ?",cancle:t=>U(),SavePr:()=>G()})]})})})})})]})})})}export{We as default};
