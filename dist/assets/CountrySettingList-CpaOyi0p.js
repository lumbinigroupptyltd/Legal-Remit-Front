import{r as n,R as i,y as k,j as e,b as g}from"./index-CZLZpOaH.js";import{h as F}from"./moment-CAEcp8GN.js";import{P as I}from"./PageHeader-6CScOhCz.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{M as L}from"./ModalComponent-Can9sfzz.js";import{M as $}from"./ModalComponentPopup-D_u4dGYC.js";import{F as B}from"./Form-ExWjSL5Y.js";import{P as H}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";function Ae(){const[a,j]=n.useState([]),[f,h]=n.useState(!1),[S,C]=i.useState(0),[o,d]=i.useState(1),[r,y]=i.useState(c.DefaultPageSize),[p,Y]=i.useState(""),[l,N]=i.useState(0),[b,m]=n.useState(!1),[v,w]=n.useState(0),u=k(),P=()=>{u("/country-settings")},D=t=>{u("/country-settings",t)},A=async t=>{m(!0),w(t)},E=()=>{m(!1)},M=async()=>{m(!1),await g.post(`${c.BASE_URL}/deletecountrysettingbyid`,{id:v}).then(t=>{h(!0),x()}).catch(t=>{console.log(t)})},x=async()=>{var t={pageindex:o,pagesize:r,searchdata:p,sortparam:"create_at",sortorder:"DESC"};await g.post(c.BASE_URL+"/getallcountrysettings",t).then(s=>{j(s.data.data),C(s.data.totalPageCount),N(s.data.recordCount)}).catch(s=>{console.log(s)})},R=(t,s)=>{s==o?d(o):d(s)},_=t=>{y(Number(t.target.value)),d(1)};return n.useEffect(()=>{x()},[o,p,r]),e.jsx("div",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(I,{HeaderText:"Country Settings",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("div",{className:"row"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter",children:[a&&a.length>0&&e.jsxs("div",{className:"filter-row pb-2 pbSt",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center ",children:e.jsx(B.Select,{name:"tbl_meeting_length",onChange:_,value:r,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:c.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),a&&a.length>=0&&e.jsx("div",{className:"d-flex pbSt align-items-center respoChildFooter",children:e.jsxs("a",{className:"btn btn-default purpleBackground text-white bolder pbDowSt",onClick:()=>{P()},children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})})]}),e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 ",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"From Country"}),e.jsx("th",{children:"To Country"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Actions"})]})}),a&&a.length>0?a.map((t,s)=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:t==null?void 0:t.senderCountryName}),e.jsx("td",{children:t==null?void 0:t.recieverCountryNames.join(", ")}),e.jsx("td",{children:F(t==null?void 0:t.createdAt).format("DD/MM/YYYY")}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{className:"btn btn-outline-secondary mr-1",onClick:()=>{D(t.id)},children:e.jsx("i",{className:"fa fa-edit ",title:"Edit"})})," "," ",e.jsx("a",{onClick:()=>{A(t==null?void 0:t.id)},className:"btn btn-outline-secondary",children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})]})]})},s)):e.jsx("td",{colSpan:7,children:e.jsx("p",{className:"text-center",children:"Data Not Found"})})]})}),a&&a.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2 pbSt",children:l>0?`Showing ${(o-1)*r+1} to ${o*r>l?l:o*r} of ${l} entries`:"No records Available"}),e.jsx(H,{className:"",count:Number(S),page:o,onChange:R,color:"secondary",shape:"rounded"})]}),e.jsx(L,{show:f,title11:"Deleted Successfully",onHide:()=>h(!1)}),e.jsx($,{show:b,title1:"Are you sure want to delete this record  ?",cancle:t=>E(),SavePr:()=>M()})]})})})})})]})})})})}export{Ae as default};
