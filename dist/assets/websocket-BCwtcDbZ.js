import{i as l,j as m,b as g}from"./index-CZLZpOaH.js";import{r as h}from"./createSvgIcon-BXb30exD.js";import{S as A,s as f,m as E}from"./entry-CIwNgoQK.js";import{C as o}from"./common.constants-BAKO8LyS.js";const B="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='25'%20height='25'%20rx='12.5'%20fill='%23DC3545'/%3e%3cpath%20d='M7.75065%2018.0417C7.75065%2018.9125%208.46315%2019.625%209.33398%2019.625H15.6673C16.5382%2019.625%2017.2507%2018.9125%2017.2507%2018.0417V8.54167H7.75065V18.0417ZM10.2602%2012.9671C10.1122%2012.8191%2010.0291%2012.6183%2010.0291%2012.409C10.0291%2012.1996%2010.1122%2011.9989%2010.2602%2011.8508C10.4083%2011.7028%2010.609%2011.6197%2010.8184%2011.6197C11.0277%2011.6197%2011.2285%2011.7028%2011.3765%2011.8508L12.5007%2012.9671L13.6169%2011.8508C13.7649%2011.7028%2013.9657%2011.6197%2014.175%2011.6197C14.3844%2011.6197%2014.5851%2011.7028%2014.7332%2011.8508C14.8812%2011.9989%2014.9643%2012.1996%2014.9643%2012.409C14.9643%2012.6183%2014.8812%2012.8191%2014.7332%2012.9671L13.6169%2014.0833L14.7332%2015.1996C14.8064%2015.2729%2014.8646%2015.3599%2014.9043%2015.4557C14.9439%2015.5514%2014.9643%2015.6541%2014.9643%2015.7577C14.9643%2015.8614%2014.9439%2015.964%2014.9043%2016.0598C14.8646%2016.1555%2014.8064%2016.2425%2014.7332%2016.3158C14.6599%2016.3891%2014.5728%2016.4473%2014.4771%2016.4869C14.3813%2016.5266%2014.2787%2016.547%2014.175%2016.547C14.0714%2016.547%2013.9687%2016.5266%2013.873%2016.4869C13.7772%2016.4473%2013.6902%2016.3891%2013.6169%2016.3158L12.5007%2015.1996L11.3844%2016.3158C11.3111%2016.3891%2011.2241%2016.4473%2011.1283%2016.4869C11.0326%2016.5266%2010.9299%2016.547%2010.8263%2016.547C10.7226%2016.547%2010.62%2016.5266%2010.5242%2016.4869C10.4285%2016.4473%2010.3414%2016.3891%2010.2682%2016.3158C10.1949%2016.2425%2010.1367%2016.1555%2010.0971%2016.0598C10.0574%2015.964%2010.037%2015.8614%2010.037%2015.7577C10.037%2015.6541%2010.0574%2015.5514%2010.0971%2015.4557C10.1367%2015.3599%2010.1949%2015.2729%2010.2682%2015.1996L11.3844%2014.0833L10.2602%2012.9671ZM17.2507%206.16667H15.2715L14.7094%205.60458C14.5669%205.46208%2014.3611%205.375%2014.1552%205.375H10.8461C10.6402%205.375%2010.4344%205.46208%2010.2919%205.60458L9.72982%206.16667H7.75065C7.31523%206.16667%206.95898%206.52292%206.95898%206.95833C6.95898%207.39375%207.31523%207.75%207.75065%207.75H17.2507C17.6861%207.75%2018.0423%207.39375%2018.0423%206.95833C18.0423%206.52292%2017.6861%206.16667%2017.2507%206.16667Z'%20fill='white'/%3e%3c/svg%3e",Z="data:image/svg+xml,%3csvg%20width='52'%20height='52'%20viewBox='0%200%2052%2052'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.722222'%20y='0.722222'%20width='50.5556'%20height='50.5556'%20rx='25.2778'%20fill='%23CCECFF'/%3e%3cpath%20d='M34.4162%2026.5552V26.5552C33.8469%2026.2267%2033.1351%2026.3253%2032.6146%2026.7266C30.8408%2028.0941%2028.5225%2028.9246%2026.0009%2028.9246C23.4794%2028.9246%2021.161%2028.0941%2019.3873%2026.7266C18.8667%2026.3253%2018.155%2026.2267%2017.5857%2026.5552V26.5552C15.6173%2027.6953%2014.4453%2029.6285%2014.4453%2031.7204V37.4703C14.4453%2039.1061%2015.9381%2040.4445%2017.7627%2040.4445H34.239C36.0636%2040.4445%2037.5564%2039.1061%2037.5564%2037.4703V31.7204C37.5564%2029.6285%2036.3843%2027.6953%2034.4162%2026.5552Z'%20fill='%23AA2AE1'/%3e%3cpath%20d='M33.2257%2018.7778C33.2257%2022.7665%2029.9922%2026%2026.0035%2026C22.0148%2026%2018.7812%2022.7665%2018.7812%2018.7778C18.7812%2014.7891%2022.0148%2011.5556%2026.0035%2011.5556C29.9922%2011.5556%2033.2257%2014.7891%2033.2257%2018.7778Z'%20fill='%23AA2AE1'/%3e%3crect%20x='0.722222'%20y='0.722222'%20width='50.5556'%20height='50.5556'%20rx='25.2778'%20stroke='%23CCECFF'%20stroke-width='1.44444'/%3e%3c/svg%3e",x="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1185_5855)'%3e%3cpath%20d='M15%202.5C21.9037%202.5%2027.5%208.09625%2027.5%2015C27.5%2021.9037%2021.9037%2027.5%2015%2027.5C8.09625%2027.5%202.5%2021.9037%202.5%2015C2.5%208.09625%208.09625%202.5%2015%202.5ZM12.3487%2010.58C12.1243%2010.3534%2011.8218%2010.2212%2011.5031%2010.2104C11.1843%2010.1996%2010.8735%2010.311%2010.6343%2010.5218C10.395%2010.7327%2010.2454%2011.027%2010.216%2011.3445C10.1866%2011.6621%2010.2797%2011.9788%2010.4762%2012.23L10.5812%2012.3487L13.2312%2014.9987L10.5812%2017.6512C10.3547%2017.8757%2010.2225%2018.1782%2010.2116%2018.4969C10.2008%2018.8157%2010.3122%2019.1265%2010.5231%2019.3657C10.7339%2019.605%2011.0282%2019.7546%2011.3458%2019.784C11.6633%2019.8134%2011.9801%2019.7203%2012.2312%2019.5237L12.3487%2019.42L15%2016.7675L17.6512%2019.42C17.8757%2019.6466%2018.1782%2019.7788%2018.4969%2019.7896C18.8157%2019.8004%2019.1265%2019.689%2019.3657%2019.4782C19.605%2019.2673%2019.7546%2018.973%2019.784%2018.6555C19.8134%2018.3379%2019.7203%2018.0211%2019.5237%2017.77L19.42%2017.6512L16.7675%2015L19.42%2012.3487C19.6466%2012.1243%2019.7788%2011.8218%2019.7896%2011.5031C19.8004%2011.1843%2019.689%2010.8735%2019.4782%2010.6343C19.2673%2010.395%2018.973%2010.2454%2018.6555%2010.216C18.3379%2010.1866%2018.0211%2010.2797%2017.77%2010.4762L17.6512%2010.58L15%2013.2325L12.3487%2010.58Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1185_5855'%3e%3crect%20width='30'%20height='30'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";var d={},p=l;Object.defineProperty(d,"__esModule",{value:!0});var v=d.default=void 0,u=p(h()),w=m;v=d.default=(0,u.default)((0,w.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download");const L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAABkCAYAAAAVD2crAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgESURBVHgB7Z1dbBRVFMfPrMITtPUBYyiY8sR3RNIGxERCIw+aSEEwgEKgRcEnqFEoD6Uk0ifgweWlgqEtHwp+gCVRpLRpiYkGQqMNHy08sYGWmGBCP96IMtz/3L07d6czZdvemb3d3l8y3Znp7Gz2v+fcc+65d2Ys8sEumraIYlYZ2bQaW0RWAY177D72p5N9p0Yr8egEKcZK+6iiggKKTdpPtlVJuc09sp+UWom+BCkiJSQTsYisye1stYgmBo/JtpmYjzpJAY6QjiVak/8mWcS5C4jWridauowoL5/GPQP9RC2XiBqOsvUBsVeZmFzIWdMa2eqW1N5dX7BlN+Ukt28SffS+cjGtpEvfS+3JZREFIYgZI5rkBpbCmbkvIpi/kOjb86zJyhN7XiLLanOylVESY869PLU1EUQUKBaTWaQUYObNpwmFQjFjacl2LkTnkaJIzBgZlIhphBSMUUwjpMwYxDRCehmlmEZIP0YhphEyiBGKaYQcjhGIaYR8HhmKaYTMhAzENEJmir+Y551aLukqZNctovghonNniXoekDYMFXMWq57tx4p+QkK4HVt5hb5/kOjDNfqJWb7d3basLbBKy571sp3a+XsH0YyZlFUgYvknbIjjTb69cQ1/PfMzaUM/G5B8fbbYsllReLF+Ftl73xURYMzo2p9yNTv7oEqWZnB2gX5CBgnWc590Rj8hbc+2aB8xCqgx+gmJcU3ZKnUKNMOgn5CI1rIbd9+i8YB+QqIRR3ABXbdd65y3kHRGPyFXvsMTctB9k78iSrpJsJboJyRGMq8m052rSctcsox0Rz8hRY7WddN18aX6C/ki6QgmKny6xW0fjUWOEtkCMY1m3gLSHT2FRO4orHEcuDXQU8hrf7jrRsgx0HDMXb/8G40H9BMSSTgWgCBTvoMXeTVHPyExNVmwdgN3bbSXXXp3FfUTUuSOQLSPmEVcW6NXTdKDXkLKYzS4EEAUT5GkV3+ptYvrJeRP37vrEFIGuWThq9qKqY+QCDDCrZGEy8MNggo2loOCpYZi6tNFlIPMcHPZd35OtGcXF9Ppk9/m1XMnie9Pn3WMdRRBEP39fhiF6CEkRDiXdGtY47r1Q/+PJF1YrW3zyhCE3HfAZzAqCYJT80XWb99KlM/G8esaQutu6uHasqvCGiEAAs/unURvFfPX/gFeq/yODcv+2saWVi5KwzfBc99Rw/yApVA7WdR/wKru770dWuTPvpCyNQIIuHE1tz7kkb+08THtiu3Jy/mSBd68Am6NcNsdrFLUMkwPaK5khS0XKQyy79qyNWIGA5aRTFJAM7DkDaIjh4nqj/Ft/ACCftZuNkpdzsJwJkBkR0i4F4IL+tTC1ZDuwMJGw0yWFh06wq0bbSdmawBYLywVn4F1NBshBZ1op6wIAdHdQx8a67hiNazPxueJ8XCV50awW14iOg822U9Lo7FIr4CwDLSFQkR0AcP4AWGFEQ2ahR9s4GoIHuiVHD3BAwZ+yfhh/v8cuZA0XIuEWL1MtDNN6ZZxoJqLiX06zTIbA+EJ6Vgca0sOxj37D0kuvTv70wgVEY5ro/1DI+912fqjrkujXZQnbI5zwhHy8qWh1Zsfz/KaIli3IeeuDQ8v2GBWK9IELLDEKlZoQOUGUdvr7jlAOG0k3HZPJYvIM3ixYXCQFQ3yeZ83h9xZJhwhUUz4uoGnPihjIaCsfFf7iVBjIbyoPcOnHJbDmAuWFGGEVIQRUhFGSEUYIRVhhFSEEVIRRkhFGCEVYYRUhBFSEaEPfj18+JCamprS9k2dOpWKi4tpzpw5ZFnujacHWZWotbU17dg8VuiYPn36kGMFvb29dOHCBQqitLTUeW/YhC4kvmhdXZ3v/yBQfX09FRYWOtsQsqamJvDY2tpaKikpyfj8EB4/Wk4IKbNixQpWlsx3vnxHR4djrRUVFdTc3JzxsVVVVbRp0ybf80MwCCeDc0RB6ELmSTXIvXv3OpYF4I7V1dWOQNevXx9iaZs3b07tg5iVlZV0584dx/rgruI8AlhfPB4fsj8qQg82XgsRlJWV0ezZ/AYbEHI44PrHjx93fpSBgQE6deoU6UZWo3aQyEHHwt1Be3s76UbWZqOJtg9kEgzgusKC0Rz40dPTw8ba0m+KIQJZ2EQqZHd3t7NAiNOnTzv78EUzjapTpkxJrSPCyxYNAbdt25Z2PMS/ceMGRUGkQiJgyKDNUxkgvHmmX94ZFpEKKdwMwiEhR2QeSTt59+5d5xXv8b4PoiEgReXKXiIVEsn3aK0PriuCTFBTABFzNv1RAUREm4q2FZaH1Ek39LwVA3HxsCCoQETRDYTFrVq1inRDWyG9ERjAddE86EgkQo4kevodi8CC/jUWvyATZXQOIpLJ+CKBfl4ggBujPy2DFEkk4mM9vzKyNRk/0y8Ia/MWL1SeP0xMhVwRRkhFGCEVEUs+CpSj+V1DtcKjFSwykdqSb8xhCEa+r6XDf50xsi13CM65cZFNhmFA6iPf7YCo00r09TGLjDWmdiEvOrCPDAFARNzA5PwPqT1s31dYiVmJfxJiwwFX5McP8jcZXJzLXI4lL3NJcc9KPDqJFfkhvH+R8+yBJOjhlH/MalYLkrdmnYCP+gO4cTJumNzS7I0hzh3xxWNSpcdCv1JE1tM2ksU0BGA/ZjJ+Jj/wPJVHchd/shhPRCcTcYKAFbaT/cJi71PjfcsmjnXS/2gMXmNHLEp7mufEBHHkClPmpJX494rfAc8AEgT74NPlNIAAAAAASUVORK5CYII=";var s=null;let i=null;var C=!1;const P=a=>{i=a},U=a=>{s.send("/app/deletechatmessage",{},JSON.stringify(a))},W=()=>{if(C===!1){let a=new A(o.WebScoketURL);s=f.over(a),s.connect({},k,M);return}else i([],"JOIN")},k=async()=>{try{await s.subscribe("/chatroom/public",b),N()}catch(a){console.error("Error subscribing:",a)}},I=(a,e,t)=>{try{const c=new Date,n=Intl.DateTimeFormat().resolvedOptions().timeZone;var r=E(c).tz(n);return r.format("YYYY-MM-DD HH:mm")}catch(c){console.log("An error occurred:",c)}},N=()=>{var a={id:"",senderName:"",senderId:"",receiverName:"",receiverId:0,role:"",message:"Loading",status:"JOIN",date:I()};s.send("/app/message",{},JSON.stringify(a)),C=!0},V=a=>{if(s){s.send("/app/message",{},JSON.stringify(a));return}},H=async a=>{try{if(s){const e={method:"POST",url:o.ChatBaseUrl+"/uploadmedia",headers:{"Content-Type":"multipart/form-data"},data:a};await g(e).then(t=>{const r={id:t.data.data.id,senderId:t.data.data.senderId,receiverId:t.data.data.receiverId,senderName:t.data.data.senderName,receiverName:t.data.data.receiverName,role:t.data.data.role,message:t.data.data.message,isMedia:!1,media:t.data.data.media,status:"Upload",date:t.data.data.date,timestamp:t.data.data.timestamp,createdAt:t.data.data.createdAt,read:t.data.data.read,deleted:t.data.data.deleted};s.send("/app/message",{},JSON.stringify(r))})}}catch(e){console.log(e)}},j=async a=>{try{s&&s.send("/app/clearchat",{},a)}catch(e){console.log(e)}},b=async a=>{var e={};if(e=JSON.parse(a.body),(e==null?void 0:e.length)>0){if(e[0].status==="JOIN"||e[0].status==="MESSAGE"||e[0].status==="Upload")switch(e[0].status){case"JOIN":i([],e[0].status);break;case"MESSAGE":i(e,e[0].status),Y(e[0].message);break;case"Upload":i(e,e[0].status);break}}else if(e.status===!0)switch(e.message){case"Delete":i(e,e.message);break;case"Cleared":i([e],e.message);break}},M=a=>{console.log(a)};function Y(a){Notification.permission==="granted"?new Notification("WebSocket Notification",{body:a}):Notification.permission!=="denied"&&Notification.requestPermission().then(function(e){e==="granted"&&new Notification("WebSocket Notification",{body:a})})}export{j as C,U as O,L as P,H as U,x as a,B as b,W as c,V as d,v as e,P as s,Z as u};
