import{r as l,y as C,j as e,b as c}from"./index-CZLZpOaH.js";import{C as d}from"./common.constants-BAKO8LyS.js";import{F as s}from"./Form-ExWjSL5Y.js";import{R as x}from"./Row-q1SNRrbp.js";import{C as v}from"./Col-BflThe67.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";const k=u=>{const[r,_]=l.useState(u.location.state),m=C(),[g,h]=l.useState([]),[t,p]=l.useState({job_title:"",location:"",location_country:14,description:""}),b=async a=>{try{const o=await c.get(d.BASE_URL+"/getcountries");o.data.status===!0&&h(o.data.data)}catch{}},n=a=>{const{name:o,value:i}=a.target;o==="location"||o==="job_title"?(i===""||/^[A-Za-z\s\-']+$/.test(i))&&p({...t,[o]:i}):p({...t,[o]:i})},j=async()=>{const a=await c.post(d.BASE_URL+"/getcareersmanagementbyid",{id:r});a.data.status==!0&&p(a.data.data)},y=async()=>{if(r){const a={id:r,job_title:t.job_title,location:t.location,location_country:parseInt(t.location_country),description:t.description,createdBy:0,updatedBy:0};(await c.post(d.BASE_URL+"/editcareersmanagement",a)).data.status==!0&&m("/careermanagement")}else{const a={job_title:t.job_title,location:t.location,location_country:parseInt(t.location_country),description:t.description,createdBy:0,updatedBy:0};(await c.post(d.BASE_URL+"/savecareersmanagement",a)).data.status==!0&&m("/careermanagement")}};return l.useEffect(()=>{b(),r&&j()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-black rounded-2",children:[e.jsxs("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:[`${r?"Edit":"Add"}`,"  Career Management"]}),e.jsx("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:e.jsxs(s,{id:"careermangemntform",children:[e.jsx(x,{children:e.jsxs(s.Group,{className:"mb-3 row d-flex",controlId:"formGridEmail",children:[e.jsxs("div",{className:"col-lg-6",children:[e.jsx(s.Label,{children:"Job Title"}),e.jsx(s.Control,{type:"text",name:"job_title",placeholder:"Job Title",className:"required",value:t==null?void 0:t.job_title,onChange:n}),e.jsx("small",{className:"responsiveFontLarge  d-none text-danger error_message ms-2 error notentered",children:"Please enter Job Title"})]}),e.jsxs("div",{className:"col-lg-6",children:[e.jsx(s.Label,{children:"Country"}),e.jsx(s.Select,{onChange:n,name:"location_country",value:t==null?void 0:t.location_country,className:"required",children:g.map(a=>e.jsx("option",{value:a.id,children:a.name}))}),e.jsx("small",{className:"responsiveFontLarge  d-none text-danger error_message ms-2 error notentered",children:"Please select Country"})]})]})}),e.jsx(x,{children:e.jsxs(s.Group,{className:"mb-3 respoChildFooter",controlId:"formBasicEmail",children:[e.jsx(s.Label,{children:"Location"}),e.jsx(s.Control,{type:"text",name:"location",placeholder:"Location",className:"required",value:t==null?void 0:t.location,onChange:n}),e.jsx("small",{className:"responsiveFontLarge  d-none text-danger error_message ms-2 error notentered",children:"Please enter location "})]})}),e.jsx(x,{className:"mb-3 respoChildFooter",children:e.jsxs(s.Group,{as:v,className:"pbSt",controlId:"formGridPassword",children:[e.jsx(s.Label,{children:"Job Description"}),e.jsx(s.Control,{as:"textarea",placeholder:"Job Description",name:"description",rows:4,value:t==null?void 0:t.description,onChange:n,className:"required"}),e.jsx("small",{className:"responsiveFontLarge  d-none text-danger error_message ms-2 error notentered",children:"Please enter Job Description"})]})}),e.jsxs("div",{className:"row d-flex ms-auto mt-3",children:[e.jsx("a",{style:{background:"#AA2AE1"},className:"w-auto px-3 rounded btn text-white bolder",onClick:()=>y(),children:r?"Update":"Create"}),e.jsx("a",{className:"w-auto px-3 btn btn-default ms-3 text-black bolder border 2",onClick:()=>m("/careermanagement"),children:" Cancel"})]})]})})]})})})};export{k as default};
