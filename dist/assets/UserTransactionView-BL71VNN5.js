import{y as $,r as d,j as e,b as c}from"./index-CZLZpOaH.js";import{P as I}from"./PageHeader-6CScOhCz.js";import{C as m}from"./common.constants-BAKO8LyS.js";import{h as ee}from"./moment-CAEcp8GN.js";import{M as ae}from"./ModalComponentPopup-D_u4dGYC.js";import{C as i}from"./Chip-D__LQUMY.js";import{D as r}from"./Dropdown-Ch9aBKyy.js";import{B as T}from"./Button-CasUi-tz.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./ButtonBase-Dp3TaUiU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./SSRProvider-B1aayNdq.js";import"./NavContext-iw-sc-NQ.js";import"./mergeOptionsWithPopperConfig-B7-DhFAF.js";import"./createPopper-iTKh2FQm.js";import"./Button-wtvkehlk.js";import"./hook-BunR6YGu.js";import"./Anchor-BcSSV2GN.js";import"./NavbarContext-BEl9KYy_.js";import"./Button-BsmK-xwD.js";function Qe(p){$();const[a,A]=d.useState({}),[t,P]=d.useState([]),[x,R]=d.useState([]),[N,j]=d.useState(""),[v,D]=d.useState([]),[g,E]=d.useState([]),[u,y]=d.useState(),[b,U]=d.useState(),[C,_]=d.useState(),[w,f]=d.useState(),[S,k]=d.useState(""),[M,O]=d.useState(),[z,L]=d.useState(),[H,o]=d.useState(!1),V=(s,l)=>{j(l),_(s)},Y=(s,l)=>{y(l),U(s)},W=(s,l)=>{f(l),O(s)},F=s=>{k(s.target.value)},q=async()=>{var s,l;try{const h={id:p.location.state},n=await c.post(m.NEW_BASE_URL+"/gettransactionbyid",h);A(n.data.data),j(n==null?void 0:n.data.data.partnerBankName),y(n==null?void 0:n.data.data.transferPurpose),f((s=n.data.data)==null?void 0:s.deliveryMethodName),k(n==null?void 0:n.data.data.paymentNote);const B=n==null?void 0:n.data.data.recipientId;L(B);const Z=await c.post(m.BASE_URL+"/getrecipientsbyid",{id:B});P((l=Z.data)==null?void 0:l.data)}catch(h){console.log(h,"error")}},G=async()=>{try{const s={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await c.post(m.BASE_URL+"/getallpartnerbanks",s).then(l=>{R(l.data.data)})}catch(s){console.log(s)}},J=async()=>{try{const s={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await c.post(m.BASE_URL+"/getallpurposeoftransfer",s).then(l=>{D(l.data.data)})}catch(s){console.log(s)}},K=async()=>{try{const s={pageindex:1,pagesize:50,searchdata:"%%",sortparam:"create_at",sortorder:"ASC"};await c.post(m.BASE_URL+"/getalldeliverymethods",s).then(l=>{E(l.data.data)})}catch(s){console.log(s)}},Q=()=>{history.goBack()},X=async()=>{let s={id:p.location.state,recipientId:z,partnerBankId:C??"",deliveryMethodId:M??"",transferPurposeId:b??"",paymentMethod:a.paymentMethod,paymentNote:S||a.paymentNote};await c.post(m.NEW_BASE_URL+"/updatetransaction",s).then(l=>{l.data.status==!0&&o(!0)}).catch(l=>{console.log(l)})};return d.useEffect(()=>{q(),G(),J(),K()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(I,{HeaderText:"Transaction",Breadcrumb:[{name:"Transactions",navigate:""},{name:"Transactions",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsxs("div",{className:"card p-4",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Received At"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:ee(a==null?void 0:a.createdAt).format("YYYY-MM-DD HH:MM:SS")})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sender Name"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.userName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sender Phone"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:"	+61482014000"})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiver"})}),e.jsxs(r,{children:[e.jsx(r.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 d-flex justify-content-between align-items-center rounded-4 bg-transparent dropdown-status1 text-start border",variant:"secondary",children:e.jsx("small",{children:(a==null?void 0:a.recipientName)==" "?(t==null?void 0:t.businessName)==""?t==null?void 0:t.fullName:t==null?void 0:t.businessName:a==null?void 0:a.recipientName})}),e.jsx(r.Menu,{className:"w-100",children:e.jsx(r.Item,{className:"border-bottom",children:e.jsxs("div",{className:"d-flex flex-column ",children:[e.jsxs("b",{className:"text-black",children:[(t==null?void 0:t.firstName)+" "+(t==null?void 0:t.lastName),t==null?void 0:t.businessName,(t==null?void 0:t.fullName)=="[]"?"":t==null?void 0:t.fullName]}),e.jsx("small",{children:t==null?void 0:t.phone}),e.jsx("small",{children:t==null?void 0:t.bankName}),e.jsx("small",{children:t==null?void 0:t.address})]})})})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sending Currency Code"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.sendingCurrencyCode})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiving Currency Code"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.recevingCurrencyCode})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Sending Country"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.sendingCountryName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Receiving Country"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.recevingCountryName})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Partner bank Assigned"}),e.jsxs(r,{children:[e.jsx(r.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:N||"Select an option"}),e.jsx(r.Menu,{className:"w-100",children:x&&x.map(s=>e.jsx(r.Item,{onClick:()=>V(s.id,s.name),children:s.name},s.id))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Amount"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Amount",value:a==null?void 0:a.amount,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Transfer Purpose"}),e.jsxs(r,{children:[e.jsx(r.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:u||"Select an option"}),e.jsx(r.Menu,{className:"w-100",children:v&&v.map(s=>e.jsx(r.Item,{onClick:()=>Y(s.id,s.name),children:s.name},s.name))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Exchange Rate"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"	",value:a==null?void 0:a.exchangeRate})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Service Charge"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"	",value:a==null?void 0:a.serviceCharge})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Payment Method"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.paymentMethod})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Delivery Method"}),e.jsxs(r,{children:[e.jsx(r.Toggle,{style:{color:"#6b757d",fontSize:"1rem"},className:"m-0 rounded-4 bg-transparent dropdown-status1 text-start border d-flex justify-content-between align-items-center",variant:"secondary",children:w||t.deliveryMethodName}),e.jsx(r.Menu,{className:"w-100",children:g&&g.map(s=>e.jsx(r.Item,{onClick:()=>W(s.id,s.deliveryTypeName),children:s.deliveryTypeName},s.deliveryTypeName))})]})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Bank Deposit Account Number"}),e.jsx("input",{type:"text",className:"form-control",value:(t==null?void 0:t.bankAccNo)==null?a==null?void 0:a.bankAccNo:t==null?void 0:t.bankAccNo,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Bank Deposit Branch"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"bankBranch",value:t==null?void 0:t.bankBranch,readOnly:!0})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Status"}),e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:e.jsx(i,{variant:"outlined",className:"rounded-4 border w-100 text-start d-flex justify-content-lg-start mainChip    ps-0",label:e.jsx("div",{className:"dateChip ps-1",children:a==null?void 0:a.transactionStatus})})})]}),e.jsxs("div",{className:"col-lg-4",children:[e.jsx("div",{className:"font-weight-normal m-2 ms-0 me-0 labelCard",children:"Payment Note"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Payment Note",onChange:s=>F(s),defaultValue:S})]})]})}),e.jsxs("div",{className:"row d-flex justify-content-end mt-3 ",children:[e.jsx("div",{className:"col-lg-1",children:e.jsx(T,{className:"m-0 mt-3 purpleBackground",variant:"contained",onClick:X,children:"Update"})}),e.jsx("div",{className:"col-lg-1",children:e.jsx(T,{className:"m-0 mt-3 text-black border",variant:"outlined",onClick:Q,children:"Close"})})]})]})})})]}),e.jsx(ae,{show:H,title11:"Transaction Updated Successfully",cancle:s=>o(!1),SavePr:()=>o(!1)})]})}export{Qe as default};
