import{y as T,r as o,R as n,j as e,b}from"./index-CZLZpOaH.js";import{P as U}from"./PageHeader-6CScOhCz.js";import{C as d}from"./common.constants-BAKO8LyS.js";import{N as $}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{L as z}from"./Loader-BUXOLHKX.js";import{M as O}from"./ModalComponentPopup-D_u4dGYC.js";import{M as W}from"./ModalComponent-Can9sfzz.js";import{F as X}from"./Form-ExWjSL5Y.js";import{P as q}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";function ke(){const p=T(),[s,g]=o.useState([]),[c,N]=n.useState(""),[S,u]=o.useState(!1),[l,v]=n.useState(d.DefaultPageSize),[r,m]=n.useState(1),[i,C]=n.useState(0),[y,P]=n.useState(0),[w,D]=o.useState(0),[A,x]=o.useState(!1),[E,h]=o.useState(!1),[R,j]=o.useState(!1),f=async()=>{u(!0);const t={pageindex:r,pagesize:l,searchdata:c,sortparam:"created_at",sortorder:"DESC"};await b.post(d.BASE_URL+"/getallcontactus_details",t).then(a=>{g(a.data.data),P(a.data.totalPageCount),C(a.data.recordCount),j(a.data.recordCount==0?c!="":!0)}).catch(a=>{console.log(a)}),u(!1)},_=t=>{D(t),h(!0)},F=t=>{const a=t.target.value;N(a),j(s.length>0||a.trim()!=="")},L=t=>{v(Number(t.target.value)),m(1)},M=(t,a)=>{a==r,m(a)},k=t=>{p({pathname:"/editaboutus-CMS",state:t})},B=()=>{p({pathname:"/editaboutus-CMS"})},I=()=>{h(!1)};o.useEffect(()=>{f()},[c,l,r]);const H=async t=>{h(!1);try{(await b.post(d.BASE_URL+"/deletcontactusdetailsbyid",{id:w})).data.status==!0&&(x(!0),f())}catch(a){console.log(a)}};return e.jsxs(e.Fragment,{children:[S==!0?e.jsx(z,{}):"",e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(U,{HeaderText:"Contact Us ",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"body project_report",children:[e.jsxs("div",{className:"table-responsive",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[s&&s.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(X.Select,{name:"tbl_meeting_length",onChange:L,value:l,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:d.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[R&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsxs("label",{className:"font-weight-normal mb-0",children:["Search:"," "]})," ","  ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3 ",placeholder:"",onChange:F})]})," "," ",e.jsx("div",{className:" ps-0 d-flex justify-content-end",children:e.jsxs("a",{onClick:()=>{B()},className:"btn btn-default purpleBackground text-white bolder pbSt",children:[e.jsx("i",{className:"text-white fa fa-plus bolder"})," Add New"]})})]})]}),e.jsx("div",{className:"row"}),s&&s.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 table-hover mt-3",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Phone Number 1"}),e.jsx("th",{children:"Phone Number 2"}),e.jsx("th",{children:"Tollfree Number"}),e.jsx("th",{children:"Landline Number"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:s.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.location}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.address}),e.jsx("td",{children:t.phoneNumber1}),e.jsx("td",{children:t.phoneNumber2==""?"-":t.phoneNumber2}),e.jsx("td",{children:t.tollfreeNumber==""?"-":t.tollfreeNumber}),e.jsx("td",{children:t.landlineNumber==""?"-":t.landlineNumber}),e.jsxs("td",{className:"project-actions",children:[e.jsx("a",{onClick:()=>k(t.id),className:"btn btn-outline-secondary mr-1",children:e.jsx("i",{className:"fa fa-edit",title:"Edit"})})," ",e.jsx("a",{onClick:()=>{_(t.id)},className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})]})]}))})]})}):e.jsx($,{})]}),s&&s.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:i>0?`Showing ${(r-1)*l+1} to ${r*l>i?i:r*l} of ${i} entries`:"No records Available"}),e.jsx(q,{count:y,className:"pbDowSt pbSt",page:r,onChange:M,color:"secondary",shape:"rounded"})]})]})})})})]}),e.jsx(O,{show:E,title1:"Are you sure want to delete this record ?",cancle:t=>I(),SavePr:()=>H()}),e.jsx(W,{show:A,title11:"Deleted successfully",onHide:()=>x(!1)})]})}export{ke as default};
