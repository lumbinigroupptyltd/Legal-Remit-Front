import{y as z,r as n,j as e,b as l}from"./index-CZLZpOaH.js";import{S as H}from"./react-select.esm-DWB7Uees.js";import{C as i}from"./common.constants-BAKO8LyS.js";import{C as k}from"./Container-D9at3elR.js";import{F as c}from"./Form-ExWjSL5Y.js";import{R as d}from"./Row-q1SNRrbp.js";import{C}from"./Col-BflThe67.js";import"./defineProperty-DJACW-dl.js";import"./typeof-QjJsDpFa.js";import"./assertThisInitialized-B9jnkVVz.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";function de(B){const h=z(),[b,A]=n.useState([]),[w,Z]=n.useState();n.useState(!0);const[j,g]=n.useState(!1),[p,N]=n.useState(!1),[I,$]=n.useState(),[o,J]=n.useState(B.location.state),[t,m]=n.useState({id:"",name:"",countryId:[],enabled:""}),[S,E]=n.useState(void 0),[L,R]=n.useState([]),[x,f]=n.useState(!1),[y,v]=n.useState(!1),F=async a=>{try{const s=await l.get(i.BASE_URL+"/getcountries");s.data.status===!0&&A(s.data.data)}catch(s){console.log(s)}},M=a=>{const s=a.target.checked;N(s)},O=async()=>{if(o)try{const a={id:o},s=await l.post(i.BASE_URL+"/getidtypebyid",a);s.data.status===!0?(m(s.data.data),N(s.data.data.enabled),v(s.data.data.isBusiness),f(s.data.data.isId)):s.data.status==="error"&&console.log(s.data.message)}catch(a){console.log(a)}},_=()=>{f(!0),v(!1)},q=()=>{f(!1),v(!0)},D=()=>{h("/typeofid")},G=async()=>{if(o){const a=require("form-data");new a;const s={id:o,name:t.name,countryId:[t.countryId],enabled:p,isStatic:!1,isId:x,isBusiness:y,isAdditional:!1};l.post(i.BASE_URL+"/saveidtypes",s,{headers:{"Content-Type":"application/json"}}).then(r=>{r.data.statuscode==200&&h("/typeofid")}).catch(r=>{console.error(r)})}else if(t.name==null||t.name=="")g(!0);else if(t.countryId.length<0)g(!0);else{const a={name:t.name,countryId:t.countryId,enabled:p,isStatic:!1,isId:x,isBusiness:y,isAdditional:!1};l.post(i.BASE_URL+"/saveidtypes",a,{headers:{"Content-Type":"application/json"}}).then(s=>{s.data.statuscode==200&&h("/typeofid")}).catch(s=>{console.error(s)})}},P=a=>{const{name:s,value:r}=a.target;if(s=="name"){const u=a.target.value.replace(/[^A-Za-z\s]/g,"");m({...t,[s]:u})}else m({...t,[s]:r})},T=a=>{Array.isArray(a)&&m({...t,countryId:a.map(s=>s.value)})},U=()=>{S!==void 0&&E(void 0),V()},V=async a=>{try{const s=await l.get(i.BASE_URL+"/getallcountries");if(s.data.status===!0){const r=s.data.data.map(u=>({value:u.id,label:u.name}));R(r)}else s.data.status==="error"&&console.log(s.data.message)}catch(s){console.log(s)}};return n.useEffect(()=>{F(),O()},[w]),e.jsx(e.Fragment,{children:e.jsx("section",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsx(k,{children:e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-white rounded-2",children:[e.jsx("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:"Type of ID"}),e.jsx("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:e.jsx(k,{className:"",children:e.jsxs(c,{id:"paymentCheck",children:[e.jsx(d,{className:"mb-4",children:e.jsxs(c.Group,{as:C,controlId:"formGridState",children:[e.jsx(c.Label,{children:"Country"}),o?e.jsxs(c.Select,{value:t&&t.countryId?[t.countryId]:I!==void 0?[I]:"14",name:"countryId",disabled:o,className:"required",id:"{id}",children:[e.jsx("option",{value:"",children:"Select Country"}),b&&b.map((a,s)=>e.jsxs("option",{value:a.id,children:[a.emoji,"  ",a.name]},s))]}):e.jsx(H,{id:"countryId",isMulti:!0,menuIsOpen:S,name:"countryId",options:L,className:"basic-multi-select",classNamePrefix:"select",closeMenuOnSelect:!1,onChange:T,onMenuOpen:U}),j&&t.countryId.length==0&&e.jsx("small",{className:"responsiveFontLarge text-danger error_message ms-2 error checkboxError",children:"Please select country"})]})}),e.jsx(d,{className:"mb-4 d-flex",children:e.jsxs(c.Group,{as:C,className:"",controlId:"formGridCity",children:[e.jsx(c.Label,{children:"Type of Id"}),e.jsx("div",{className:"d-flex methodName1",children:e.jsxs(C,{className:"col-lg-12 px-0",children:[e.jsx(c.Control,{id:"name",name:"name",type:"text",placeholder:"",value:t==null?void 0:t.name,onChange:P,className:"required"}),j&&!t.name&&e.jsx("small",{className:"responsiveFontLarge  text-danger error_message ms-2 error checkboxError",children:"Please Enter Type of Id"})]})})]})}),e.jsx(d,{className:"mb-4",children:e.jsxs("div",{className:"mt-3 d-flex",children:[e.jsx("input",{type:"checkbox",id:"vehicle1",name:"isActive",value:"true",className:"main-radio requiredCheckBox",onChange:_,checked:x}),e.jsx("label",{for:"vehicle1",className:"ms-2",children:"ID Related"})]})}),e.jsx(d,{className:"mb-4",children:e.jsxs("div",{className:"mt-3 d-flex",children:[e.jsx("input",{type:"checkbox",id:"vehicle1",name:"isActive",value:"true",className:"main-radio requiredCheckBox",onChange:q,checked:y}),e.jsx("label",{for:"vehicle1",className:"ms-2",children:"Business Related"})]})}),e.jsx(d,{className:"mb-4",children:e.jsxs("div",{className:"mt-3 d-flex",children:[e.jsx("input",{type:"checkbox",id:"vehicle1",name:"isActive",value:"true",className:"main-radio requiredCheckBox",onChange:M,checked:p}),e.jsx("label",{for:"vehicle1",className:"ms-2",children:"Active"})]})}),e.jsxs("div",{className:"row d-flex m-auto pt-3 ",children:[e.jsxs("a",{className:"purpleBackground btn btn-default text-white bolder d-block w-auto",onClick:G,children:[" ",o?"Update":"Create"]}),"  ",e.jsx("a",{className:"btn btn-default ms-3 text-black bolder border 2 w-auto",onClick:D,children:" Cancel"})]})]})})})]})})})})})}export{de as default};
