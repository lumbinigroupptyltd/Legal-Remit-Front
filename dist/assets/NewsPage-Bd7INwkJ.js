import{r as s,R as l,j as e,b as O}from"./index-CZLZpOaH.js";import{P as H}from"./PageHeader-6CScOhCz.js";import{C as m}from"./common.constants-BAKO8LyS.js";import{d as j}from"./Close-Dzfaz63K.js";import{N as z}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{L as U}from"./Loader-BUXOLHKX.js";import{p as W}from"./index-DJ4Vaf5X.js";import{F as q}from"./Form-ExWjSL5Y.js";import{P as X}from"./Pagination-DBwceeB_.js";import{M as S}from"./Modal-Cgbm8Po3.js";import{B as b}from"./Box-Jn0s_-VR.js";import"./DashbordData-n50t2wKP.js";import"./createSvgIcon-BXb30exD.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./ownerWindow-B35kT-qP.js";import"./useId-BCOK0MJf.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./useControlled-CSwFU9cf.js";import"./ThemeProvider-BovkV_tw.js";import"./index-tz1zYP65.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./ButtonBase-Dp3TaUiU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./isHostComponent-D6l1mxjA.js";import"./Transition-yovTjeQN.js";import"./Portal-BnZs0see.js";function ye(){s.useState(0),useNavigate(),s.useState([]),s.useState(!1),s.useState(!1);const[d,v]=l.useState(""),[C,h]=s.useState(!1),[n,N]=l.useState(m.DefaultPageSize),[r,c]=l.useState(1),[i,w]=l.useState(0),[y,M]=l.useState(0);s.useState(!1),s.useState(!1),s.useState({id:"",haveCustomerId:null,customerId:"",userId:0,fullName:"",email:"",phone:"",reportingFraud:"",fraudSuspectCountryId:0,fraudSuspectCountry:"",fraudReportingCountryId:0,fraudReportingCountry:"",title:"",details:"",createdAt:"",updatedAt:"",deleted:!1});const[P,D]=s.useState(""),[R,p]=s.useState(!1),[F,A]=s.useState(""),[I,u]=s.useState(!1),[k,x]=s.useState(!1),[a,E]=s.useState([]);s.useState(window.innerWidth);const _=async()=>{try{h(!0);const t={pageindex:r,pagesize:n,searchdata:d,sortparam:"created_at",sortorder:"DESC"},o=await O.post(m.BASE_URL+"/getallnews",t);o.data.status==!0&&(E(o.data.data),M(o.data.totalPageCount),w(o.data.recordCount),x(o.data.recordCount==0?d!="":!0)),h(!1)}catch(t){console.log("Error fetching news articles:",t)}},B=t=>{D(t),p(!0)},g=()=>{p(!1)},L=t=>{A(t),u(!0)},f=()=>{u(!1)},Q=t=>{const o=t.target.value;v(o),x(a.length>0||o.trim()!=="")},T=t=>{N(Number(t.target.value)),c(1)},$=(t,o)=>{o==r,c(o)};return s.useEffect(()=>{_()},[d,n,r]),e.jsxs(e.Fragment,{children:[C==!0?e.jsx(U,{}):"",e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(H,{HeaderText:"News ",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"body project_report",children:[e.jsxs("div",{className:"table-responsive",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[a&&a.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(q.Select,{name:"tbl_meeting_length",onChange:T,value:n,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:m.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[k&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsxs("label",{className:"font-weight-normal mb-0",children:["Search:"," "]})," ","  ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3 ",placeholder:"",onChange:Q})]})," "," "]})]}),e.jsx("div",{className:"row"}),a&&(a==null?void 0:a.length)>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 table-hover mt-3",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Image"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Date"})]})}),e.jsx("tbody",{children:a==null?void 0:a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{src:t.image,alt:"demo",height:100,width:100})}),e.jsx("td",{children:t.title.length>30?e.jsxs(e.Fragment,{children:[`${t.title.slice(0,30)}...`,e.jsx("span",{onClick:()=>B(t.title),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:"Read More"})]}):t.title}),e.jsx("td",{children:t.description.length>30?e.jsxs(e.Fragment,{children:[`${t.description.slice(0,30)}...`,e.jsx("span",{onClick:()=>L(t.description),style:{cursor:"pointer",color:"blue",textDecoration:"underline"},children:"Read More"})]}):t.description}),e.jsx("td",{children:new Date(t==null?void 0:t.publishedAt).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}))})]})}):e.jsx(z,{})]}),a&&a.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:i>0?`Showing ${(r-1)*n+1} to ${r*n>i?i:r*n} of ${i} entries`:"No records Available"}),e.jsx(X,{count:y,className:"pbDowSt pbSt",page:r,onChange:$,color:"secondary",shape:"rounded"})]})]})})})})]}),e.jsx(S,{open:R,onClose:g,children:e.jsx(b,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"30px",width:{xs:"90%",sm:"70%",md:"50%",lg:"50%"},paddingBottom:"20px"},children:e.jsxs("div",{children:[e.jsxs("div",{className:"border-bottom py-2 mb-0 d-flex justify-content-between",children:[e.jsx("h5",{children:"Full Title"}),e.jsx("div",{onClick:g,className:"pointer",children:e.jsx(j,{})})]}),e.jsx("div",{className:"p-3 ps-0 ",children:P})]})})}),e.jsx(S,{open:I,onClose:f,children:e.jsx(b,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"30px",width:{xs:"90%",sm:"70%",md:"50%",lg:"50%"},paddingBottom:"20px"},children:e.jsxs("div",{children:[e.jsxs("div",{className:"border-bottom py-2 mb-0 d-flex justify-content-between",children:[e.jsx("h5",{children:"Full Description"}),e.jsx("div",{onClick:f,className:"pointer",children:e.jsx(j,{})})]}),e.jsx("div",{className:"p-3 ps-0 answerScrolling",children:W(F)})]})})})]})}export{ye as default};
