import{r as o,y as _,j as e,b as h}from"./index-CZLZpOaH.js";import"./PageHeader-6CScOhCz.js";import{D as m,r as U}from"./react-draft-wysiwyg-DGDLocOJ.js";import{C as x}from"./common.constants-BAKO8LyS.js";import{M as y}from"./ModalComponent-Can9sfzz.js";import{L as q}from"./Loader-BUXOLHKX.js";import{F as r}from"./Form-ExWjSL5Y.js";import{R as k}from"./Row-q1SNRrbp.js";import{F as J}from"./FormGroup-DdH-ssQh.js";import{F as E}from"./FormControlLabel-ClmJ5AOu.js";import{C as L}from"./Checkbox-Duf4e5Hv.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useFormControl-CzMDRFSC.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";import"./useControlled-CSwFU9cf.js";import"./Typography-BcWyJy-x.js";import"./styled-BOA1IAlI.js";const W={options:["inline","blockType","list","textAlign","history","fontFamily","colorPicker","emoji"],inline:{inDropdown:!1,options:["bold","italic","underline","strikethrough"]},colorPicker:{className:void 0,component:void 0,popupClassName:void 0,colors:["rgb(97,189,109)","rgb(26,188,156)","rgb(84,172,210)","rgb(44,130,201)","rgb(147,101,184)","rgb(71,85,119)","rgb(204,204,204)","rgb(65,168,95)","rgb(0,168,133)","rgb(61,142,185)","rgb(41,105,176)","rgb(85,57,130)","rgb(40,50,78)","rgb(0,0,0)","rgb(247,218,100)","rgb(251,160,38)","rgb(235,107,86)","rgb(226,80,65)","rgb(163,143,132)","rgb(239,239,239)","rgb(255,255,255)","rgb(250,197,28)","rgb(243,121,52)","rgb(209,72,65)","rgb(184,49,47)","rgb(124,112,107)","rgb(209,213,216)"]},emoji:{className:void 0,component:void 0,popupClassName:void 0,emojis:["ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ˜ƒ","ðŸ˜‰","ðŸ˜‹","ðŸ˜Ž","ðŸ˜","ðŸ˜—","ðŸ¤—","ðŸ¤”","ðŸ˜£","ðŸ˜«","ðŸ˜´","ðŸ˜Œ","ðŸ¤“","ðŸ˜›","ðŸ˜œ","ðŸ˜ ","ðŸ˜‡","ðŸ˜·","ðŸ˜ˆ","ðŸ‘»","ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ™ˆ","ðŸ™‰","ðŸ™Š","ðŸ‘¼","ðŸ‘®","ðŸ•µ","ðŸ’‚","ðŸ‘³","ðŸŽ…","ðŸ‘¸","ðŸ‘°","ðŸ‘²","ðŸ™","ðŸ™‡","ðŸš¶","ðŸƒ","ðŸ’ƒ","â›·","ðŸ‚","ðŸŒ","ðŸ„","ðŸš£","ðŸŠ","â›¹","ðŸ‹","ðŸš´","ðŸ‘«","ðŸ’ª","ðŸ‘ˆ","ðŸ‘‰","ðŸ‘‰","ðŸ‘†","ðŸ–•","ðŸ‘‡","ðŸ––","ðŸ¤˜","ðŸ–","ðŸ‘Œ","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ‘","ðŸ™Œ","ðŸ™","ðŸµ","ðŸ¶","ðŸ‡","ðŸ¥","ðŸ¸","ðŸŒ","ðŸ›","ðŸœ","ðŸ","ðŸ‰","ðŸ„","ðŸ”","ðŸ¤","ðŸ¨","ðŸª","ðŸŽ‚","ðŸ°","ðŸ¾","ðŸ·","ðŸ¸","ðŸº","ðŸŒ","ðŸš‘","â°","ðŸŒ™","ðŸŒ","ðŸŒž","â­","ðŸŒŸ","ðŸŒ ","ðŸŒ¨","ðŸŒ©","â›„","ðŸ”¥","ðŸŽ„","ðŸŽˆ","ðŸŽ‰","ðŸŽŠ","ðŸŽ","ðŸŽ—","ðŸ€","ðŸˆ","ðŸŽ²","ðŸ”‡","ðŸ”ˆ","ðŸ“£","ðŸ””","ðŸŽµ","ðŸŽ·","ðŸ’°","ðŸ–Š","ðŸ“…","âœ…","âŽ","ðŸ’¯"]},list:{inDropdown:!0,options:["unordered","ordered"]},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],className:void 0,component:void 0,dropdownClassName:void 0},textAlign:{inDropdown:!0,options:["left","center","right","justify"]},link:{inDropdown:!1,showOpenOptionOnHover:!1,defaultTargetOption:"_blank"},history:{inDropdown:!1,options:["undo","redo"]}};function Ue(f){const[i,j]=o.useState(""),[n,V]=o.useState(f.location.state),[z,A]=o.useState(null),[D,F]=o.useState(!1),[T,B]=o.useState(!1),[I,K]=o.useState(!1),[C,v]=o.useState(m.EditorState.createEmpty()),[l,P]=o.useState(""),[s,R]=o.useState(null),[d,w]=o.useState(!1),[c,N]=o.useState(!1),[p,S]=o.useState(),[g,G]=o.useState();o.useRef("");const b=_(),H=t=>{v(t),P(t.getCurrentContent().getPlainText())},M=async()=>{try{const t=await h.post(x.BASE_URL+"/getbloglistbyid",{id:n});if(t.data.status==!0){const a=t.data.data;j(a.title),v(m.EditorState.createWithContent(m.ContentState.createFromBlockArray(m.convertFromHTML(a.description)))),N(a.popular),w(a.enabled),G(a.image)}}catch(t){console.log(t)}},O=async()=>{if(n){const t=C.getCurrentContent().getPlainText();if(!i||!(s||g)||!(l||t))S(!0);else{const a=new FormData;a.append("data",JSON.stringify({id:n,title:i,description:l||t,enabled:d,popular:c})),a.append("image",s),await h.post(x.BASE_URL+"/updateblog",a).then(u=>{u.data.status==!0&&b("/blogsmangement")}).catch(u=>console.log(u))}}else if(!i||!s||!l)S(!0);else{const t=new FormData;t.append("data",JSON.stringify({title:i,description:l,enabled:d,popular:c})),t.append("image",s),await h.post(x.BASE_URL+"/saveblog",t).then(a=>{a.data.status==!0&&b("/blogsmangement")}).catch(a=>console.log(a))}};return o.useEffect(()=>{A(f.location.state),n&&M()},[n]),e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[I==!0?e.jsx(q,{}):"",e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-black rounded-2",children:[e.jsx("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:"Blogs"}),e.jsxs("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:[e.jsxs(r,{id:"notificationCheck",children:[e.jsx(k,{children:e.jsx(r.Group,{className:"mb-3 row d-flex",controlId:"formBasicEmail",children:e.jsxs("div",{className:"col-lg-12",children:[e.jsx(r.Label,{children:"Title"}),e.jsx(r.Control,{type:"text",placeholder:"Title",className:"required",value:i,onChange:t=>{j(t.target.value)}}),p&&!i&&e.jsx("small",{className:"text-danger error_message ms-2",children:" Please Enter Title"})]})})}),e.jsxs(r.Group,{children:[e.jsx(r.Label,{children:"Description"}),e.jsx(U.Editor,{editorState:C,wrapperClassName:"email-editor-wrapper",editorClassName:"email-editor-content",onEditorStateChange:H,toolbar:W}),p&&!l&&e.jsx("small",{className:"text-danger error_message ms-2",children:" Please Enter Description"})]}),(g||s)&&e.jsx("img",{src:s?URL.createObjectURL(s):g,alt:"",className:"paymentImage mb-3 mt-3"}),e.jsx(k,{className:"mb-0 mt-3",children:e.jsxs(r.Group,{controlId:"formGridCity",className:"border-0",children:[e.jsx(r.Label,{children:"Image"}),e.jsx(r.Control,{type:"file",className:"w-auto rounded-0 pt-2 border-0 required",accept:"image/*",onChange:t=>R(t.target.files[0])}),p&&!s&&e.jsx("small",{className:"text-danger error_message ms-2",children:" Please Select Image"})]})}),e.jsxs(J,{className:"mt-3",children:[e.jsx(E,{control:e.jsx(L,{checked:d,onChange:t=>w(t.target.checked)}),label:"Active"}),e.jsx(E,{control:e.jsx(L,{checked:c,onChange:t=>N(t.target.checked)}),label:"Is Popular"})]}),e.jsxs("div",{className:"row d-flex ms-auto mt-3",children:[e.jsx("a",{style:{background:"#AA2AE1"},className:"w-auto px-3 rounded btn text-white bolder",onClick:O,children:n?"Update":"Create"}),e.jsx("a",{className:"w-auto px-3 btn btn-default ms-3 text-black bolder border 2",onClick:()=>b("/blogsmangement"),children:" Cancel"})]})]}),e.jsx(y,{show:T,title1:"Notification Template updated successfully",onHide:()=>B(!1)}),e.jsx(y,{show:D,title11:"Notification Template added successfully",onHide:()=>F(!1)})]})]})})]})})})}export{Ue as default};
