import{r as t,j as e,b as g}from"./index-CZLZpOaH.js";import{P as re}from"./PageHeader-6CScOhCz.js";import{C as n}from"./common.constants-BAKO8LyS.js";import{L as ne}from"./Loader-BUXOLHKX.js";import{N as ie}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{h as ce}from"./moment-CAEcp8GN.js";import"./jodit-react-DkS4Tuh2.js";import{M as de}from"./ModalComponent-Can9sfzz.js";import{M as me}from"./ModalComponentPopup-D_u4dGYC.js";import{F as m}from"./Form-ExWjSL5Y.js";import{P as he}from"./Pagination-DBwceeB_.js";import{M as b}from"./Modal-Cgbm8Po3.js";import{B as N}from"./Box-Jn0s_-VR.js";import{B as h}from"./Button-CasUi-tz.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./useControlled-CSwFU9cf.js";import"./ButtonBase-Dp3TaUiU.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./assertThisInitialized-B9jnkVVz.js";import"./isHostComponent-D6l1mxjA.js";import"./ownerWindow-B35kT-qP.js";import"./Portal-BnZs0see.js";const cs=()=>{const[r,B]=t.useState(n.DefaultPageSize);t.useState(!1),t.useState(!1);const[l,i]=t.useState(1);t.useState([]),t.useState(!1);const[p,E]=t.useState(""),[F,c]=t.useState(!1),[d,A]=t.useState(0),[L,_]=t.useState(0),[o,I]=t.useState([]),[T,v]=t.useState(!1),[H,U]=t.useState(""),[Y,S]=t.useState(!1),[$,y]=t.useState(!1),[V,C]=t.useState(!1),[x,q]=t.useState("");t.useState(!1);const[w,z]=t.useState(!0),[M,G]=t.useState(""),[D,k]=t.useState(0),[W,j]=t.useState(!1),[X,P]=t.useState(!1),J=()=>{j(!1)},K=s=>{k(s),j(!0)},O=async()=>{j(!1);try{const s=new FormData;s.append("id",D),(await g.post(n.BASE_URL+"/deletecontactusdetails",s)).data.status===!0&&(P(!0),f())}catch(s){console.log(s)}},Q=s=>{q(s),S(!0)},Z=()=>{S(!1)},ee=s=>{k(s),y(!0)},se=async()=>{c(!0);const s=new FormData;s.append("contactusId",D),s.append("description",M),(await g.post(n.BASE_URL+"/replaycontactus",s)).data.status==!0&&(u(),f()),c(!1)},u=()=>{y(!1)},te=s=>{U(s),v(!0)},R=()=>{v(!1)},ae=(s,a)=>{a==l,i(a)},oe=s=>{B(Number(s.target.value)),i(1)},le=s=>{const a=s.target.value;E(a),C(o.length>0||a.trim()!==""),i(1)},f=async()=>{try{c(!0);const s={pageindex:l,pagesize:r,searchdata:p},a=await g.post(n.BASE_URL+"/getallcontactusdetails",s);a.data.status==!0&&(I(a.data.data),_(a.data.totalPageCount),A(a.data.recordCount),C(a.data.recordCount==0?p!="":!0)),c(!1)}catch(s){console.log(s)}};return t.useEffect(()=>{f()},[r,l,p]),e.jsxs(e.Fragment,{children:[F==!0?e.jsx(ne,{}):"",e.jsxs("div",{className:"container-fluid",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsx(re,{HeaderText:"Contact Us Lead",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[o&&o.length>0&&e.jsxs("div",{className:"filter-row pb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(m.Select,{name:"tbl_meeting_length",onChange:oe,value:r,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:n.show_rows.map(s=>e.jsx("option",{value:s,children:s}))})})]}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[V&&e.jsxs("div",{className:"form-group d-flex align-items-center mb-0",children:[e.jsxs("label",{className:"font-weight-normal mb-0",children:["Search:"," "]})," ","  ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 px-3 ",placeholder:"",onChange:le})]})," "," "]})]}),o&&o.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 table-hover mt-3",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{children:"Subject"}),e.jsx("th",{children:"Messages"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o&&o.map(s=>e.jsx(e.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.email}),e.jsx("td",{children:s.phone==""?"-":s.phone}),e.jsx("td",{children:s.subject}),e.jsxs("td",{children:[s.message.slice(0,30),s.message.length>30&&e.jsx("span",{className:"read-more-link text-primary pointer",onClick:()=>te(s.message),children:"... Read More"})]}),e.jsx("td",{children:ce(s.createdAt).format("YYYY-MM-DD HH:MM:SS")}),e.jsxs("td",{className:"project-actions",children:[s.isReply==!0&&e.jsx("a",{className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",onClick:()=>Q(s.replayDesc),children:e.jsx("i",{className:"fa fa-eye text-warning",title:"View Reply"})}),"   ",e.jsx("a",{className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",onClick:()=>ee(s.id),children:e.jsx("i",{className:"fa fa-reply",style:{color:"green"},title:"Reply"})}),"   ",e.jsx("a",{className:"bg-transparent  px-3 py-2 rounded-2 border-1 border pointer border-black",onClick:()=>K(s.id),children:e.jsx("i",{className:"fa fa-trash",style:{color:"red"},title:"Delete"})})," "]})]})}))})]})}):e.jsx(ie,{}),o&&o.length>0&&e.jsxs("div",{className:"d-flex justify-content-between pt-4 mr-4 align-items-center respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:d>0?`Showing ${(l-1)*r+1} to ${l*r>d?d:l*r} of ${d} entries`:"No records Available"}),e.jsx(he,{count:L,className:"pbDowSt pbSt",page:l,onChange:ae,color:"secondary",shape:"rounded"})]})]})})})})})]}),e.jsx(b,{open:Y,children:e.jsxs(N,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"30px",width:{xs:"90%",sm:"70%",md:"50%",lg:"40%"},paddingBottom:"20px"},children:[e.jsxs("div",{className:"border-bottom py-2 mb-3 d-flex justify-content-between",children:[e.jsx("h5",{children:"Replies"}),e.jsx("div",{onClick:Z,className:"pointer",children:e.jsx("i",{className:"fa fa-close text-black"})})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"my-2 mt-0 ",children:e.jsx("div",{className:"row ",children:e.jsx("div",{className:"my-2 mt-0 ",children:w?e.jsxs("table",{className:"table-responsive ",children:[e.jsx("thead",{className:"thead-light d-block",children:e.jsx("tr",{children:e.jsx("th",{children:"Message"})})}),e.jsx("tbody",{children:e.jsx("tr",{children:e.jsx("td",{className:"font-weight-bold",children:e.jsx("div",{className:"truncate-text",children:x||""})})})})]}):e.jsxs("div",{children:[e.jsx("span",{className:"d-block text-justify",children:x}),e.jsx("div",{className:"",children:e.jsx(h,{className:"m-0 mt-3 w-auto px-3 d-flex ms-auto ",variant:"outlined",onClick:()=>z(!w),children:"Cancel"})})]})})})})})})]})}),e.jsx(b,{open:$,children:e.jsxs(N,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"30px",width:{xs:"90%",sm:"70%",md:"50%",lg:"60%"},paddingBottom:"20px",height:"350px"},children:[e.jsxs("div",{className:"border-bottom py-2 mb-3 d-flex justify-content-between",children:[e.jsx("h5",{children:"Enquiry checking"}),e.jsx("div",{onClick:u,className:"pointer",children:e.jsx("i",{className:"fa fa-close text-black"})})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:"row viewModal",children:e.jsx("div",{className:"my-2 mt-0",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"my-2 mt-0",children:[e.jsx(m,{children:e.jsxs(m.Group,{controlId:"notes",className:"mt-3",children:[e.jsx(m.Label,{children:"Description"}),e.jsx("textarea",{type:"textarea",className:"form-control",rows:"",value:M,onChange:s=>G(s.target.value)})]})}),e.jsx("div",{className:"row d-flex justify-content-end mt-3 border-top",children:e.jsxs("div",{className:"d-flex justify-content-end",children:[e.jsx(h,{className:"m-0 mt-3 w-auto px-3",variant:"contained",color:"primary",onClick:se,children:"Send"}),"   ",e.jsx(h,{className:"m-0 mt-3 w-auto px-3",variant:"outlined",onClick:u,children:"Close"})]})})]})})})})})]})}),e.jsx(b,{open:T,children:e.jsxs(N,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"30px",width:{xs:"90%",sm:"70%",md:"50%",lg:"40%"},paddingBottom:"20px"},children:[e.jsxs("div",{className:"border-bottom py-2 mb-1 d-flex justify-content-between",children:[e.jsx("h5",{children:"Description"}),e.jsx("div",{onClick:R,className:"pointer",children:e.jsx("i",{className:"fa fa-close text-black"})})]}),e.jsx("div",{className:"",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"my-2",children:e.jsx("ul",{className:"list-unstyled mb-0",children:e.jsx("li",{className:"py-2 d-flex",children:e.jsx("div",{className:"",children:H})})})})})}),e.jsx("div",{className:"row d-flex justify-content-end mt-3 border-top",children:e.jsx("div",{className:"col-lg-3",children:e.jsx(h,{className:"m-0 mt-3",variant:"outlined",onClick:R,children:"Close"})})})]})}),e.jsx(de,{show:X,title11:"Deleted successfully",onHide:()=>P(!1)}),e.jsx(me,{show:W,title1:"Are you sure want to delete this record ?",cancle:s=>J(),SavePr:()=>O()})]})};export{cs as default};
