import{r as n,j as e,b8 as ps,b as te}from"./index-CZLZpOaH.js";import{s as gs,b as O,a as js,P as xe,c as vs,O as Ns,C as ys,d as Cs,U as bs,e as ne,u as Ye}from"./websocket-BCwtcDbZ.js";import{C as le}from"./common.constants-BAKO8LyS.js";import{P as Ss}from"./PageHeader-6CScOhCz.js";import{m as _}from"./entry-CIwNgoQK.js";import{L as Ms}from"./Loader-BUXOLHKX.js";import{u as J,a as U}from"./ThemeProvider-BovkV_tw.js";import{u as ks}from"./useIsomorphicEffect-Dy1EPX0O.js";import{u as Ds}from"./useEventCallback-BAoW58St.js";import{A as ws,a as Is,B as _s,b as Bs,g as Ts,M as B}from"./Modal-CsKgPfCY.js";import{F as Fs}from"./Fade-C3nPY4By.js";import{E as Re,c as As,a as Ys}from"./Transition-yovTjeQN.js";import{T as Es,b as Hs}from"./TransitionWrapper-hzIxZzZF.js";import{c as Rs}from"./NavbarContext-BEl9KYy_.js";import{d as Os}from"./divWithClassName-BYsY4_Vt.js";import Us from"./Conference-DKKWavxJ.js";import{C as $s}from"./Container-D9at3elR.js";import{B as F}from"./Button-BsmK-xwD.js";import{R as Ls}from"./Row-q1SNRrbp.js";import{F as Ee}from"./Form-ExWjSL5Y.js";import"./createSvgIcon-BXb30exD.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./ownerWindow-B35kT-qP.js";import"./useId-BCOK0MJf.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./useControlled-CSwFU9cf.js";import"./DashbordData-n50t2wKP.js";import"./moment-CAEcp8GN.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./TransitionGroupContext-QmIPOmoK.js";/* empty css                   */import"./Button-wtvkehlk.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";const pe=new WeakMap,He=(r,i)=>{if(!r||!i)return;const h=pe.get(i)||new Map;pe.set(i,h);let d=h.get(r);return d||(d=i.matchMedia(r),d.refCount=0,h.set(d.media,d)),d};function Ps(r,i=typeof window>"u"?void 0:window){const h=He(r,i),[d,p]=n.useState(()=>h?h.matches:!1);return ks(()=>{let o=He(r,i);if(!o)return p(!1);let S=pe.get(i);const m=()=>{p(o.matches)};return o.refCount++,o.addListener(m),m(),()=>{o.removeListener(m),o.refCount--,o.refCount<=0&&(S==null||S.delete(o.media)),o=void 0}},[r]),d}function Zs(r){const i=Object.keys(r);function h(m,u){return m===u?u:m?`${m} and ${u}`:u}function d(m){return i[Math.min(i.indexOf(m)+1,i.length-1)]}function p(m){const u=d(m);let x=r[u];return typeof x=="number"?x=`${x-.2}px`:x=`calc(${x} - 0.2px)`,`(max-width: ${x})`}function o(m){let u=r[m];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function S(m,u,x){let k;typeof m=="object"?(k=m,x=u,u=!0):(u=u||!0,k={[m]:u});let D=n.useMemo(()=>Object.entries(k).reduce((g,[M,b])=>((b==="up"||b===!0)&&(g=h(g,o(M))),(b==="down"||b===!0)&&(g=h(g,p(M))),g),""),[JSON.stringify(k)]);return Ps(D,x)}return S}const Gs=Zs({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Oe=n.forwardRef(({className:r,bsPrefix:i,as:h="div",...d},p)=>(i=J(i,"offcanvas-body"),e.jsx(h,{ref:p,className:U(r,i),...d})));Oe.displayName="OffcanvasBody";const Js={[Re]:"show",[Ys]:"show"},Ue=n.forwardRef(({bsPrefix:r,className:i,children:h,in:d=!1,mountOnEnter:p=!1,unmountOnExit:o=!1,appear:S=!1,...m},u)=>(r=J(r,"offcanvas"),e.jsx(Es,{ref:u,addEndListener:Hs,in:d,mountOnEnter:p,unmountOnExit:o,appear:S,...m,childRef:h.ref,children:(x,k)=>n.cloneElement(h,{...k,className:U(i,h.props.className,(x===Re||x===As)&&`${r}-toggling`,Js[x])})})));Ue.displayName="OffcanvasToggling";const $e=n.forwardRef(({bsPrefix:r,className:i,closeLabel:h="Close",closeButton:d=!1,...p},o)=>(r=J(r,"offcanvas-header"),e.jsx(ws,{ref:o,...p,className:U(i,r),closeLabel:h,closeButton:d})));$e.displayName="OffcanvasHeader";const Vs=Os("h5"),Le=n.forwardRef(({className:r,bsPrefix:i,as:h=Vs,...d},p)=>(i=J(i,"offcanvas-title"),e.jsx(h,{ref:p,className:U(r,i),...d})));Le.displayName="OffcanvasTitle";function Ks(r){return e.jsx(Ue,{...r})}function Qs(r){return e.jsx(Fs,{...r})}const Pe=n.forwardRef(({bsPrefix:r,className:i,children:h,"aria-labelledby":d,placement:p="start",responsive:o,show:S=!1,backdrop:m=!0,keyboard:u=!0,scroll:x=!1,onEscapeKeyDown:k,onShow:D,onHide:g,container:M,autoFocus:b=!0,enforceFocus:A=!0,restoreFocus:y=!0,restoreFocusOptions:V,onEntered:re,onExit:ie,onExiting:ge,onEnter:K,onEntering:ce,onExited:Q,backdropClassName:w,manager:z,renderStaticNode:j=!1,...$},E)=>{const H=n.useRef();r=J(r,"offcanvas");const{onToggle:L}=n.useContext(Rs)||{},[W,de]=n.useState(!1),P=Gs(o||"xs","up");n.useEffect(()=>{de(o?S&&!P:S)},[S,o,P]);const R=Ds(()=>{L==null||L(),g==null||g()}),X=n.useMemo(()=>({onHide:R}),[R]);function q(){return z||(x?(H.current||(H.current=new Bs({handleContainerOverflow:!1})),H.current):Ts())}const ee=(v,...G)=>{v&&(v.style.visibility="visible"),K==null||K(v,...G)},I=(v,...G)=>{v&&(v.style.visibility=""),Q==null||Q(...G)},Z=n.useCallback(v=>e.jsx("div",{...v,className:U(`${r}-backdrop`,w)}),[w,r]),se=v=>e.jsx("div",{...v,...$,className:U(i,o?`${r}-${o}`:r,`${r}-${p}`),"aria-labelledby":d,children:h});return e.jsxs(e.Fragment,{children:[!W&&(o||j)&&se({}),e.jsx(Is.Provider,{value:X,children:e.jsx(_s,{show:W,ref:E,backdrop:m,container:M,keyboard:u,autoFocus:b,enforceFocus:A&&!x,restoreFocus:y,restoreFocusOptions:V,onEscapeKeyDown:k,onShow:D,onHide:R,onEnter:ee,onEntering:ce,onEntered:re,onExit:ie,onExiting:ge,onExited:I,manager:q(),transition:Ks,backdropTransition:Qs,renderBackdrop:Z,renderDialog:se})})]})});Pe.displayName="Offcanvas";const zs=Object.assign(Pe,{Body:Oe,Header:$e,Title:Le});function Va(){const r=ps(),i=n.useRef(),[h,d]=n.useState(!1),[p,o]=n.useState(!1),[S,m]=n.useState(!1),[u,x]=n.useState(!1),[k,D]=n.useState(!1),[g,M]=n.useState([]),[b,A]=n.useState([]),[y,V]=n.useState(!1),[re,ie]=n.useState([]),[ge,K]=n.useState(""),[ce,Q]=n.useState(!1),[w,z]=n.useState(0),[j,$]=n.useState([]),[E,H]=n.useState([]),[L,W]=n.useState([]),[de,P]=n.useState(!1);var R=!1,X=!1,q=E.length,ee=0,I=null,Z=0;localStorage.getItem("IsCall");const se=async()=>{I=await te.get(le.ChatBaseUrl+"/getchatusers"),I.data.status==!0&&I.data.data.length&&(ye(I.data.data[0],!1),W(I.data.data),vs())},[v,G]=n.useState(null),[Ze,Ge]=n.useState(""),[je,Je]=n.useState(""),[ve,Ve]=n.useState(""),[Ne,oe]=n.useState(!1),Ke=async()=>{const s=localStorage.getItem("Id"),a=new FormData;a.append("senderId",s),a.append("receiverId",w);try{const t=await te.post(le.ChatBaseUrl+"/createcall",a);if(t.data&&t.data.status===!0){const c=t.data.data.meeting_url;if(c){const f=c.match(/\/meeting\/([^/]+)$/);if(f&&f[1]){m(!0);const C=f[1],l=async()=>await r.getAuthTokenByRoomCode({roomCode:C});try{const N=await l();await r.join({uName:"Admin",authToken:N}),m(!1),oe(!Ne)}catch(N){console.error(N)}}else console.log("Code not found in the URL")}else console.log("Meeting URL is missing")}else console.log("Invalid response data or status is not true")}catch(t){console.error("Error while fetching call data:",t)}},ye=(s,a)=>{G(s),Ge((s==null?void 0:s.fName)+" "+(s==null?void 0:s.lName)),Je(s==null?void 0:s.fName),Ve(s==null?void 0:s.lName),z(s==null?void 0:s.id),Z=s==null?void 0:s.id,a&&Ie(s)},Ce=async s=>{M([s]),D(!0),d(!0)},Qe=async()=>{M([]),D(!1),d(!1)},be=async s=>{A([s]),D(!0),o(!0)},ze={"[username]":Ze,"[firstname]":je,"[lastname]":ve},Se=async()=>{A([]),D(!1),o(!1)},We=()=>{V(!y),y||(M([]),A([]))},Me=async()=>{try{const s={ids:g,mediaIds:b,isDeleteByUser:localStorage.getItem("rollID")!==1,isDeleteByAdmin:localStorage.getItem("rollID")===1};Ns(s)}catch(s){console.log(s)}},ke=s=>{g.includes(s)?M(g.filter(a=>a!==s)):M([...g,s])},De=s=>{b.includes(s)?A(b.filter(a=>a!==s)):A([...b,s])},Xe=async()=>{try{const s=ae.reduce((c,f)=>f.id>c?f.id:c,0),a={userId:parseInt(v.id),clearChatIds:[s],isClearByUser:!1,isClearByAdmin:!0},t=JSON.stringify(a);await ys(t),x(!1),Y([])}catch(s){console.log(s)}},qe=s=>{var t;let a=(t=s.target)==null?void 0:t.value.split("&&");K(a[0]),fe(a[1])},es=async()=>{var s;try{const a={pageindex:1,pagesize:100,searchdata:"",sortparam:"created_at",sortorder:"DESC"},t=await te.post(le.BASE_URL+"/getallnotificationtemplates",a);t.data.status===!0&&ie((s=t.data)==null?void 0:s.data)}catch(a){console.log(a)}},ss=()=>{Q(!ce)},[me,fe]=n.useState(""),[ae,Y]=n.useState([]),[as,we]=n.useState([]),ts=s=>{const{value:a}=s.target;fe(a)},ns=s=>{s.key==="Enter"&&(s.preventDefault(),_e())},ls=s=>{var c;const a=as.filter((f,C)=>f.senderId==s.id||f.role==="admin"&&(f.receiverId==s.id?!0:f.receiverId=="")),t=a[(a==null?void 0:a.length)-1];return(t==null?void 0:t.message)!=""?t==null?void 0:t.message:((c=t==null?void 0:t.media)==null?void 0:c.length)>0?"image":""},rs=s=>{Array.from(s.target.files).map(a=>{$(t=>[...t,a])})};function is(s,a){$(j.filter(t=>t!==s)),URL.revokeObjectURL(s)}const cs=(s,a,t)=>{try{const f=new Date,C=Intl.DateTimeFormat().resolvedOptions().timeZone;var c=_(f).tz(C);return c.format("YYYY-MM-DD HH:mm")}catch(f){console.log("An error occurred:",f)}};function Ie(s=v){if(s!=null){X=!0,R=!0,ms(!0),Y([]),we([]);try{m(!0);const a=new FormData;a.append("id",s.id),a.append("isSender",!1),a.append("isShown",1);const t={method:"POST",url:le.ChatBaseUrl+"/getchatmessages",headers:{"Content-Type":"multipart/form-data"},data:a};te(t).then(function(c){var C;if(c.data.status===!0){we(c.data.data);var f=(C=c.data.data)==null?void 0:C.filter((l,N)=>l.senderId==s.id||l.role==="admin"&&(l.receiverId==s.id?!0:l.receiverId==""));Y(f),m(!1)}}).catch(function(c){console.log(c)})}catch(a){console.log(a)}}}const _e=async()=>{if(me!=""||j.length>0){const t=Math.floor(Date.now()/1e3);var s={id:"",senderName:localStorage.getItem("login_name"),senderId:localStorage.getItem("Id"),receiverName:je+" "+ve,receiverId:w,role:"admin",timestamp:t,isMedia:j.length>0,message:me,status:"MESSAGE",date:cs()};if(j.length>0){var a={id:"",timestamp:t,media:j};H(c=>[...c,a])}try{Cs(s),P(!0),fe(""),$([])}catch(c){console.error("Error sending message:",c)}}},[he,Be]=n.useState([]),[ue,Te]=n.useState([]),[Ws,ds]=n.useState(""),[os,ms]=n.useState(!1);n.useEffect(()=>{se(),gs((s,a)=>{if(a==="Delete")d(!1),D(!1),V(!1),Be(s.msgIds),Te(s.mediaIds);else{if(a==="Cleared")return ds(a);a==="JOIN"&&X===!1&&R===!1&&os==!1&&Ie(I.data.data?I.data.data[0]:v||null),s&&a==="Upload"?s.length>0&&(s[0].senderId==w||s[0].role==="admin"&&(s[0].receiverId==w||s[0].receiverId==""))&&s.map((f,C)=>Y(l=>[...l,f])):s&&s.map((t,c)=>{var f,C;if(E.length>0&&q>0&&s.length===1){const l=E.filter(N=>N.timestamp==t.timestamp);if((l==null?void 0:l.length)>0){if(ee===0){const N=new FormData;N.append("msgid",t.id);for(let T=0;T<((f=l[0].media)==null?void 0:f.length);T++)N.append("file",l[0].media[T]);de===!0&&((C=l[0].media)==null?void 0:C.length)>0&&(bs(N),P(!1),ee=1,q=0)}H([])}}else if(s[0].isMedia==!1&&s[0].isMedia==!1&&(t.senderId==Z||t.role==="admin"&&(t.receiverId==Z?!0:t.receiverId=="")))return Y(T=>[...T,t])})}})},[E]),n.useEffect(()=>{if(he.length>0){const s=ae.filter(a=>!he.includes(a.id));Y(s),Be([])}if(ue.length>0){const s=ae.map(a=>{const t={...a};return t.media=t.media.filter(c=>!ue.includes(c.id)),t});Y(s),o(!1),Te([])}},[he,ue]);const[fs,Fe]=n.useState(!1),Ae=()=>Fe(!1),hs=()=>Fe(!0);n.useEffect(()=>{(i.current||(j==null?void 0:j.length)>0)&&i.current.focus()},[i,j]),n.useEffect(()=>{es()},[]);const us=(s,a)=>{var f,C;const t=s.senderId==w,c=s.media;return t?e.jsxs(e.Fragment,{children:[s.media&&s.media!=[]&&c.map((l,N)=>e.jsxs("div",{className:"d-flex justify-content-end align-items-center",onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[e.jsxs("div",{children:[e.jsx("div",{className:"chat-inner d-flex py-2 justify-content-end mt-4 align-items-end flex-column",children:e.jsxs("div",{className:"inner-chat-sec-recieve d-flex flex-column px-4 rounded-5 mx-3",children:[e.jsx("small",{className:"responsiveFontLarge  purpleText bolder py-2",children:s.senderName}),e.jsx("div",{className:"d-flex py-2 flex-column justify-content-end align-items-end",children:l&&l.filePath.endsWith(".pdf")?e.jsx(e.Fragment,{children:e.jsx("div",{className:"my-2",children:e.jsx("div",{className:"content",children:e.jsxs("a",{href:l.filePath,className:"text-decoration-none",target:"_blank",children:[e.jsx("div",{className:"content-overlay"}),e.jsx("div",{className:"pdf-preview",children:e.jsx("img",{width:"100",alt:"",src:xe,className:"pdf-icon"})}),e.jsxs("div",{className:"content-details fadeIn-bottom fadeIn-left",children:[e.jsx(ne,{className:"download-icon text-white"})," "]})]})})})}):e.jsx("div",{className:"my-2",children:e.jsx("div",{className:"content",children:e.jsxs("a",{href:l.filePath,target:"_blank",children:[e.jsx("div",{className:"content-overlay"}),e.jsx("img",{className:"content-image",src:l.filePath,height:"100",width:"100",alt:""}),e.jsxs("div",{className:"content-details fadeIn-bottom fadeIn-left",children:[e.jsx(ne,{className:"download-icon text-white"})," "]})]})})})},N)]})}),e.jsxs("div",{className:"mx-3 d-flex mt-2 ms-4 justify-content-end align-items-end",children:[e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("hh:mm")})," ","|",e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("MMM D")})," ","|",e.jsx("img",{src:O,className:`mx-1 img-fluid pointer ${y?"d-none":"d-block"}`,height:20,width:20,onClick:T=>{be(l.id)},alt:""})]})]}),e.jsx("div",{children:e.jsx("input",{type:"checkbox",id:`checkbox-${a}`,name:"selectedItems",className:y?"d-block me-3":"d-none",checked:b.includes(l.id),onChange:()=>De(l.id)})})]})),s.message!=""?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"d-flex justify-content-end align-items-center",children:[e.jsxs("div",{className:"chat-inner d-flex py-2 justify-content-end mt-4 align-items-end flex-column",children:[e.jsxs("div",{className:"inner-chat-sec-recieve d-flex flex-column px-4 rounded-5 mx-3 py-2",children:[e.jsx("small",{className:"responsiveFontLarge  purpleText bolder py-2 fs-6",children:s.senderName}),e.jsx("small",{className:"responsiveFontLarge  text-black py-2",children:(f=s.message)!=null&&f.includes("[username]","[firstname]","[lastname]")?s.message.replace(/\[(username|firstname|lastname)]/g,l=>"Customer service executive"):s==null?void 0:s.message})]}),e.jsxs("div",{className:"mx-3 d-flex mt-2 ms-4",children:[e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("hh:mm")})," ","|",e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("MMM D")})," ","|",e.jsx("img",{src:O,className:`mx-1 img-fluid pointer ${y?"d-none":"d-block"}`,height:20,width:20,onClick:l=>{Ce(s.id),M([s.id])},alt:""})]})]}),e.jsx("div",{children:e.jsx("input",{type:"checkbox",id:`checkbox-${a}`,name:"selectedItems",className:y?"d-block me-3":"d-none",checked:g.includes(s.id),onChange:()=>ke(s.id)})})]})}):""]}):e.jsxs(e.Fragment,{children:[s.media&&s.media!=[]&&c.map((l,N)=>e.jsxs("div",{className:"d-flex justify-content-start align-items-center",children:[e.jsx("div",{children:e.jsx("input",{type:"checkbox",id:`checkbox-${a}`,name:"selectedItems",className:y?"d-block":"d-none",checked:b.includes(l.id),onChange:()=>De(l.id)})}),e.jsxs("div",{className:"chat-inner d-flex align-items-start my-3",children:[e.jsx("img",{src:Ye,className:"img-fluid",alt:""}),e.jsxs("div",{className:"d-flex flex-column",children:[e.jsxs("div",{className:"inner-chat-sec d-flex py-2 flex-column px-4 rounded-5 mx-3 ",children:[e.jsx("small",{className:"responsiveFontLarge  purpleText bolder py-2",children:s.senderName}),e.jsx("div",{className:"d-flex py-2 flex-column justify-content-start align-items-start",children:l&&l.filePath.endsWith(".pdf")?e.jsx("div",{className:"my-2",children:e.jsx("div",{className:"content",children:e.jsxs("a",{href:l.filePath,className:"text-decoration-none",target:"_blank",children:[e.jsx("div",{className:"content-overlay"}),e.jsx("div",{className:"pdf-preview",children:e.jsx("img",{width:"100",alt:"",src:xe,className:"pdf-icon"})}),e.jsxs("div",{className:"content-details fadeIn-bottom fadeIn-left",children:[e.jsx(ne,{className:"download-icon text-white"})," "]})]})})}):e.jsx("div",{className:"my-2",children:e.jsx("div",{className:"content",children:e.jsxs("a",{href:l.filePath,target:"_blank",children:[e.jsx("div",{className:"content-overlay"}),e.jsx("img",{className:"content-image",src:l.filePath,height:"100",width:"100",alt:""}),e.jsxs("div",{className:"content-details fadeIn-bottom fadeIn-left",children:[e.jsx(ne,{className:"download-icon text-white"})," "]})]})})})},N)]}),e.jsxs("div",{className:"mx-3 d-flex mt-2 ms-4",children:[e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("hh:mm")})," ","|",e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("MMM D")})," ","|",e.jsx("img",{src:O,className:`mx-1 img-fluid pointer ${y?"d-none":"d-block"}`,height:20,width:20,onClick:T=>{be(l.id)},alt:""})]})]})]})]})),s.message!=""?e.jsxs("div",{className:"d-flex justify-content-start align-items-center",children:[e.jsx("div",{className:y?"me-3":"",children:e.jsx("input",{type:"checkbox",id:`checkbox-${a}`,name:"selectedItems",className:y?"d-block":"d-none",checked:g.includes(s.id),onChange:()=>ke(s.id)})}),e.jsxs("div",{className:"chat-inner d-flex align-items-start my-3",children:[e.jsx("img",{src:Ye,className:"img-fluid",alt:""}),e.jsxs("div",{className:"d-flex flex-column ",children:[e.jsxs("div",{className:"inner-chat-sec d-flex py-2 flex-column px-4 rounded-5 mx-3 ",children:[e.jsx("small",{className:"responsiveFontLarge  purpleText bolder py-2",children:s.senderName}),e.jsx("small",{className:"responsiveFontLarge  text-black py-2 fs-6",children:(C=s.message)!=null&&C.includes("[username]","[firstname]","[lastname]")?s.message.replace(/\[(username|firstname|lastname)]/g,l=>ze[l]):s==null?void 0:s.message})]}),e.jsx("div",{className:"mx-3 d-flex mt-2 ms-4"}),e.jsxs("div",{className:"mx-3 d-flex mt-2 ms-4",children:[e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("hh:mm")})," ","|",e.jsx("small",{className:"mx-1",children:_(s.date,"YYYY-MM-DD HH:mm").format("MMM D")})," ","|",e.jsx("img",{src:O,className:"mx-1 img-fluid pointer",height:20,width:20,alt:"",onClick:l=>{Ce(s.id),M([s.id])}})]})]})]})]}):""]})},xs=()=>{oe(!1)};return e.jsx("div",{children:e.jsxs($s,{fluid:!0,className:"py-2 rounded-4",children:[S==!0?e.jsx(Ms,{}):"",e.jsx("div",{className:"moneySendRespo",children:e.jsx(Ss,{className:"",HeaderText:"Chat",Breadcrumb:[{name:"Service Charge",navigate:""},{name:"Service Charge",navigate:""}]})}),"   ",Ne?e.jsx(Us,{setShowConference:oe,temp:xs}):e.jsx("div",{className:"row mx-0",children:e.jsx("div",{className:"col-lg-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"body project_report p-0",children:[e.jsxs("div",{className:"row mx-0 ",children:[e.jsxs("div",{className:"col-lg-5 py-2 chatSectionList border-end",children:[e.jsxs("div",{className:"messages-page__header mb-0 px-4 pt-3 pb-3",children:[e.jsx("span",{className:"purpleText fs-5 messages-page__title",children:"Chats"}),e.jsx("div",{className:"",children:e.jsxs("a",{href:"#",className:"notification",children:[e.jsx("span",{className:"text-white",children:e.jsx("i",{className:"fa fa-envelope"})}),e.jsx("span",{className:"badge",children:"1"})]})})]}),e.jsx("div",{className:"messages-page__search mb-0 px-3 pb-3",children:e.jsxs("div",{className:"custom-form__search-wrapper",children:[e.jsx("input",{type:"Search",className:"form-control",placeholder:"Search User",autocomplete:"off"}),e.jsx("button",{type:"submit",className:"custom-form__search-submit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon svg-icon--search",viewBox:"0 0 46.6 46.6",children:e.jsx("path",{d:"M46.1,43.2l-9-8.9a20.9,20.9,0,1,0-2.8,2.8l8.9,9a1.9,1.9,0,0,0,1.4.5,2,2,0,0,0,1.5-.5A2.3,2.3,0,0,0,46.1,43.2ZM4,21a17,17,0,1,1,33.9,0A17.1,17.1,0,0,1,33,32.9h-.1A17,17,0,0,1,4,21Z",fill:"#f68b3c"})})})]})}),e.jsx("ul",{className:"messages-page__list pb-5 px-1 px-md-3 ScrollChatScreen",children:L&&L.map(s=>e.jsx("li",{className:s.id==w?"messaging-member messaging-member--new messaging-member--online messaging-member--active":"messaging-member messaging-member--new messaging-member--online",onClick:()=>ye(s,!0),children:e.jsxs("div",{className:"messaging-member__wrapper",children:[e.jsx("div",{className:"messaging-member__avatar d-none"}),e.jsx("div",{className:"d-flex justify-content-between py-3",children:e.jsx("span",{className:"messaging-member__name",children:s.fName+" "+s.lName})}),e.jsx("span",{className:"messaging-member__message mt-2",children:ls(s)})]})}))})]}),e.jsxs("div",{className:"col-lg-7 px-0 py-2",children:[e.jsx("div",{className:"d-flex justify-content-start d-lg-none",children:e.jsx("button",{className:"w-auto border-0 btn btn-default",onClick:hs,children:e.jsx("i",{className:"fa fa-bars"})})}),e.jsxs("div",{className:"d-flex align-items-center respoChildFooter",children:[e.jsx(zs,{show:fs,onHide:Ae,children:e.jsxs("div",{className:"py-2 border-end",children:[e.jsxs("div",{className:"messages-page__header mb-0 px-4 pt-3 pb-3",children:[e.jsx("span",{className:"purpleText messages-page__title",children:"Chats"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("a",{href:"#",className:"notification",children:[e.jsx("span",{className:"text-white",children:e.jsx("i",{className:"fa fa-envelope"})}),e.jsx("span",{className:"badge",children:"1"})]}),e.jsx("div",{className:"d-lg-none ms-4",onClick:Ae,children:e.jsx("i",{className:"fa fa-close"})})]})]}),e.jsx("div",{className:"messages-page__search mb-0 px-3 pb-3",children:e.jsxs("div",{className:"custom-form__search-wrapper",children:[e.jsx("input",{type:"Search",className:"form-control",placeholder:"Search User",autocomplete:"off"}),e.jsx("button",{type:"submit",className:"custom-form__search-submit",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"svg-icon svg-icon--search",viewBox:"0 0 46.6 46.6",children:e.jsx("path",{d:"M46.1,43.2l-9-8.9a20.9,20.9,0,1,0-2.8,2.8l8.9,9a1.9,1.9,0,0,0,1.4.5,2,2,0,0,0,1.5-.5A2.3,2.3,0,0,0,46.1,43.2ZM4,21a17,17,0,1,1,33.9,0A17.1,17.1,0,0,1,33,32.9h-.1A17,17,0,0,1,4,21Z",fill:"#f68b3c"})})})]})}),e.jsx("ul",{className:"messages-page__list pb-5 px-1 px-md-3 ScrollChatScreen",children:e.jsx("li",{className:"messaging-member messaging-member--new messaging-member--online",children:e.jsxs("div",{className:"messaging-member__wrapper",children:[e.jsx("div",{className:"messaging-member__avatar d-none"}),e.jsx("div",{className:"d-flex justify-content-between py-3",children:e.jsx("span",{className:"messaging-member__name",children:"Bessie Cooper"})}),e.jsx("span",{className:"messaging-member__message mt-2",children:"Yes, I need your help with the project, it need it done by tomorrow 😫"})]})})})]})}),e.jsxs("div",{className:"buttonActions d-flex respoChildFooter align-items-center col-lg-6 justify-content-end ms-auto",children:[e.jsxs("div",{className:"d-flex  align-items-center pointer",onClick:s=>{x(!0)},children:[e.jsx("img",{src:O,className:"img-fluid",alt:""}),e.jsxs("div",{className:"responsiveFontLarge text-danger bolder ms-2 w-100 d-block",children:[" ","Clear Chat"]})]}),e.jsxs(F,{className:"btn btn-primary col-lg-3 fullRoundedCorner bg-transparent responsiveFontLarge purpleText btnTrans bolder",onClick:s=>{Ke()},children:[e.jsx("i",{className:"fa fa-phone purpleText","aria-hidden":"true"})," ","Call"]}),e.jsx(F,{className:"btn btn-primary col-lg-3 fullRoundedCorner bg-transparent responsiveFontLarge purpleText btnTrans bolder",onClick:s=>{We()},children:y?"Unselect":"Select"}),e.jsx("div",{className:` d-flex align-items-center pointer ${y?"d-block":"d-none"}`,onClick:s=>{d(!0)},children:e.jsx("img",{src:O,className:"img-fluid",alt:""})})]})]}),e.jsx("div",{className:"chatMainSection221",children:e.jsx("div",{className:"chat-main",children:e.jsx("div",{className:"ScrollChatScreen d-flex flex-column-reverse",children:ae.slice().reverse().map((s,a)=>us(s,a))})})}),e.jsx("div",{className:"innerTextMain",children:e.jsxs(Ls,{className:"",children:[e.jsx("div",{className:"d-flex align-items-center  ",children:e.jsx("div",{className:`left-inner-addon purpleBorder mainChatApp mainChatPreviewContainer pb-0 input-container required border-bottom-0 d-flex OverFlow ${j.length===0?"d-none":"d-block"}`,children:j&&j.map((s,a)=>e.jsxs("div",{className:"py-4 pt-0 mx-4",children:[e.jsx("div",{children:e.jsx("img",{src:js,className:"img-fluid vector-main pointer",alt:"",onClick:t=>{is(s)}})}),s.type.includes("image")?e.jsx("img",{src:URL.createObjectURL(s),alt:"Preview",height:"100",width:"100",className:"previewMain"}):e.jsx("div",{className:"pdf-preview",children:e.jsx("img",{src:xe,alt:"PDF Preview",height:"100",width:"100",className:"previewMain"})}),e.jsx("br",{})]},a))})}),e.jsxs("div",{className:"left-inner-addon px-3 d-flex align-items-center respoChildFooter",children:[e.jsxs("div",{className:"w-100 pbSt mx-2",children:[e.jsx("label",{htmlFor:"fileInput",className:"fileINP ms-3 pointer",children:e.jsx("span",{role:"img","aria-label":"attachment-icon",className:"purpleText",children:e.jsx("i",{className:"fa fa-paperclip purpleText"})})}),e.jsx("input",{id:"fileInput",type:"file",multiple:!0,accept:".jpg,.jpeg,.png,.pdf",onChange:rs,style:{display:"none"}}),e.jsx(Ee.Control,{type:"text",required:!0,placeholder:"Type your message here",name:"message",value:me,ref:i,onChange:ts,onKeyPress:ns,className:` position-relative formControlStep2 reflink link bg-transparent ${j.length==0?"mainChatPreviewContainer":"mainChatPreview"}`}),e.jsx("small",{className:"responsiveFontLarge  d-none text-danger error_message ms-2 error",children:"Type your message here"})]}),e.jsxs("div",{className:"d-flex w-100 mx-2",children:[e.jsxs(Ee.Select,{onChange:qe,className:"aa",children:[e.jsx("option",{value:"",children:"Select an option"}),re.map((s,a)=>e.jsx("option",{value:(s==null?void 0:s.title)+"&&"+(s==null?void 0:s.description),children:s==null?void 0:s.title},a))]}),e.jsxs("div",{className:"d-flex",children:[e.jsx("div",{className:"rounded-5 sendBtn1 w-auto px-3 mx-1 pointer purpleBackground ",onClick:ss,children:e.jsx("i",{className:"fa-solid fa-bell text-white "})}),e.jsx("div",{className:"rounded-5 sendBtn1 w-auto px-3 mx-1 me-0 purpleBackground ",onClick:_e,children:e.jsx("i",{className:"fa-solid fa-paper-plane text-white "})})]})]})]})]})})]})]}),e.jsxs(B,{show:h,onHide:s=>{d(!1)},centered:!0,children:[e.jsx(B.Body,{children:"Are you sure you want to delete this chat?"}),e.jsx(B.Footer,{className:"",children:e.jsxs("div",{className:"d-flex ms-auto ",children:[e.jsx(F,{className:"purpleBorder purpleText",variant:"outline-primary",onClick:s=>{Qe()},children:"Cancel"}),e.jsx(F,{className:"purpleBackground border-0",onClick:Me,children:"Delete"})]})})]}),e.jsxs(B,{show:p,onHide:s=>{Se()},centered:!0,children:[e.jsx(B.Body,{children:"Are you sure you want to delete this chat?"}),e.jsx(B.Footer,{className:"",children:e.jsxs("div",{className:"d-flex ms-auto ",children:[e.jsx(F,{className:"purpleBorder purpleText",variant:"outline-primary",onClick:s=>{Se()},children:"Cancel"}),e.jsx(F,{className:"purpleBackground border-0",onClick:Me,children:"Delete"})]})})]}),e.jsxs(B,{show:u,onHide:s=>{x(!1)},centered:!0,children:[e.jsx(B.Body,{className:"text-black fs-6 mt-4",children:"Are you sure you want to Clear this chat?"}),e.jsx(B.Footer,{className:"",children:e.jsxs("div",{className:"d-flex ms-auto ",children:[e.jsx(F,{className:"purpleBorder purpleText",variant:"outline-primary",onClick:s=>{x(!1)},children:"Cancel"}),e.jsx(F,{className:"purpleBackground border-0",onClick:s=>{Xe()},children:"Clear"})]})})]})]})})})})]})})}export{Va as default};
