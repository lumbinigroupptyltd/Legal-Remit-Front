import{r as s,j as e,ao as B,b as f}from"./index-CZLZpOaH.js";import{P as H}from"./PageHeader-6CScOhCz.js";import{C as h}from"./common.constants-BAKO8LyS.js";import{L as T}from"./Loader-BUXOLHKX.js";import{M as I}from"./ModalComponentPopup-D_u4dGYC.js";import{M as U}from"./ModalComponent-Can9sfzz.js";import{N as Y}from"./NoRecordWithAddBtn-DmeiGlWH.js";import{h as g}from"./moment-CAEcp8GN.js";import{d as q,a as z}from"./Apple-DHOZrOuh.js";import{d as S,a as W}from"./Android-xQs9HrEm.js";import{F as X}from"./Form-ExWjSL5Y.js";import{T as G}from"./Tooltip-DYflzQT5.js";import{F as J}from"./FormControlLabel-ClmJ5AOu.js";import{S as K}from"./Switch-DhwBSzVW.js";import{P as O}from"./Pagination-DBwceeB_.js";import"./DashbordData-n50t2wKP.js";import"./Modal-CsKgPfCY.js";import"./ThemeProvider-BovkV_tw.js";import"./listen-DOhMskc_.js";import"./useWindow-BRfE8g8U.js";import"./useEventCallback-BAoW58St.js";import"./useMergedRefs-CC2NoeT3.js";import"./useWillUnmount-B2faAFH4.js";import"./TransitionWrapper-hzIxZzZF.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./DataKey-COGXBUcQ.js";import"./ImperativeTransition-r3w4KPGy.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./NoopTransition-DCT8I71y.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./Fade-C3nPY4By.js";import"./CloseButton-BaMgJgcS.js";import"./index-tz1zYP65.js";import"./divWithClassName-BYsY4_Vt.js";import"./createSvgIcon-BXb30exD.js";import"./createSvgIcon-CvFBLNCx.js";import"./emotion-react.browser.esm-CGVHAuF1.js";import"./hoist-non-react-statics.cjs-B8tJyPPZ.js";import"./emotion-is-prop-valid.esm-BquxX9m-.js";import"./ownerWindow-B35kT-qP.js";import"./useId-BCOK0MJf.js";import"./useIsFocusVisible-CYy9vjXn.js";import"./useControlled-CSwFU9cf.js";import"./ElementChildren-DV238mrs.js";import"./Col-BflThe67.js";import"./Portal-BnZs0see.js";import"./isHostComponent-D6l1mxjA.js";import"./createPopper-iTKh2FQm.js";import"./useFormControl-CzMDRFSC.js";import"./ButtonBase-Dp3TaUiU.js";import"./assertThisInitialized-B9jnkVVz.js";import"./Typography-BcWyJy-x.js";import"./styled-BOA1IAlI.js";function et(){const[b,n]=s.useState(!1),[N,v]=s.useState(!1),[i,w]=s.useState(h.DefaultPageSize),[d,C]=s.useState(""),[c,m]=s.useState(1),[y,P]=s.useState(0),[p,A]=s.useState(0),[r,D]=s.useState([]),[k,x]=s.useState(!1);s.useState(0);const[_,u]=s.useState(!1),j=async t=>{var a;n(!0),n(d==="");try{const o={pageindex:c,pagesize:i,searchdata:d},l=await f.post(h.BASE_URL+"/getallagents",o);l.data.status===!0&&(D(l.data.data),P((a=l.data)==null?void 0:a.totalPageCount),A(l.data.recordCount),u(l.data.recordCount==0?d!="":!0))}catch(o){console.log(o)}n(!1)},M=t=>{w(Number(t.target.value)),m(1)},E=(t,a)=>{a==c,m(a)},F=()=>{x(!1)},R=async()=>{x(!1),n(!0)},L=t=>{const a=t.target.value;C(a),m(1),u(r.length>0||a.trim()!=="")},$=async(t,a)=>{try{n(!0);const o=new FormData;o.append("userId",t),o.append("isApproved",a),(await f.post(h.BASE_URL+"/agentrequestappovedbyadmin",o)).data.status==!0&&j()}catch(o){console.log(o)}n(!1)};return s.useEffect(()=>{j()},[i,c,d]),e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:[b==!0?e.jsx(T,{}):"",e.jsx("div",{children:e.jsx("div",{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx(H,{HeaderText:"Agents",Breadcrumb:[{name:"Dashboard",navigate:""},{name:"IoT Dashboard",navigate:""}]}),e.jsx("div",{className:"row clearfix",children:e.jsx("div",{className:"col-lg-12 col-md-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"body project_report",children:e.jsxs("div",{className:"table-responsive",children:[e.jsx("div",{className:"row"}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center respoChildFooter ",children:[r&&r.length>0&&e.jsxs("div",{className:"filter-row mb-2 ",children:["Show Entries    ",e.jsx("div",{className:"d-flex align-items-center pbSt",children:e.jsx(X.Select,{name:"tbl_meeting_length",onChange:M,value:i,"aria-controls":"tbl_meeting",className:"form-control-sm py-2 h-auto  ps-3 mt-1",children:h.show_rows.map(t=>e.jsx("option",{value:t,children:t}))})})]}),_&&e.jsxs("div",{className:"form-group  d-flex align-items-center pbSt",children:[e.jsx("label",{className:"fw-bolder mb-0",children:"Search: "}),"   ",e.jsx("input",{type:"search",id:"search",className:"form-control p-0 ps-3 pe-3",placeholder:"",onChange:L})]})]}),r&&r.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{className:"table m-b-0 ",children:[e.jsx("thead",{className:"thead-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Email/ID"}),e.jsx("th",{children:"Registered"}),e.jsx("th",{children:"Approved"})]})}),r&&r.map(t=>{const o=g(t.createdAt).fromNow();return e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("div",{className:"mt-2 d-flex",children:[(t==null?void 0:t.client)==="web"?e.jsx(S,{className:"text-black"}):(t==null?void 0:t.client)==="android"?e.jsx(W,{className:"text-black"}):(t==null?void 0:t.client)==="iphone"?e.jsx(q,{className:"text-black"}):e.jsx(S,{className:"text-black"})," ",e.jsx(B,{className:"d-flex align-items-center w-75",to:{pathname:"/agent-details",state:t.id},style:{textDecoration:"none"},children:e.jsx("div",{className:"border-0",children:t.fName+" "+t.lName})})," "," ",e.jsx(G,{title:o,placement:"top",className:"ms-auto",children:e.jsx(z,{className:"text-black",color:"black"})})]}),e.jsx("td",{className:"project-title border-0",children:t.phone==""?"-":t.phone}),e.jsx("td",{className:"project-title border-0",children:e.jsx("h6",{children:e.jsx("a",{children:t.email==""?"-":t.email})})}),e.jsx("td",{children:g(t.createdAt).format("DD/MM/YYYY HH:MM:SS")}),e.jsx("td",{className:"project-title border-0",children:e.jsx(J,{control:e.jsx(K,{checked:t.appovedByAdmin,onChange:l=>$(t.id,l.target.checked)})})})]})})})]})}):e.jsx(Y,{}),r&&r.length>0&&e.jsxs("div",{className:"d-flex paginationBetween pt-4 mr-4 respoChildFooter",children:[e.jsx("div",{className:"filter-row pt-2",children:p>0?`Showing ${(c-1)*i+1} to ${c*i>p?p:c*i} of ${p} entries`:"No records Available"}),e.jsx(O,{count:y,className:"pbDowSt pbSt",page:c,onChange:E,color:"secondary",shape:"rounded"})]}),e.jsx(U,{show:N,title11:"Deleted successfully",onHide:()=>v(!1)}),e.jsx(I,{show:k,title1:"Are you sure want to delete this record ?",cancle:t=>F(),SavePr:()=>R()})]})})})})})]})})})]})})}export{et as default};
