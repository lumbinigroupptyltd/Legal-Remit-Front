import{r as o,y as T,j as e,b as u}from"./index-CZLZpOaH.js";import{T as K,a as b}from"./Tabs-CzjSRZ0v.js";import{C as c}from"./common.constants-BAKO8LyS.js";import{M as V}from"./ModalComponent-Can9sfzz.js";import{C as v}from"./Container-D9at3elR.js";import{R as h}from"./Row-q1SNRrbp.js";import{F as r}from"./Form-ExWjSL5Y.js";import{C as p}from"./Col-BflThe67.js";import"./index-tz1zYP65.js";import"./hook-BunR6YGu.js";import"./SSRProvider-B1aayNdq.js";import"./Nav-sK5urYj2.js";import"./DataKey-COGXBUcQ.js";import"./NavContext-iw-sc-NQ.js";import"./useMergedRefs-CC2NoeT3.js";import"./useEventCallback-BAoW58St.js";import"./Button-wtvkehlk.js";import"./NoopTransition-DCT8I71y.js";import"./ThemeProvider-BovkV_tw.js";import"./NavbarContext-BEl9KYy_.js";import"./CardHeaderContext-B_y6kemd.js";import"./Anchor-BcSSV2GN.js";import"./useIsomorphicEffect-Dy1EPX0O.js";import"./Fade-C3nPY4By.js";import"./Transition-yovTjeQN.js";import"./TransitionGroupContext-QmIPOmoK.js";import"./TransitionWrapper-hzIxZzZF.js";import"./listen-DOhMskc_.js";import"./ElementChildren-DV238mrs.js";import"./Modal-CsKgPfCY.js";import"./useWindow-BRfE8g8U.js";import"./useWillUnmount-B2faAFH4.js";import"./useMounted-_Ax2eNue.js";import"./usePrevious-DSHR52O9.js";import"./ImperativeTransition-r3w4KPGy.js";import"./removeClass-loOrDRrx.js";import"./hasClass-D5ZjVvBY.js";import"./CloseButton-BaMgJgcS.js";import"./divWithClassName-BYsY4_Vt.js";function Ft(x){o.useState("pay1"),o.useState("payinner1"),o.useState("payinners1");const[g,A]=o.useState([]),[N,w]=o.useState([]),[L,H]=o.useState(""),[n,z]=o.useState(x.location.state);o.useState(""),o.useState(""),o.useState("");const[U,Z]=o.useState(),[k,q]=o.useState("");o.useState();const[E,J]=o.useState("");o.useState("");const[m,y]=o.useState(!1),[B,f]=o.useState(!1),[a,d]=o.useState({id:"",countryId:"",nationality:"",authorityName:""}),l=T(),D=async s=>{try{const t=await u.get(c.BASE_URL+"/getallnationality");w(t.data.data)}catch(t){console.log(t)}},F=s=>{const{name:t,value:i}=s.target;d({...a,[t]:Number(i)})},G=async s=>{const{name:t,value:i}=s.target;d({...a,[t]:i})},S=s=>{const{name:t,value:i}=s.target;if(t=="authorityName"){const M=s.target.value.replace(/[^A-Za-z\s]/g,"");d({...a,[t]:M})}else d({...a,[t]:i})},R=async s=>{if(n)try{const t={id:n,countryId:a.countryId,nationality:"",authorityName:a.authorityName},i=await u.post(c.BASE_URL+"/updateissueauthority",t);i.data.status===!0?l("/id-issuing-authority"):i.data.status==="error"&&l("/create-id-issuing-authority")}catch(t){console.log(t)}else try{if(a.authorityName==""||a.authorityName==null)y(!0);else if(a.countryId==""||a.countryId==null)y(!0);else{const t={countryId:a.countryId,nationality:"",authorityName:a.authorityName},i=await u.post(c.BASE_URL+"/addissueauthority",t);i.data.status===!0?l("/id-issuing-authority"):i.data.statuscode===200&&f(!0)}}catch(t){console.log(t)}},W=async s=>{if(n)try{const t={id:n,countryId:"",nationality:a.nationality,authorityName:a.authorityName},i=await u.post(c.BASE_URL+"/updateissueauthority",t);i.data.status===!0?l("/id-issuing-authority"):i.data.status==="error"&&l("/create-id-issuing-authority")}catch(t){console.log(t)}else try{if(a.nationality==""||a.nationality==null)y(!0);else if(a.authorityName==""||a.authorityName==null)y(!0);else{const t={countryId:a.countryId,nationality:a.nationality,authorityName:a.authorityName},i=await u.post(c.BASE_URL+"/addissueauthority",t);i.data.status===!0?l("/id-issuing-authority"):i.data.status}}catch(t){console.log(t)}},_=async s=>{try{const t=await u.get(c.BASE_URL+"/getallcountries");t.data.status===!0?A(t.data.data):t.data.status==="error"&&console.log(t.data.message)}catch(t){console.log(t)}},[I,j]=o.useState("CountryWise"),P=async()=>{if(n)try{const s={id:x.location.state},t=await u.post(c.BASE_URL+"/getissueauthoritybyid",s);t.data.status===!0?(t.data.data.countryId==0?j("NationalityWise"):j("CountryWise"),d(t.data.data)):t.data.status==="error"&&console.log(t.data.message)}catch(s){console.log(s)}};o.useEffect(()=>{_(),D(),P()},[L,U,k,E]);const C=()=>{l("/id-issuing-authority")};return e.jsxs(e.Fragment,{children:[e.jsx("section",{onClick:()=>{document.body.classList.remove("offcanvas-active")},children:e.jsx(v,{children:e.jsx("div",{className:"mainBoxService mt-5",children:e.jsxs("div",{className:"serviceHeader bg-white text-white rounded-2",children:[e.jsxs("h3",{className:"text-black px-4 mx-2  normal  border-bottom  pt-4 pb-3 pb-2 responsiveFontLargeMedium ",children:[n?"Update":"Create"," Id Issuing Authority"]}),e.jsx("div",{className:"mainBoxService-Body bg-white text-black pe-4 ps-4 py-4",children:e.jsx(v,{className:"",children:e.jsxs(K,{defaultActiveKey:I,id:"justify-tab-example",className:"mb-3",justify:!0,children:[e.jsxs(b,{eventKey:"CountryWise",title:"CountryWise",children:[e.jsxs(h,{className:"mb-4",children:[e.jsxs(r.Group,{as:p,controlId:"formGridState",children:[e.jsx(r.Label,{children:"Country"}),e.jsxs(r.Select,{onChange:F,id:"selectCountries",name:"countryId",value:a.countryId,children:[e.jsx("option",{value:"",children:"Select Country"}),g&&g.map((s,t)=>e.jsx("option",{value:s.id,children:s.name}))]})]}),m&&!a.countryId&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Select Country "})]}),e.jsxs(h,{className:"mb-4",children:[e.jsxs(r.Group,{as:p,controlId:"formGridCity",children:[e.jsx(r.Label,{children:"Id Issuing Authority"}),e.jsx(r.Control,{type:"text",id:"IdIssuingValue",name:"authorityName",onChange:S,value:a.authorityName})]}),m&&!a.authorityName&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Issuing Authority Name  "})]}),e.jsxs("div",{className:"row d-flex m-auto pt-3 border-top",children:[e.jsxs("a",{className:"purpleBackground btn btn-default text-white bolder d-block w-auto",onClick:R,children:[" ",n?"Update":"Create"]}),"   ",e.jsx("a",{className:"btn btn-default ms-3 text-black bolder border 2 w-auto",onClick:C,children:" Cancel"})]})]}),e.jsxs(b,{eventKey:"NationalityWise",title:"NationalityWise",children:[e.jsxs(h,{className:"mb-4",children:[e.jsxs(r.Group,{as:p,controlId:"formGridState",children:[e.jsx(r.Label,{children:"Nationality"}),e.jsxs(r.Select,{id:"nationSelect",onChange:G,name:"nationality",value:a.nationality,children:[e.jsx("option",{value:"",children:"Select Nationality"}),N&&N.map((s,t)=>e.jsxs("option",{value:s.nationality,children:[" ",s.nationality]},t))]})]}),m&&!a.nationality&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Select Nationality "})]}),e.jsxs(h,{className:"mb-4",children:[e.jsxs(r.Group,{as:p,controlId:"formGridCity",children:[e.jsx(r.Label,{children:"Id Issuing Authority"}),e.jsx(r.Control,{type:"text",id:"IdIssuingValue",name:"authorityName",onChange:S,value:a.authorityName})]}),m&&!a.authorityName&&e.jsx("small",{className:"responsiveFontLarge  text-danger",children:"Please Enter Id Issuing Authority "})]}),e.jsxs("div",{className:"row d-flex m-auto mt-3",children:[e.jsxs("a",{className:"purpleBackground btn btn-default text-white bolder d-block w-auto",onClick:W,children:[" ",n?"Update":"Create"]}),"    ",e.jsx("a",{className:"btn btn-default text-black bolder border 2 w-auto",onClick:C,children:" Cancel"})]})]})]},I)})})]})})})}),e.jsx(V,{show:B,title11:"Issue authority already exist with this nationality",onHide:()=>f(!1)})]})}export{Ft as default};
